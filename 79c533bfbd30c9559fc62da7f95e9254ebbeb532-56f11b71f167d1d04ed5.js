(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{H2cB:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return v}));var _,r,a=n("o0o1"),i=n.n(a),s=(n("wcNg"),n("HaE+")),S=n("2qZ/"),E="undefined"!=typeof __VERSION__?__VERSION__:"beta",R="https://unpkg.com/@loaders.gl/textures@"+E+"/dist/libs/basis_encoder.wasm",o="https://unpkg.com/@loaders.gl/textures@"+E+"/dist/libs/basis_encoder.js";function c(t){return u.apply(this,arguments)}function u(){return(u=Object(s.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.modules||{}).basis){t.next=3;break}return t.abrupt("return",n.basis);case 3:return _=_||A(e),t.next=6,_;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(t){return C.apply(this,arguments)}function C(){return(C=Object(s.a)(i.a.mark((function t(e){var n,_,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,_=null,t.t0=Promise,t.next=5,Object(S.a)("basis_transcoder.js","textures",e);case 5:return t.t1=t.sent,t.next=8,Object(S.a)("basis_transcoder.wasm","textures",e);case 8:return t.t2=t.sent,t.t3=[t.t1,t.t2],t.next=12,t.t0.all.call(t.t0,t.t3);case 12:return r=t.sent,n=r[0],_=r[1],n=n||globalThis.BASIS,t.next=18,f(n,_);case 18:return t.abrupt("return",t.sent);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t,e){var n={};return e&&(n.wasmBinary=e),new Promise((function(e){t(n).then((function(t){var n=t.BasisFile;(0,t.initializeBasis)(),e({BasisFile:n})}))}))}function P(t){return l.apply(this,arguments)}function l(){return(l=Object(s.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.modules||{}).basisEncoder){t.next=3;break}return t.abrupt("return",n.basisEncoder);case 3:return r=r||T(e),t.next=6,r;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(i.a.mark((function t(e){var n,_,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,_=null,t.t0=Promise,t.next=5,Object(S.a)(o,"textures",e);case 5:return t.t1=t.sent,t.next=8,Object(S.a)(R,"textures",e);case 8:return t.t2=t.sent,t.t3=[t.t1,t.t2],t.next=12,t.t0.all.call(t.t0,t.t3);case 12:return r=t.sent,n=r[0],_=r[1],n=n||globalThis.BASIS,t.next=18,O(n,_);case 18:return t.abrupt("return",t.sent);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t,e){var n={};return e&&(n.wasmBinary=e),new Promise((function(e){t(n).then((function(t){var n=t.BasisFile,_=t.KTX2File,r=t.initializeBasis,a=t.BasisEncoder;r(),e({BasisFile:n,KTX2File:_,BasisEncoder:a})}))}))}var p=n("P0NF"),B=n("vHGi"),G=n("Yf91"),x={etc1:{basisFormat:0,compressed:!0,format:p.a.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:p.a.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:p.a.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:p.a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:p.a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:p.a.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function d(t,e){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(i.a.mark((function t(e,n){var _,r,a,s,S,E;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("auto"!==n.basis.containerFormat){t.next=11;break}if(!Object(G.a)(e)){t.next=6;break}return t.next=4,P(n);case 4:return _=t.sent,t.abrupt("return",M(_.KTX2File,e,n));case 6:return t.next=8,c(n);case 8:return r=t.sent,a=r.BasisFile,t.abrupt("return",h(a,e,n));case 11:t.t0=n.basis.module,t.next="encoder"===t.t0?14:(t.t0,22);break;case 14:return t.next=16,P(n);case 16:s=t.sent,t.t1=n.basis.containerFormat,t.next="ktx2"===t.t1?20:(t.t1,21);break;case 20:return t.abrupt("return",M(s.KTX2File,e,n));case 21:return t.abrupt("return",h(s.BasisFile,e,n));case 22:return t.next=24,c(n);case 24:return S=t.sent,E=S.BasisFile,t.abrupt("return",h(E,e,n));case 27:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t,e,n){var _=new t(new Uint8Array(e));try{if(!_.startTranscoding())throw new Error("Failed to start basis transcoding");for(var r=_.getNumImages(),a=[],i=0;i<r;i++){for(var s=_.getNumLevels(i),S=[],E=0;E<s;E++)S.push(m(_,i,E,n));a.push(S)}return a}finally{_.close(),_.delete()}}function m(t,e,n,_){var r=t.getImageWidth(e,n),a=t.getImageHeight(e,n),i=t.getHasAlpha(),s=U(_,i),S=s.compressed,E=s.format,R=s.basisFormat,o=t.getImageTranscodedSizeInBytes(e,n,R),c=new Uint8Array(o);if(!t.transcodeImage(c,e,n,R,0,0))throw new Error("failed to start Basis transcoding");return{width:r,height:a,data:c,compressed:S,format:E,hasAlpha:i}}function M(t,e,n){var _=new t(new Uint8Array(e));try{if(!_.startTranscoding())throw new Error("failed to start KTX2 transcoding");for(var r=_.getLevels(),a=[],i=0;i<r;i++){a.push(H(_,i,n));break}return[a]}finally{_.close(),_.delete()}}function H(t,e,n){var _=t.getImageLevelInfo(e,0,0),r=_.alphaFlag,a=_.height,i=_.width,s=U(n,r),S=s.compressed,E=s.format,R=s.basisFormat,o=t.getImageTranscodedSizeInBytes(e,0,0,R),c=new Uint8Array(o);if(!t.transcodeImage(c,e,0,0,R,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:i,height:a,data:c,compressed:S,hasAlpha:r,format:E}}function U(t,e){var n=t&&t.basis&&t.basis.format;return"auto"===n&&(n=v()),"object"==typeof n&&(n=e?n.alpha:n.noAlpha),n=n.toLowerCase(),x[n]}function v(){var t=Object(B.a)();return t.has("astc")?"astc-4x4":t.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:t.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:t.has("etc1")?"etc1":t.has("etc2")?"etc2":"rgb565"}},Nzdv:function(t,e,n){"use strict";n.d(e,"a",(function(){return E}));var _=n("rePB"),r=n("UVtH"),a=n("H2cB");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(t);e&&(_=_.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,_)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(_.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var S={name:"Basis",id:"basis",module:"textures",version:r.a,worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},E=s(s({},S),{},{parse:a.a})},P0NF:function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));var _={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919}},UVtH:function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));var _="undefined"!=typeof __VERSION__?__VERSION__:"latest"},Yf91:function(t,e,n){"use strict";n.d(e,"a",(function(){return S})),n.d(e,"b",(function(){return E}));var _=n("pkf7"),r=n("pPDA"),a=n("P0NF"),i={131:a.a.COMPRESSED_RGB_S3TC_DXT1_EXT,132:a.a.COMPRESSED_SRGB_S3TC_DXT1_EXT,133:a.a.COMPRESSED_RGBA_S3TC_DXT1_EXT,134:a.a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,135:a.a.COMPRESSED_RGBA_S3TC_DXT3_EXT,136:a.a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,137:a.a.COMPRESSED_RGBA_S3TC_DXT5_EXT,138:a.a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,139:a.a.COMPRESSED_RED_RGTC1_EXT,140:a.a.COMPRESSED_SIGNED_RED_RGTC1_EXT,141:a.a.COMPRESSED_RED_GREEN_RGTC2_EXT,142:a.a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT,147:a.a.COMPRESSED_RGB8_ETC2,148:a.a.COMPRESSED_SRGB8_ETC2,149:a.a.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,150:a.a.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,151:a.a.COMPRESSED_RGBA8_ETC2_EAC,152:a.a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,153:a.a.COMPRESSED_R11_EAC,154:a.a.COMPRESSED_SIGNED_R11_EAC,155:a.a.COMPRESSED_RG11_EAC,156:a.a.COMPRESSED_SIGNED_RG11_EAC,157:a.a.COMPRESSED_RGBA_ASTC_4x4_KHR,158:a.a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,159:a.a.COMPRESSED_RGBA_ASTC_5x4_KHR,160:a.a.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR,161:a.a.COMPRESSED_RGBA_ASTC_5x5_KHR,162:a.a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,163:a.a.COMPRESSED_RGBA_ASTC_6x5_KHR,164:a.a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,165:a.a.COMPRESSED_RGBA_ASTC_6x6_KHR,166:a.a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,167:a.a.COMPRESSED_RGBA_ASTC_8x5_KHR,168:a.a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,169:a.a.COMPRESSED_RGBA_ASTC_8x6_KHR,170:a.a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,171:a.a.COMPRESSED_RGBA_ASTC_8x8_KHR,172:a.a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,173:a.a.COMPRESSED_RGBA_ASTC_10x5_KHR,174:a.a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,175:a.a.COMPRESSED_RGBA_ASTC_10x6_KHR,176:a.a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,177:a.a.COMPRESSED_RGBA_ASTC_10x8_KHR,178:a.a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,179:a.a.COMPRESSED_RGBA_ASTC_10x10_KHR,180:a.a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,181:a.a.COMPRESSED_RGBA_ASTC_12x10_KHR,182:a.a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,183:a.a.COMPRESSED_RGBA_ASTC_12x12_KHR,184:a.a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR,1000054e3:a.a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,1000054001:a.a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,1000066e3:a.a.COMPRESSED_RGBA_ASTC_4x4_KHR,1000066001:a.a.COMPRESSED_RGBA_ASTC_5x4_KHR,1000066002:a.a.COMPRESSED_RGBA_ASTC_5x5_KHR,1000066003:a.a.COMPRESSED_RGBA_ASTC_6x5_KHR,1000066004:a.a.COMPRESSED_RGBA_ASTC_6x6_KHR,1000066005:a.a.COMPRESSED_RGBA_ASTC_8x5_KHR,1000066006:a.a.COMPRESSED_RGBA_ASTC_8x6_KHR,1000066007:a.a.COMPRESSED_RGBA_ASTC_8x8_KHR,1000066008:a.a.COMPRESSED_RGBA_ASTC_10x5_KHR,1000066009:a.a.COMPRESSED_RGBA_ASTC_10x6_KHR,1000066010:a.a.COMPRESSED_RGBA_ASTC_10x8_KHR,1000066011:a.a.COMPRESSED_RGBA_ASTC_10x10_KHR,1000066012:a.a.COMPRESSED_RGBA_ASTC_12x10_KHR,1000066013:a.a.COMPRESSED_RGBA_ASTC_12x12_KHR};var s=[171,75,84,88,32,50,48,187,13,10,26,10];function S(t){var e=new Uint8Array(t);return!(e.byteLength<s.length||e[0]!==s[0]||e[1]!==s[1]||e[2]!==s[2]||e[3]!==s[3]||e[4]!==s[4]||e[5]!==s[5]||e[6]!==s[6]||e[7]!==s[7]||e[8]!==s[8]||e[9]!==s[9]||e[10]!==s[10]||e[11]!==s[11])}function E(t){var e,n=new Uint8Array(t),a=Object(_.a)(n),s=Math.max(1,a.levels.length),S=a.pixelWidth,E=a.pixelHeight,R=(e=a.vkFormat,i[e]);return Object(r.a)(a.levels,{mipMapLevels:s,width:S,height:E,sizeFunction:function(t){return t.uncompressedByteLength},internalFormat:R})}},pPDA:function(t,e,n){"use strict";function _(t,e){for(var n=new Array(e.mipMapLevels),_=e.width,i=e.height,s=0,S=0;S<e.mipMapLevels;++S){var E=a(e,_,i,t,S),R=r(t,S,s,E);n[S]={compressed:!0,format:e.internalFormat,data:R,width:_,height:i,levelSize:E},_=Math.max(1,_>>1),i=Math.max(1,i>>1),s+=E}return n}function r(t,e,n,_){return Array.isArray(t)?t[e].levelData:new Uint8Array(t.buffer,t.byteOffset+n,_)}function a(t,e,n,_,r){return Array.isArray(_)?t.sizeFunction(_[r]):t.sizeFunction(e,n)}n.d(e,"a",(function(){return _}))},pkf7:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return P}));var _=n("vuIU"),r=n("1OyB");new Uint8Array([0]);var a,i,s,S,E,R,o,c,u=[171,75,84,88,32,50,48,187,13,10,26,10];!function(t){t[t.NONE=0]="NONE",t[t.BASISLZ=1]="BASISLZ",t[t.ZSTD=2]="ZSTD",t[t.ZLIB=3]="ZLIB"}(a||(a={})),function(t){t[t.BASICFORMAT=0]="BASICFORMAT"}(i||(i={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.ETC1S=163]="ETC1S",t[t.UASTC=166]="UASTC"}(s||(s={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.SRGB=1]="SRGB"}(S||(S={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.LINEAR=1]="LINEAR",t[t.SRGB=2]="SRGB",t[t.ITU=3]="ITU",t[t.NTSC=4]="NTSC",t[t.SLOG=5]="SLOG",t[t.SLOG2=6]="SLOG2"}(E||(E={})),function(t){t[t.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",t[t.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(R||(R={})),function(t){t[t.RGB=0]="RGB",t[t.RRR=3]="RRR",t[t.GGG=4]="GGG",t[t.AAA=15]="AAA"}(o||(o={})),function(t){t[t.RGB=0]="RGB",t[t.RGBA=3]="RGBA",t[t.RRR=4]="RRR",t[t.RRRG=5]="RRRG"}(c||(c={}));var A=function t(){Object(r.a)(this,t),this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=a.NONE,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:i.BASICFORMAT,versionNumber:2,descriptorBlockSize:40,colorModel:s.UNSPECIFIED,colorPrimaries:S.SRGB,transferFunction:S.SRGB,flags:R.ALPHA_STRAIGHT,texelBlockDimension:{x:4,y:4,z:1,w:1},bytesPlane:[],samples:[]}],this.keyValue={},this.globalData=null},C=function(){function t(e,n,_,a){Object(r.a)(this,t),this._dataView=new DataView(e.buffer,e.byteOffset+n,_),this._littleEndian=a,this._offset=0}return Object(_.a)(t,[{key:"_nextUint8",value:function(){var t=this._dataView.getUint8(this._offset);return this._offset+=1,t}},{key:"_nextUint16",value:function(){var t=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,t}},{key:"_nextUint32",value:function(){var t=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,t}},{key:"_nextUint64",value:function(){var t=this._dataView.getUint32(this._offset,this._littleEndian)+Math.pow(2,32)*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,t}},{key:"_skip",value:function(t){return this._offset+=t,this}},{key:"_scan",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._offset,_=0;this._dataView.getUint8(this._offset)!==e&&_<t;)_++,this._offset++;return _<t&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+n,_)}}]),t}();function f(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):t.from(e).toString("utf8")}function P(t){var e=new Uint8Array(t.buffer,t.byteOffset,u.length);if(e[0]!==u[0]||e[1]!==u[1]||e[2]!==u[2]||e[3]!==u[3]||e[4]!==u[4]||e[5]!==u[5]||e[6]!==u[6]||e[7]!==u[7]||e[8]!==u[8]||e[9]!==u[9]||e[10]!==u[10]||e[11]!==u[11])throw new Error("Missing KTX 2.0 identifier.");var n=new A,_=17*Uint32Array.BYTES_PER_ELEMENT,r=new C(t,u.length,_,!0);n.vkFormat=r._nextUint32(),n.typeSize=r._nextUint32(),n.pixelWidth=r._nextUint32(),n.pixelHeight=r._nextUint32(),n.pixelDepth=r._nextUint32(),n.layerCount=r._nextUint32(),n.faceCount=r._nextUint32();var a=r._nextUint32();n.supercompressionScheme=r._nextUint32();for(var i=r._nextUint32(),s=r._nextUint32(),S=r._nextUint32(),E=r._nextUint32(),R=r._nextUint64(),o=r._nextUint64(),c=new C(t,u.length+_,3*a*8,!0),P=0;P<a;P++)n.levels.push({levelData:new Uint8Array(t.buffer,t.byteOffset+c._nextUint64(),c._nextUint64()),uncompressedByteLength:c._nextUint64()});for(var l=new C(t,i,s,!0),T={vendorId:l._skip(4)._nextUint16(),descriptorType:l._nextUint16(),versionNumber:l._nextUint16(),descriptorBlockSize:l._nextUint16(),colorModel:l._nextUint8(),colorPrimaries:l._nextUint8(),transferFunction:l._nextUint8(),flags:l._nextUint8(),texelBlockDimension:{x:l._nextUint8()+1,y:l._nextUint8()+1,z:l._nextUint8()+1,w:l._nextUint8()+1},bytesPlane:[l._nextUint8(),l._nextUint8(),l._nextUint8(),l._nextUint8(),l._nextUint8(),l._nextUint8(),l._nextUint8(),l._nextUint8()],samples:[]},D=(T.descriptorBlockSize/4-6)/4,O=0;O<D;O++)T.samples[O]={bitOffset:l._nextUint16(),bitLength:l._nextUint8(),channelID:l._nextUint8(),samplePosition:[l._nextUint8(),l._nextUint8(),l._nextUint8(),l._nextUint8()],sampleLower:l._nextUint32(),sampleUpper:l._nextUint32()};n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(T);for(var p=new C(t,S,E,!0);p._offset<E;){var B=p._nextUint32(),G=p._scan(B),x=f(G),d=p._scan(B-G.byteLength);n.keyValue[x]=x.match(/^ktx/i)?f(d):d,B%4&&p._skip(4-B%4)}if(o<=0)return n;for(var b=new C(t,R,o,!0),h=b._nextUint16(),m=b._nextUint16(),M=b._nextUint32(),H=b._nextUint32(),U=b._nextUint32(),v=b._nextUint32(),y=[],g=0;g<a;g++)y.push({imageFlags:b._nextUint32(),rgbSliceByteOffset:b._nextUint32(),rgbSliceByteLength:b._nextUint32(),alphaSliceByteOffset:b._nextUint32(),alphaSliceByteLength:b._nextUint32()});var w=R+b._offset,L=w+M,X=L+H,K=X+U,I=new Uint8Array(t.buffer,t.byteOffset+w,M),F=new Uint8Array(t.buffer,t.byteOffset+L,H),N=new Uint8Array(t.buffer,t.byteOffset+X,U),k=new Uint8Array(t.buffer,t.byteOffset+K,v);return n.globalData={endpointCount:h,selectorCount:m,imageDescs:y,endpointsData:I,selectorsData:F,tablesData:N,extendedData:k},n}}).call(this,n("HDXh").Buffer)},vHGi:function(t,e,n){"use strict";function _(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var _=0;return function(){return _>=t.length?{done:!0}:{done:!1,value:t[_++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,_=new Array(e);n<e;n++)_[n]=t[n];return _}n.d(e,"a",(function(){return S}));var a=["","WEBKIT_","MOZ_"],i={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"},s=null;function S(t){if(!s){t=t||function(){try{return document.createElement("canvas").getContext("webgl")}catch(t){return null}}()||void 0,s=new Set;for(var e,n=_(a);!(e=n()).done;){var r=e.value;for(var S in i)if(t&&t.getExtension(""+r+S)){var E=i[S];s.add(E)}}}return s}}}]);