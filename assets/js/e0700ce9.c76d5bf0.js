"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[9038],{42833:(e,r,l)=>{l.r(r),l.d(r,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>a});var s=l(85893),n=l(11151);const t={},i="I3S Server",o={id:"modules/tile-converter/cli-reference/i3s-server",title:"I3S Server",description:"I3S Server is a NodeJS HTTP service built on top of Express. It can serve I3S data from output path of tile-converter or from SLPK file container.",source:"@site/../docs/modules/tile-converter/cli-reference/i3s-server.md",sourceDirName:"modules/tile-converter/cli-reference",slug:"/modules/tile-converter/cli-reference/i3s-server",permalink:"/docs/modules/tile-converter/cli-reference/i3s-server",draft:!1,unlisted:!1,editUrl:"https://github.com/visgl/loaders.gl/tree/master/website/../docs/modules/tile-converter/cli-reference/i3s-server.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Tile Converter",permalink:"/docs/modules/tile-converter/cli-reference/tile-converter"},next:{title:"SLPK extractor",permalink:"/docs/modules/tile-converter/cli-reference/slpk-extractor"}},c={},a=[{value:"Installation",id:"installation",level:2},{value:"Serve the output data of <code>tile-converter</code>",id:"serve-the-output-data-of-tile-converter",level:2},{value:"Start HTTP server",id:"start-http-server",level:3},{value:"The layer should be available on URLs",id:"the-layer-should-be-available-on-urls",level:4},{value:"Open in ArcGIS",id:"open-in-arcgis",level:4},{value:"Open in I3S Explorer",id:"open-in-i3s-explorer",level:4},{value:"Serve SLPK",id:"serve-slpk",level:2},{value:"Start the server",id:"start-the-server",level:3},{value:"The layer should be available on URLs",id:"the-layer-should-be-available-on-urls-1",level:4},{value:"Open in ArcGIS",id:"open-in-arcgis-1",level:4},{value:"Open in I3S Explorer",id:"open-in-i3s-explorer-1",level:4},{value:"ENV variables",id:"env-variables",level:2}];function d(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.h1,{id:"i3s-server",children:"I3S Server"}),"\n",(0,s.jsxs)("p",{class:"badges",children:[(0,s.jsx)("img",{src:"https://img.shields.io/badge/From-v4.0-blue.svg?style=flat-square",alt:"From-v4.0"}),(0,s.jsx)("a",{href:"https://badge.fury.io/js/%40loaders.gl%2Ftile-converter",children:(0,s.jsx)("img",{src:"https://badge.fury.io/js/%40loaders.gl%2Ftile-converter.svg",alt:"npm version",height:"18"})})]}),"\n",(0,s.jsxs)(r.p,{children:["I3S Server is a NodeJS HTTP service built on top of ",(0,s.jsx)(r.a,{href:"https://expressjs.com",children:"Express"}),". It can serve I3S data from output path of tile-converter or from SLPK file container."]}),"\n",(0,s.jsx)(r.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsxs)(r.p,{children:["The i3s-server is published as a part of ",(0,s.jsx)(r.code,{children:"@loaders.gl/tile-converter"})," library."]}),"\n",(0,s.jsx)(r.p,{children:"Create a new folder:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"mkdir tmp\ncd tmp\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Install ",(0,s.jsx)(r.code,{children:"@loaders.gl/tile-converter"})," package:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"npm i @loaders.gl/tile-converter\n"})}),"\n",(0,s.jsxs)(r.h2,{id:"serve-the-output-data-of-tile-converter",children:["Serve the output data of ",(0,s.jsx)(r.code,{children:"tile-converter"})]}),"\n",(0,s.jsxs)(r.p,{children:["Convert 3DTiles tileset to I3S without ",(0,s.jsx)(r.code,{children:"--slpk"})," option:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"npx tile-converter --install-dependencies\nnpx tile-converter --input-type 3DTILES --tileset /path/to/tileset.json --name NewTileset\n"})}),"\n",(0,s.jsx)(r.h3,{id:"start-http-server",children:"Start HTTP server"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'PORT=8080 HTTPS_PORT=4443 I3sLayerPath="./data" DEBUG=i3s-server:* npx i3s-server\n'})}),"\n",(0,s.jsx)(r.h4,{id:"the-layer-should-be-available-on-urls",children:"The layer should be available on URLs"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.code,{children:"http://localhost:8080/NewTileset/SceneServer/layers/0"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.code,{children:"https://localhost:4443/NewTileset/SceneServer/layers/0"})}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"open-in-arcgis",children:"Open in ArcGIS"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"https://www.arcgis.com/home/webscene/viewer.html?url=http://localhost:8080/NewTileset/SceneServer"})}),"\n",(0,s.jsx)(r.h4,{id:"open-in-i3s-explorer",children:"Open in I3S Explorer"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"https://i3s.loaders.gl/viewer?tileset=http://localhost:8080/NewTileset/SceneServer/layers/0"})}),"\n",(0,s.jsx)(r.h2,{id:"serve-slpk",children:"Serve SLPK"}),"\n",(0,s.jsxs)(r.p,{children:["Example for path ",(0,s.jsx)(r.code,{children:"../datasets/Rancho_Mesh_mesh_v17_1.slpk"}),":"]}),"\n",(0,s.jsx)(r.h3,{id:"start-the-server",children:"Start the server"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'PORT=8080 HTTPS_PORT=4443 I3sLayerPath="../datasets/Rancho_Mesh_mesh_v17_1.slpk" DEBUG=i3s-server:* npx i3s-server\n'})}),"\n",(0,s.jsx)(r.h4,{id:"the-layer-should-be-available-on-urls-1",children:"The layer should be available on URLs"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.code,{children:"http://localhost:8080/SceneServer/layers/0/..."})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.code,{children:"https://localhost:4443/SceneServer/layers/0/..."})}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"open-in-arcgis-1",children:"Open in ArcGIS"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"https://www.arcgis.com/home/webscene/viewer.html?url=http://localhost:8080/SceneServer"})}),"\n",(0,s.jsx)(r.h4,{id:"open-in-i3s-explorer-1",children:"Open in I3S Explorer"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"https://i3s.loaders.gl/viewer?tileset=http://localhost:8080/SceneServer/layers/0"})}),"\n",(0,s.jsx)(r.h2,{id:"env-variables",children:"ENV variables"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"I3sLayerPath"})," - path to converted data or SLPK file."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"PORT"})," - HTTP port. Eg for ",(0,s.jsx)(r.code,{children:"PORT = 8080 npx i3s-server"})," the server will work on host ",(0,s.jsx)(r.code,{children:"http://localhost:8080/..."}),". Default value is ",(0,s.jsx)(r.code,{children:"80"}),";"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"HTTPS_PORT"})," - HTTPS port. Eg for ",(0,s.jsx)(r.code,{children:"PORT = 4443 npx i3s-server"})," the server will work on host ",(0,s.jsx)(r.code,{children:"https://localhost:4443/..."}),". Default value is ",(0,s.jsx)(r.code,{children:"443"})]}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,n.a)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},11151:(e,r,l)=>{l.d(r,{Z:()=>o,a:()=>i});var s=l(67294);const n={},t=s.createContext(n);function i(e){const r=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),s.createElement(t.Provider,{value:r},e.children)}}}]);