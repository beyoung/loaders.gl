(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[6300],{65630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>T,contentTitle:()=>S,default:()=>w,frontMatter:()=>M,metadata:()=>I,toc:()=>H});var r=n(87462),s=n(67294),o=n(3905),i=n(37258),a=n(5016),c=n(39757),A=n(55367),B=n(1418),u=n(26047),l=n(49835),f=n(24115),d=n(66610);async function C(e,t,n){const r=(0,d.Z)(e,t,n);return n.waitForFullLoad&&await async function(e){const t=[];return e.scenes.forEach((e=>{e.traverse((e=>{Object.values(e.model.program.uniforms).forEach((e=>{!1===e.loaded&&t.push(e)}))}))})),await async function(e){for(;e();)await new Promise((e=>requestAnimationFrame(e)))}((()=>t.some((e=>!e.loaded))))}(r),{...r,gltf:t}}var h=n(85451),m=n(14034);const g="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/",E=g+"model-index.json",b="https://raw.githubusercontent.com/visgl/deck.gl-data/master/luma.gl/examples/gltf/",p=g+"/DamagedHelmet/glTF-Binary/DamagedHelmet.glb";const G='\n<p><b>glTF Loader</b>.</p>\n<p>Rendered using luma.gl.</p>\n<div>\n  Model<br/>\n  <select id="modelSelector" style="border: 1px solid gray; width: 200px;">\n    <option value="'+p+'">Default</option>\n  </select>\n  <br>\n</div>\n<div>\n  Show<br/>\n  <select id="showSelector" style="border: 1px solid gray; width: 200px;">\n    <option value="0 0 0 0 0 0 0 0">Final Result</option>\n\n    <option value="0 1 0 0 0 0 0 0">Base Color</option>\n    <option value="0 0 1 0 0 0 0 0">Metallic</option>\n    <option value="0 0 0 1 0 0 0 0">Roughness</option>\n    <option value="1 0 0 0 0 0 0 0">Diffuse</option>\n\n    <option value="0 0 0 0 1 0 0 0">Specular Reflection</option>\n    <option value="0 0 0 0 0 1 0 0">Geometric Occlusion</option>\n    <option value="0 0 0 0 0 0 1 0">Microfacet Distribution</option>\n    <option value="0 0 0 0 0 0 0 1">Specular</option>\n  </select>\n  <br>\n</div>\n<div>\n  Regular Lights<br/>\n  <select id="lightSelector" style="border: 1px solid gray; width: 200px;">\n    <option value="default">Default</option>\n    <option value="ambient">Ambient Only</option>\n    <option value="directional1">1x Directional (Red) + Ambient</option>\n    <option value="directional3">3x Directional (RGB)</option>\n    <option value="point1far">1x Point Light Far (Red) + Ambient</option>\n    <option value="point1near">1x Point Light Near (Red) + Ambient</option>\n  </select>\n  <br>\n</div>\n<div>\n  Image-Based Light<br/>\n  <select id="iblSelector" style="border: 1px solid gray; width: 200px;">\n    <option value="exclusive">On (Exclusive)</option>\n    <option value="addition">On (Addition to Regular)</option>\n    <option value="off">Off (Only Regular)</option>\n  </select>\n  <br/>\n</div>\n<p><img src="https://img.shields.io/badge/WebVR-Supported-orange.svg" /></p>\n',y={default:{directionalLights:[{color:[255,255,255],direction:[0,.5,.5],intensity:1}]},ambient:{ambientLight:{color:[255,255,255],intensity:1}},directional1:{directionalLights:[{color:[255,0,0],direction:[1,0,0],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}},directional3:{directionalLights:[{color:[255,0,0],direction:[1,0,0],intensity:1},{color:[0,0,255],direction:[0,0,1],intensity:1},{color:[0,255,0],direction:[0,1,0],intensity:1}]},point1far:{pointLights:[{color:[255,0,0],position:[200,0,0],attenuation:[0,0,.01],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}},point1near:{pointLights:[{color:[255,0,0],position:[10,0,0],attenuation:[0,0,.01],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}}};class D{constructor(e,t){let{initialZoom:n=2,onDrop:r=(e=>{})}=void 0===t?{}:t;this.mouse={lastX:0,lastY:0},this.translate=n,this.rotation=[0,0],this.rotationStart=[0,0],this.rotationAnimation=!0,this.onDrop=r,this._initializeEventHandling(e)}animate(e){this.rotationAnimation&&(this.rotation[1]=e/3600)}getMatrices(){const[e,t]=this.rotation;return{cameraPosition:[-this.translate*Math.sin(t)*Math.cos(-e),-this.translate*Math.sin(-e),this.translate*Math.cos(t)*Math.cos(-e)],viewMatrix:(new h.Z).translate([0,0,-this.translate]).rotateX(e).rotateY(t)}}_initializeEventHandling(e){e.onwheel=e=>{this.translate+=e.deltaY/10,this.translate<.1&&(this.translate=.1),e.preventDefault()},e.onpointerdown=t=>{this.mouse.lastX=t.clientX,this.mouse.lastY=t.clientY,this.rotationStart[0]=this.rotation[0],this.rotationStart[1]=this.rotation[1],e.setPointerCapture(t.pointerId),t.preventDefault(),this.rotationAnimation=!1},e.onpointermove=e=>{if(e.buttons){const t=e.clientX-this.mouse.lastX,n=e.clientY-this.mouse.lastY;this.rotation[0]=this.rotationStart[0]+n/100,this.rotation[1]=this.rotationStart[1]+t/100}},e.ondragover=e=>{e.dataTransfer.dropEffect="link",e.preventDefault()},e.ondrop=async e=>{if(e.preventDefault(),e.dataTransfer.files&&1===e.dataTransfer.files.length){const t=e.dataTransfer.files[0];this.onDrop(t)}}}}const F={[c.Z.TEXTURE_CUBE_MAP_POSITIVE_X]:"right",[c.Z.TEXTURE_CUBE_MAP_NEGATIVE_X]:"left",[c.Z.TEXTURE_CUBE_MAP_POSITIVE_Y]:"top",[c.Z.TEXTURE_CUBE_MAP_NEGATIVE_Y]:"bottom",[c.Z.TEXTURE_CUBE_MAP_POSITIVE_Z]:"front",[c.Z.TEXTURE_CUBE_MAP_NEGATIVE_Z]:"back"};class R extends A.Z{static getInfo(){return G}getInfo(){return G}constructor(e){void 0===e&&(e={}),super({glOptions:e}),this.scenes=[],this.animator=null,this.glOptions={alpha:!1},this.controller=null,this.u_ScaleDiffBaseMR=[0,0,0,0],this.u_ScaleFGDSpec=[0,0,0,0],this.environment=null,this.gltfCreateOptions={pbrDebug:!0,imageBasedLightingEnvironment:null,lights:!1},this.onInitialize=this.onInitialize.bind(this),this.onRender=this.onRender.bind(this)}async onInitialize(e){let{gl:t,canvas:n}=e;(0,B.dR)(t,{depthTest:!0,blend:!1}),this.controller=new D(n,{initialZoom:2,onDrop:e=>this._loadGLTF(e)}),this.environment=new f.Z(t,{brdfLutUrl:b+"/brdfLUT.png",getTexUrl:(e,t,n)=>b+"/papermill/"+e+"/"+e+"_"+F[t]+"_"+n+".jpg"}),this.gltfCreateOptions.imageBasedLightingEnvironment=this.environment,this.gl=t;!function(e,t){const n=document.getElementById("modelSelector");if(!n)return;const r=["glTF-Draco","glTF-Binary","glTF-Embedded","glTF"];e.forEach((e=>{let{name:t,url:s,variants:o}=e;const i=r.find((e=>o[e])),a=document.createElement("option"),c=i?" ("+i+")":"";a.text=""+t+c,a.value=s||g+"/"+t+"/"+i+"/"+o[i],n.appendChild(a)})),n.onchange=e=>{const r=n&&n.value||p;t(""+r)}}(await async function(){const e=await fetch(E).then((e=>e.json()));return e.push({name:"FightHelmet",url:"https://raw.githubusercontent.com/visgl/deck.gl-data/master/formats/gltf/KHR_texture_basisu/FlightHelmet/FlightHelmetUastc.gltf",variants:{glTF:""}}),e}(),(async e=>{this._deleteScenes(),await this._loadGLTF(e)}));const r=function(){const e=new URL(window.location.href).searchParams.get("url");if(e)return e;const t=document.getElementById("modelSelector");return""+(t&&t.value||p)}();await this._loadGLTF(r),function(e){const t=document.getElementById("showSelector");t&&(t.onchange=n=>{const r=t.value.split(" ").map((e=>parseFloat(e)));e({u_ScaleDiffBaseMR:r.slice(0,4),u_ScaleFGDSpec:r.slice(4)})});const n=document.getElementById("lightSelector");n&&(n.onchange=t=>{e({light:n.value})})}((e=>{Object.assign(this,e)})),function(e){const t=document.getElementById("iblSelector");t&&(t.onchange=n=>{e(function(e){switch(e){case"exclusive":return{imageBasedLightingEnvironment:!0,lights:!1};case"addition":return{imageBasedLightingEnvironment:!0,lights:!0};case"off":return{imageBasedLightingEnvironment:null,lights:!0};default:return{}}}(t.value))})}((e=>{Object.assign(this.gltfCreateOptions,e),this.gltfCreateOptions.imageBasedLightingEnvironment&&(this.gltfCreateOptions.imageBasedLightingEnvironment=this.environment),this._rebuildModel()}))}onRender(e){var t,n;let{gl:r,time:s,aspect:o,viewMatrix:i,projectionMatrix:a}=e;(0,u.Z)(r,{color:[.2,.2,.2,1],depth:!0}),null==(t=this.controller)||t.animate(s);const c=null==(n=this.controller)?void 0:n.getMatrices(),A=i?new h.Z(Array.from(i)):new h.Z,B=null==c?void 0:c.viewMatrix;B&&A.multiplyRight(B);const l=a?new h.Z(Array.from(a)):(new h.Z).perspective({fovy:(0,m.uR)(40),aspect:o,near:.01,far:9e3});if(!this.scenes.length)return!1;this.animator&&this.animator.animate(s);let f=!0;return this.scenes[0].traverse(((e,t)=>{let{worldMatrix:n}=t;const r=new h.Z(l).multiplyRight(A).multiplyRight(n);this._applyLight(e),f=f&&e.draw({uniforms:{u_Camera:null==c?void 0:c.cameraPosition,u_MVPMatrix:r,u_ModelMatrix:n,u_NormalMatrix:new h.Z(n).invert().transpose(),u_ScaleDiffBaseMR:this.u_ScaleDiffBaseMR,u_ScaleFGDSpec:this.u_ScaleFGDSpec},parameters:e.props.parameters})})),f}async _loadGLTF(e){const{gl:t}=this;this._deleteScenes();const n=await(0,i.z)(e,a.E),{gltf:r,scenes:s,animator:o}=await C(t,n,this.gltfCreateOptions);this.scenes=s,this.animator=o,this.gltf=r}_rebuildModel(){(this.gltf.meshes||[]).forEach((e=>delete e._mesh)),(this.gltf.nodes||[]).forEach((e=>delete e._node)),(this.gltf.bufferViews||[]).forEach((e=>delete e.lumaBuffers)),this._deleteScenes(),Object.assign(this,C(this.gl,this.gltf,this.gltfCreateOptions))}_deleteScenes(){this.scenes.forEach((e=>e.delete())),this.scenes=[],l.lR.get("Resource Counts").forEach((e=>{let{name:t,count:n}=e;B.cM.info(3,t+": "+n)()}))}_applyLight(e){e.updateModuleSettings({lightSources:y[this.light||"default"]})}}function _(){const e=(0,s.useCallback)((e=>{console.log(e),function(e){if("undefined"!=typeof window&&!window.website)try{const t=new R(e);t.start();const n=document.createElement("div");n.innerHTML=t.getInfo(),document.body.appendChild(n)}catch(t){console.error(t)}}({canvas:e})}),[]);return s.createElement("canvas",{style:{width:"80vh",height:"80vh"},ref:e})}const M={},S="glTF",I={unversionedId:"gltf",id:"gltf",title:"glTF",description:"",source:"@site/src/examples/gltf.mdx",sourceDirName:".",slug:"/gltf",permalink:"/examples/gltf",draft:!1,tags:[],version:"current",frontMatter:{}},T={},H=[],v={toc:H},J="wrapper";function w(e){let{components:t,...n}=e;return(0,o.kt)(J,(0,r.Z)({},v,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"gltf"},"glTF"),(0,o.kt)("div",{style:{height:"100vh"}},(0,o.kt)(_,{mdxType:"Demo"})))}w.isMDXComponent=!0},745:(e,t,n)=>{"use strict";n.d(t,{D0:()=>c,Ew:()=>A,Kn:()=>o,Lj:()=>B,Os:()=>l,Ss:()=>i,TW:()=>a,zH:()=>u});const r=e=>"boolean"==typeof e,s=e=>"function"==typeof e,o=e=>null!==e&&"object"==typeof e,i=e=>o(e)&&e.constructor==={}.constructor,a=e=>e&&"function"==typeof e[Symbol.iterator],c=e=>e&&"function"==typeof e[Symbol.asyncIterator],A=e=>"undefined"!=typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json,B=e=>"undefined"!=typeof Blob&&e instanceof Blob,u=e=>e&&"object"==typeof e&&e.isBuffer,l=e=>(e=>"undefined"!=typeof ReadableStream&&e instanceof ReadableStream||o(e)&&s(e.tee)&&s(e.cancel)&&s(e.getReader))(e)||(e=>o(e)&&s(e.read)&&s(e.pipe)&&r(e.readable))(e)},37258:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var r=n(745),s=n(35163),o=n(89752),i=n(93865);async function a(e,t,n,a){Array.isArray(t)||(0,s.C)(t)||(void 0,n=t,t=void 0);const c=(0,o.b)(n);let A=e;return"string"==typeof e&&(A=await c(e)),(0,r.Lj)(e)&&(A=await c(e)),await(0,i.Q)(A,t,n)}},93865:(e,t,n)=>{"use strict";n.d(t,{Q:()=>_});var r=n(96040),s=n(57254),o=n(96013),i=n(13842),a=n(9164);async function c(e,t,n,r,s){const o=e.id,c=(0,a.j)(e,n),B=i.Z.getWorkerFarm(n).getWorkerPool({name:o,url:c});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));const u=await B.startJob("process-on-worker",A.bind(null,s));u.postMessage("process",{input:t,options:n,context:r});const l=await u.result;return await l.result}async function A(e,t,n,r){switch(n){case"done":t.done(r);break;case"error":t.error(new Error(r.error));break;case"process":const{id:o,input:i,options:a}=r;try{const n=await e(i,a);t.postMessage("done",{id:o,result:n})}catch(s){const e=s instanceof Error?s.message:"unknown error";t.postMessage("error",{id:o,error:e})}break;default:console.warn("parse-with-worker unknown message ".concat(n))}}var B=n(35163),u=n(745),l=n(48657),f=n(25735);const d=262144;const C=262144;const h=1048576;var m=n(39579);function g(e){if((t=e)&&"object"==typeof t&&t.isBuffer)return e;var t;if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if("string"==typeof e){const t=e;return(new TextEncoder).encode(t).buffer}if(e&&"object"==typeof e&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}function E(e,t){return m.jU?async function*(e,t){const n=e.getReader();let r;try{for(;;){const e=r||n.read();null!=t&&t._streamReadAhead&&(r=n.read());const{done:s,value:o}=await e;if(s)return;yield g(o)}}catch(s){n.releaseLock()}}(e,t):async function*(e,t){for await(const n of e)yield g(n)}(e)}function b(e,t){if("string"==typeof e)return function*(e,t){const n=(null==t?void 0:t.chunkSize)||d;let r=0;const s=new TextEncoder;for(;r<e.length;){const t=Math.min(e.length-r,n),o=e.slice(r,r+t);r+=t,yield s.encode(o)}}(e,t);if(e instanceof ArrayBuffer)return function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{chunkSize:n=C}=t;let r=0;for(;r<e.byteLength;){const t=Math.min(e.byteLength-r,n),s=new ArrayBuffer(t),o=new Uint8Array(e,r,t);new Uint8Array(s).set(o),r+=t,yield s}}(e,t);if((0,u.Lj)(e))return async function*(e,t){const n=(null==t?void 0:t.chunkSize)||h;let r=0;for(;r<e.size;){const t=r+n,s=await e.slice(r,t).arrayBuffer();r=t,yield s}}(e,t);if((0,u.Os)(e))return E(e,t);if((0,u.Ew)(e)){return E(e.body,t)}throw new Error("makeIterator")}var p=n(78741);const G="Cannot convert supplied data type";async function y(e,t,n){const r=e instanceof ArrayBuffer||ArrayBuffer.isView(e);if("string"==typeof e||r)return function(e,t,n){if(t.text&&"string"==typeof e)return e;if((0,u.zH)(e)&&(e=e.buffer),e instanceof ArrayBuffer){const n=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(n):n}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);let n=e.buffer;const r=e.byteLength||e.length;return 0===e.byteOffset&&r===n.byteLength||(n=n.slice(e.byteOffset,e.byteOffset+r)),n}throw new Error(G)}(e,t);if((0,u.Lj)(e)&&(e=await(0,p.L1)(e)),(0,u.Ew)(e)){const n=e;return await(0,p.mm)(n),t.binary?await n.arrayBuffer():await n.text()}if((0,u.Os)(e)&&(e=b(e,n)),(0,u.TW)(e)||(0,u.D0)(e))return(0,f.GZ)(e);throw new Error(G)}var D=n(89752);var F=n(97949),R=n(86539);async function _(e,t,n,a){(0,r.h)(!a||"object"==typeof a),!t||Array.isArray(t)||(0,B.C)(t)||(a=void 0,n=t,t=void 0),e=await e,n=n||{};const{url:A}=(0,F.l)(e),f=function(e,t){if(!t&&e&&!Array.isArray(e))return e;let n;if(e&&(n=Array.isArray(e)?e:[e]),t&&t.loaders){const e=Array.isArray(t.loaders)?t.loaders:[t.loaders];n=n?[...n,...e]:e}return n&&n.length?n:null}(t,a),d=await(0,R.A)(e,f,n);return d?(a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n)return n;const r={fetch:(0,D.b)(t,e),...e};return Array.isArray(r.loaders)||(r.loaders=null),r}({url:A,parse:_,loaders:f},n=(0,l.GR)(n,d,f,A),a),await async function(e,t,n,a){if((0,s.z)(e),(0,u.Ew)(t)){const e=t,{ok:n,redirected:r,status:s,statusText:o,type:i,url:c}=e,A=Object.fromEntries(e.headers.entries());a.response={headers:A,ok:n,redirected:r,status:s,statusText:o,type:i,url:c}}if(t=await y(t,e,n),e.parseTextSync&&"string"==typeof t)return n.dataType="text",e.parseTextSync(t,n,a,e);if(function(e,t){return!!i.Z.isSupported()&&!!(o.jU||null!=t&&t._nodeWorkers)&&e.worker&&(null==t?void 0:t.worker)}(e,n))return await c(e,t,n,a,_);if(e.parseText&&"string"==typeof t)return await e.parseText(t,n,a,e);if(e.parse)return await e.parse(t,n,a,e);throw(0,r.h)(!e.parseSync),new Error("".concat(e.id," loader - no parser found and worker is disabled"))}(d,e,n,a)):null}},99121:(e,t,n)=>{"use strict";n.d(t,{fh:()=>i,kO:()=>a});var r=n(35163),s=n(48657);const o=()=>{const e=(0,s.rx)();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function i(e){const t=o();e=Array.isArray(e)?e:[e];for(const n of e){const e=(0,r.T)(n);t.find((t=>e===t))||t.unshift(e)}}function a(){return o()}},86539:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(59645),s=n(2482),o=n(35163);const i=new(n(56426).Z)({id:"loaders.gl"});var a=n(97949),c=n(99121),A=n(745);const B=/\.([^.]+)$/;async function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!f(e))return null;let s=l(e,t,{...n,nothrow:!0},r);if(s)return s;if((0,A.Lj)(e)&&(s=l(e=await e.slice(0,10).arrayBuffer(),t,n,r)),!(s||null!=n&&n.nothrow))throw new Error(d(e));return s}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!f(e))return null;if(t&&!Array.isArray(t))return(0,o.T)(t);let s=[];t&&(s=s.concat(t)),null!=n&&n.ignoreRegisteredLoaders||s.push(...(0,c.kO)()),function(e){for(const t of e)(0,o.T)(t)}(s);const A=function(e,t,n,r){const{url:s,type:o}=(0,a.l)(e),c=s||(null==r?void 0:r.url);let A=null,u="";null!=n&&n.mimeType&&(A=C(t,null==n?void 0:n.mimeType),u="match forced by supplied MIME type ".concat(null==n?void 0:n.mimeType));var l;A=A||function(e,t){const n=t&&B.exec(t),r=n&&n[1];return r?function(e,t){t=t.toLowerCase();for(const n of e)for(const e of n.extensions)if(e.toLowerCase()===t)return n;return null}(e,r):null}(t,c),u=u||(A?"matched url ".concat(c):""),A=A||C(t,o),u=u||(A?"matched MIME type ".concat(o):""),A=A||function(e,t){if(!t)return null;for(const n of e)if("string"==typeof t){if(h(t,n))return n}else if(ArrayBuffer.isView(t)){if(m(t.buffer,t.byteOffset,n))return n}else if(t instanceof ArrayBuffer){if(m(t,0,n))return n}return null}(t,e),u=u||(A?"matched initial data ".concat(g(e)):""),A=A||C(t,null==n?void 0:n.fallbackMimeType),u=u||(A?"matched fallback MIME type ".concat(o):""),u&&i.log(1,"selectLoader selected ".concat(null===(l=A)||void 0===l?void 0:l.name,": ").concat(u,"."));return A}(e,s,n,r);if(!(A||null!=n&&n.nothrow))throw new Error(d(e));return A}function f(e){return!(e instanceof Response&&204===e.status)}function d(e){const{url:t,type:n}=(0,a.l)(e);let s="No valid loader found (";s+=t?"".concat(r.vB(t),", "):"no url provided, ",s+="MIME type: ".concat(n?'"'.concat(n,'"'):"not provided",", ");const o=e?g(e):"";return s+=o?' first bytes: "'.concat(o,'"'):"first bytes: not available",s+=")",s}function C(e,t){for(const n of e){if(n.mimeTypes&&n.mimeTypes.includes(t))return n;if(t==="application/x.".concat(n.id))return n}return null}function h(e,t){if(t.testText)return t.testText(e);return(Array.isArray(t.tests)?t.tests:[t.tests]).some((t=>e.startsWith(t)))}function m(e,t,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some((r=>function(e,t,n,r){if(r instanceof ArrayBuffer)return(0,s.Xq)(r,e,r.byteLength);switch(typeof r){case"function":return r(e,n);case"string":return r===E(e,t,r.length);default:return!1}}(e,t,n,r)))}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return E(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){return E(e,0,t)}return""}function E(e,t,n){if(e.byteLength<t+n)return"";const r=new DataView(e);let s="";for(let o=0;o<n;o++)s+=String.fromCharCode(r.getUint8(t+o));return s}},8551:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var r=n(96351),s=n(78741);async function o(e,t){if("string"==typeof e){e=(0,r.i3)(e);let n=t;return null!=t&&t.fetch&&"function"!=typeof(null==t?void 0:t.fetch)&&(n=t.fetch),await fetch(e,n)}return await(0,s.L1)(e)}},89752:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var r=n(745),s=n(8551),o=n(48657);function i(e,t){const n=(0,o.pm)(),i=e||n;return"function"==typeof i.fetch?i.fetch:(0,r.Kn)(i.fetch)?e=>(0,s.d)(e,i):null!=t&&t.fetch?null==t?void 0:t.fetch:s.d}},35163:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,T:()=>o});var r=n(73613);function s(e){var t;if(!e)return!1;Array.isArray(e)&&(e=e[0]);return Array.isArray(null===(t=e)||void 0===t?void 0:t.extensions)}function o(e){var t,n;let o;return(0,r.h)(e,"null loader"),(0,r.h)(s(e),"invalid loader"),Array.isArray(e)&&(o=e[1],e=e[0],e={...e,options:{...e.options,...o}}),(null!==(t=e)&&void 0!==t&&t.parseTextSync||null!==(n=e)&&void 0!==n&&n.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}},48657:(e,t,n)=>{"use strict";n.d(t,{pm:()=>u,rx:()=>B,GR:()=>l});var r=n(745),s=n(81180);const o=new(n(56426).Z)({id:"loaders.gl"});class i{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}var a=n(39579);const c={fetch:null,mimeType:void 0,nothrow:!1,log:new class{constructor(){(0,s.Z)(this,"console",void 0),this.console=console}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.log.bind(this.console,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.info.bind(this.console,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.warn.bind(this.console,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.error.bind(this.console,...t)}},CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:a.jU,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},A={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function B(){globalThis.loaders=globalThis.loaders||{};const{loaders:e}=globalThis;return e._state=e._state||{},e._state}const u=()=>{const e=B();return e.globalOptions=e.globalOptions||{...c},e.globalOptions};function l(e,t,n,r){return n=n||[],function(e,t){f(e,null,c,A,t);for(const n of t){const r=e&&e[n.id]||{},s=n.options&&n.options[n.id]||{},o=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};f(r,n.id,s,o,t)}}(e,n=Array.isArray(n)?n:[n]),C(t,e,r)}function f(e,t,n,s,i){const a=t||"Top level",c=t?"".concat(t,"."):"";for(const A in e){const B=!t&&(0,r.Kn)(e[A]);if(!(A in n)&&!("baseUri"===A&&!t)&&!("workerUrl"===A&&t))if(A in s)o.warn("".concat(a," loader option '").concat(c).concat(A,"' no longer supported, use '").concat(s[A],"'"))();else if(!B){const e=d(A,i);o.warn("".concat(a," loader option '").concat(c).concat(A,"' not recognized. ").concat(e))()}}}function d(e,t){const n=e.toLowerCase();let r="";for(const s of t)for(const t in s.options){if(e===t)return"Did you mean '".concat(s.id,".").concat(t,"'?");const o=t.toLowerCase();(n.startsWith(o)||o.startsWith(n))&&(r=r||"Did you mean '".concat(s.id,".").concat(t,"'?"))}return r}function C(e,t,n){const r={...e.options||{}};return function(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}(r,n),null===r.log&&(r.log=new i),h(r,u()),h(r,t),r}function h(e,t){for(const n in t)if(n in t){const s=t[n];(0,r.Ss)(s)&&(0,r.Ss)(e[n])?e[n]={...e[n],...t[n]}:e[n]=t[n]}}},97949:(e,t,n)=>{"use strict";n.d(t,{C:()=>B,l:()=>A});var r=n(745);const s=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,o=/^([-\w.]+\/[-\w.+]+)/;function i(e){const t=o.exec(e);return t?t[1]:e}function a(e){const t=s.exec(e);return t?t[1]:""}const c=/\?.*/;function A(e){if((0,r.Ew)(e)){const t=u(e.url||"");return{url:t,type:i(e.headers.get("content-type")||"")||a(t)}}return(0,r.Lj)(e)?{url:u(e.name||""),type:e.type||""}:"string"==typeof e?{url:u(e),type:a(e)}:{url:"",type:""}}function B(e){return(0,r.Ew)(e)?e.headers["content-length"]||-1:(0,r.Lj)(e)?e.size:"string"==typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}function u(e){return e.replace(c,"")}},78741:(e,t,n)=>{"use strict";n.d(t,{L1:()=>o,mm:()=>i});var r=n(745),s=n(97949);async function o(e){if((0,r.Ew)(e))return e;const t={},n=(0,s.C)(e);n>=0&&(t["content-length"]=String(n));const{url:o,type:i}=(0,s.l)(e);i&&(t["content-type"]=i);const a=await async function(e){const t=5;if("string"==typeof e)return"data:,".concat(e.slice(0,t));if(e instanceof Blob){const t=e.slice(0,5);return await new Promise((e=>{const n=new FileReader;n.onload=t=>{var n;return e(null==t||null===(n=t.target)||void 0===n?void 0:n.result)},n.readAsDataURL(t)}))}if(e instanceof ArrayBuffer){const n=function(e){let t="";const n=new Uint8Array(e);for(let r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return btoa(t)}(e.slice(0,t));return"data:base64,".concat(n)}return null}(e);a&&(t["x-first-bytes"]=a),"string"==typeof e&&(e=(new TextEncoder).encode(e));const c=new Response(e,{headers:t});return Object.defineProperty(c,"url",{value:o}),c}async function i(e){if(!e.ok){const t=await async function(e){let t="Failed to fetch resource ".concat(e.url," (").concat(e.status,"): ");try{const n=e.headers.get("Content-Type");let r=e.statusText;n.includes("application/json")&&(r+=" ".concat(await e.text())),t+=r,t=t.length>60?"".concat(t.slice(0,60),"..."):t}catch(n){}return t}(e);throw new Error(t)}}},64995:(e,t,n)=>{"use strict";n.d(t,{VJ:()=>D});var r=n(96013);const s="3.4.0-alpha.2",o={draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}},i={name:"Draco",id:r.jU?"draco":"draco-nodejs",module:"draco",shapes:["mesh"],version:s,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:o};var a=n(81180),c=n(61569),A=n(78354),B=n(48347);function u(e,t,n){const r=f(t.metadata),s=[],o=function(e){const t={};for(const n in e){const r=e[n];t[r.name||"undefined"]=r}return t}(t.attributes);for(const i in e){const t=l(i,e[i],o[i]);s.push(t)}if(n){const e=l("indices",n);s.push(e)}return new B.Z(s,r)}function l(e,t,n){const r=n?f(n.metadata):void 0;return(0,A.ou)(e,t,r)}function f(e){const t=new Map;for(const n in e)t.set("".concat(n,".string"),JSON.stringify(e[n]));return t}const d={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},C={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array};class h{constructor(e){(0,a.Z)(this,"draco",void 0),(0,a.Z)(this,"decoder",void 0),(0,a.Z)(this,"metadataQuerier",void 0),this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new this.draco.DecoderBuffer;n.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(t);const r=this.decoder.GetEncodedGeometryType(n),s=r===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let e;switch(r){case this.draco.TRIANGULAR_MESH:e=this.decoder.DecodeBufferToMesh(n,s);break;case this.draco.POINT_CLOUD:e=this.decoder.DecodeBufferToPointCloud(n,s);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!e.ok()||!s.ptr){const t="DRACO decompression failed: ".concat(e.error_msg());throw new Error(t)}const o=this._getDracoLoaderData(s,r,t),i=this._getMeshData(s,o,t),a=(0,c.v)(i.attributes),A=u(i.attributes,o,i.indices);return{loader:"draco",loaderData:o,header:{vertexCount:s.num_points(),boundingBox:a},...i,schema:A}}finally{this.draco.destroy(n),s&&this.draco.destroy(s)}}_getDracoLoaderData(e,t,n){const r=this._getTopLevelMetadata(e),s=this._getDracoAttributes(e,n);return{geometry_type:t,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:r,attributes:s}}_getDracoAttributes(e,t){const n={};for(let r=0;r<e.num_attributes();r++){const s=this.decoder.GetAttribute(e,r),o=this._getAttributeMetadata(e,r);n[s.unique_id()]={unique_id:s.unique_id(),attribute_type:s.attribute_type(),data_type:s.data_type(),num_components:s.num_components(),byte_offset:s.byte_offset(),byte_stride:s.byte_stride(),normalized:s.normalized(),attribute_index:r,metadata:o};const i=this._getQuantizationTransform(s,t);i&&(n[s.unique_id()].quantization_transform=i);const a=this._getOctahedronTransform(s,t);a&&(n[s.unique_id()].octahedron_transform=a)}return n}_getMeshData(e,t,n){const r=this._getMeshAttributes(t,e,n);if(!r.POSITION)throw new Error("DRACO: No position attribute found.");return e instanceof this.draco.Mesh?"triangle-strip"===n.topology?{topology:"triangle-strip",mode:4,attributes:r,indices:{value:this._getTriangleStripIndices(e),size:1}}:{topology:"triangle-list",mode:5,attributes:r,indices:{value:this._getTriangleListIndices(e),size:1}}:{topology:"point-list",mode:0,attributes:r}}_getMeshAttributes(e,t,n){const r={};for(const s of Object.values(e.attributes)){const e=this._deduceAttributeName(s,n);s.name=e;const{value:o,size:i}=this._getAttributeValues(t,s);r[e]={value:o,size:i,byteOffset:s.byte_offset,byteStride:s.byte_stride,normalized:s.normalized}}return r}_getTriangleListIndices(e){const t=3*e.num_faces(),n=4*t,r=this.draco._malloc(n);try{return this.decoder.GetTrianglesUInt32Array(e,n,r),new Uint32Array(this.draco.HEAPF32.buffer,r,t).slice()}finally{this.draco._free(r)}}_getTriangleStripIndices(e){const t=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,t),function(e){const t=e.size(),n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=e.GetValue(r);return n}(t)}finally{this.draco.destroy(t)}}_getAttributeValues(e,t){const n=C[t.data_type],r=t.num_components,s=e.num_points()*r,o=s*n.BYTES_PER_ELEMENT,i=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32;default:return e.DT_INVALID}}(this.draco,n);let a;const c=this.draco._malloc(o);try{const r=this.decoder.GetAttribute(e,t.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,r,i,o,c),a=new n(this.draco.HEAPF32.buffer,c,s).slice()}finally{this.draco._free(c)}return{value:a,size:r}}_deduceAttributeName(e,t){const n=e.unique_id;for(const[o,i]of Object.entries(t.extraAttributes||{}))if(i===n)return o;const r=e.attribute_type;for(const o in d){if(this.draco[o]===r)return d[o]}const s=t.attributeNameEntry||"name";return e.metadata[s]?e.metadata[s].string:"CUSTOM_ATTRIBUTE_".concat(n)}_getTopLevelMetadata(e){const t=this.decoder.GetMetadata(e);return this._getDracoMetadata(t)}_getAttributeMetadata(e,t){const n=this.decoder.GetAttributeMetadata(e,t);return this._getDracoMetadata(n)}_getDracoMetadata(e){if(!e||!e.ptr)return{};const t={},n=this.metadataQuerier.NumEntries(e);for(let r=0;r<n;r++){const n=this.metadataQuerier.GetEntryName(e,r);t[n]=this._getDracoMetadataField(e,n)}return t}_getDracoMetadataField(e,t){const n=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,t,n);const r=function(e){const t=e.size(),n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=e.GetValue(r);return n}(n);return{int:this.metadataQuerier.GetIntEntry(e,t),string:this.metadataQuerier.GetStringEntry(e,t),double:this.metadataQuerier.GetDoubleEntry(e,t),intArray:r}}finally{this.draco.destroy(n)}}_disableAttributeTransforms(e){const{quantizedAttributes:t=[],octahedronAttributes:n=[]}=e,r=[...t,...n];for(const s of r)this.decoder.SkipAttributeTransform(this.draco[s])}_getQuantizationTransform(e,t){const{quantizedAttributes:n=[]}=t,r=e.attribute_type();if(n.map((e=>this.decoder[e])).includes(r)){const t=new this.draco.AttributeQuantizationTransform;try{if(t.InitFromAttribute(e))return{quantization_bits:t.quantization_bits(),range:t.range(),min_values:new Float32Array([1,2,3]).map((e=>t.min_value(e)))}}finally{this.draco.destroy(t)}}return null}_getOctahedronTransform(e,t){const{octahedronAttributes:n=[]}=t,r=e.attribute_type();if(n.map((e=>this.decoder[e])).includes(r)){const t=new this.draco.AttributeQuantizationTransform;try{if(t.InitFromAttribute(e))return{quantization_bits:t.quantization_bits()}}finally{this.draco.destroy(t)}}return null}}var m=n(96706);const g="https://www.gstatic.com/draco/versioned/decoders/".concat("1.5.5"),E="".concat(g,"/draco_decoder.js"),b="".concat(g,"/draco_wasm_wrapper.js"),p="".concat(g,"/draco_decoder.wasm");"https://raw.githubusercontent.com/google/draco/".concat("1.4.1","/javascript/draco_encoder.js");let G;async function y(e){const t=e.modules||{};return G=t.draco3d?G||t.draco3d.createDecoderModule({}).then((e=>({draco:e}))):G||async function(e){let t,n;if("js"===(e.draco&&e.draco.decoderType))t=await(0,m.Y)(E,"draco",e);else[t,n]=await Promise.all([await(0,m.Y)(b,"draco",e),await(0,m.Y)(p,"draco",e)]);return t=t||globalThis.DracoDecoderModule,await function(e,t){const n={};t&&(n.wasmBinary=t);return new Promise((t=>{e({...n,onModuleLoaded:e=>t({draco:e})})}))}(t,n)}(e),await G}r.jU;const D={...i,parse:async function(e,t){const{draco:n}=await y(t),r=new h(n);try{return r.parseSync(e,null==t?void 0:t.draco)}finally{r.destroy()}}}},5016:(e,t,n)=>{"use strict";n.d(t,{E:()=>Dt});var r={};n.r(r),n.d(r,{decode:()=>V,name:()=>Z});var s={};n.r(s),n.d(s,{name:()=>te,preprocess:()=>ne});var o={};n.r(o),n.d(o,{name:()=>se,preprocess:()=>oe});var i={};n.r(i),n.d(i,{decode:()=>ue,encode:()=>le,name:()=>Ae,preprocess:()=>Be});var a={};n.r(a),n.d(a,{decode:()=>Fe,name:()=>pe});var c={};n.r(c),n.d(c,{decode:()=>Te,encode:()=>He,name:()=>Ie});var A={};n.r(A),n.d(A,{decode:()=>we,encode:()=>Oe,name:()=>Je});var B={};n.r(B),n.d(B,{decode:()=>xe,encode:()=>Le,name:()=>Pe});var u={};n.r(u),n.d(u,{decode:()=>Qe,name:()=>Xe});var l=n(4214),f=n(1975),d=n(87391);function C(e,t,n){if(e.byteLength<=t+n)return"";const r=new DataView(e);let s="";for(let o=0;o<n;o++)s+=String.fromCharCode(r.getUint8(t+o));return s}function h(e){try{return JSON.parse(e)}catch(t){throw new Error('Failed to parse JSON from data starting with "'.concat(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return C(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer)return C(e,0,t);return""}(e),'"'))}}var m=n(2482);function g(e,t){if(!e)throw new Error(t||"assert failed: gltf")}function E(e,t){if(e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:"))return e;const n=t.baseUri||t.uri;if(!n)throw new Error("'baseUri' must be provided to resolve relative url ".concat(e));return n.substr(0,n.lastIndexOf("/")+1)+e}function b(e,t,n){const r=e.bufferViews[n];g(r);const s=t[r.buffer];g(s);const o=(r.byteOffset||0)+s.byteOffset;return new Uint8Array(s.arrayBuffer,o,r.byteLength)}var p=n(81180),G=n(46936),y=n(73613);function D(e,t){return(0,y.h)(e>=0),(0,y.h)(t>0),e+(t-1)&~(t-1)}function F(e,t,n){let r;if(e instanceof ArrayBuffer)r=new Uint8Array(e);else{const t=e.byteOffset,n=e.byteLength;r=new Uint8Array(e.buffer||e.arrayBuffer,t,n)}return t.set(r,n),n+D(r.byteLength,4)}const R=["SCALAR","VEC2","VEC3","VEC4"],_=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],M=new Map(_),S={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},I={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},T={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function H(e){return R[e-1]||R[0]}function v(e){const t=M.get(e.constructor);if(!t)throw new Error("Illegal typed array");return t}function J(e,t){const n=T[e.componentType],r=S[e.type],s=I[e.componentType],o=e.count*r,i=e.count*r*s;return g(i>=0&&i<=t.byteLength),{ArrayType:n,length:o,byteLength:i}}const w={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]};class O{constructor(e){(0,p.Z)(this,"gltf",void 0),(0,p.Z)(this,"sourceBuffers",void 0),(0,p.Z)(this,"byteLength",void 0),this.gltf=e||{json:{...w},buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(e){return this.json[e]}getExtraData(e){return(this.json.extras||{})[e]}getExtension(e){const t=this.getUsedExtensions().find((t=>t===e)),n=this.json.extensions||{};return t?n[e]||!0:null}getRequiredExtension(e){return this.getRequiredExtensions().find((t=>t===e))?this.getExtension(e):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(e,t){return(e.extensions||{})[t]}getScene(e){return this.getObject("scenes",e)}getNode(e){return this.getObject("nodes",e)}getSkin(e){return this.getObject("skins",e)}getMesh(e){return this.getObject("meshes",e)}getMaterial(e){return this.getObject("materials",e)}getAccessor(e){return this.getObject("accessors",e)}getTexture(e){return this.getObject("textures",e)}getSampler(e){return this.getObject("samplers",e)}getImage(e){return this.getObject("images",e)}getBufferView(e){return this.getObject("bufferViews",e)}getBuffer(e){return this.getObject("buffers",e)}getObject(e,t){if("object"==typeof t)return t;const n=this.json[e]&&this.json[e][t];if(!n)throw new Error("glTF file error: Could not find ".concat(e,"[").concat(t,"]"));return n}getTypedArrayForBufferView(e){const t=(e=this.getBufferView(e)).buffer,n=this.gltf.buffers[t];g(n);const r=(e.byteOffset||0)+n.byteOffset;return new Uint8Array(n.arrayBuffer,r,e.byteLength)}getTypedArrayForAccessor(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),n=this.getBuffer(t.buffer).data,{ArrayType:r,length:s}=J(e,t);return new r(n,t.byteOffset+e.byteOffset,s)}getTypedArrayForImageData(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),n=this.getBuffer(t.buffer).data,r=t.byteOffset||0;return new Uint8Array(n,r,t.byteLength)}addApplicationData(e,t){return this.json[e]=t,this}addExtraData(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}addObjectExtension(e,t,n){return e.extensions=e.extensions||{},e.extensions[t]=n,this.registerUsedExtension(t),this}setObjectExtension(e,t,n){(e.extensions||{})[t]=n}removeObjectExtension(e,t){const n=e.extensions||{},r=n[t];return delete n[t],r}addExtension(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}addRequiredExtension(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}registerUsedExtension(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((t=>t===e))||this.json.extensionsUsed.push(e)}registerRequiredExtension(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((t=>t===e))||this.json.extensionsRequired.push(e)}removeExtension(e){if(!this.getExtension(e))return;this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e],Array.isArray(this.json.extensionsRemoved)||(this.json.extensionsRemoved=[]);const t=this.json.extensionsRemoved;t.includes(e)||t.push(e)}setDefaultScene(e){this.json.scene=e}addScene(e){const{nodeIndices:t}=e;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:t}),this.json.scenes.length-1}addNode(e){const{meshIndex:t,matrix:n}=e;this.json.nodes=this.json.nodes||[];const r={mesh:t};return n&&(r.matrix=n),this.json.nodes.push(r),this.json.nodes.length-1}addMesh(e){const{attributes:t,indices:n,material:r,mode:s=4}=e,o={primitives:[{attributes:this._addAttributes(t),mode:s}]};if(n){const e=this._addIndices(n);o.primitives[0].indices=e}return Number.isFinite(r)&&(o.primitives[0].material=r),this.json.meshes=this.json.meshes||[],this.json.meshes.push(o),this.json.meshes.length-1}addPointCloud(e){const t={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(t),this.json.meshes.length-1}addImage(e,t){const n=(0,G.I)(e),r=t||(null==n?void 0:n.mimeType),s={bufferView:this.addBufferView(e),mimeType:r};return this.json.images=this.json.images||[],this.json.images.push(s),this.json.images.length-1}addBufferView(e){const t=e.byteLength;g(Number.isFinite(t)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);const n={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.byteLength+=D(t,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(n),this.json.bufferViews.length-1}addAccessor(e,t){const n={bufferView:e,type:H(t.size),componentType:t.componentType,count:t.count,max:t.max,min:t.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(n),this.json.accessors.length-1}addBinaryBuffer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3};const n=this.addBufferView(e);let r={min:t.min,max:t.max};r.min&&r.max||(r=this._getAccessorMinMax(e,t.size));const s={size:t.size,componentType:v(e),count:Math.round(e.length/t.size),min:r.min,max:r.max};return this.addAccessor(n,Object.assign(s,t))}addTexture(e){const{imageIndex:t}=e,n={source:t};return this.json.textures=this.json.textures||[],this.json.textures.push(n),this.json.textures.length-1}addMaterial(e){return this.json.materials=this.json.materials||[],this.json.materials.push(e),this.json.materials.length-1}createBinaryChunk(){var e,t;this.gltf.buffers=[];const n=this.byteLength,r=new ArrayBuffer(n),s=new Uint8Array(r);let o=0;for(const i of this.sourceBuffers||[])o=F(i,s,o);null!==(e=this.json)&&void 0!==e&&null!==(t=e.buffers)&&void 0!==t&&t[0]?this.json.buffers[0].byteLength=n:this.json.buffers=[{byteLength:n}],this.gltf.binary=r,this.sourceBuffers=[r]}_removeStringFromArray(e,t){let n=!0;for(;n;){const r=e.indexOf(t);r>-1?e.splice(r,1):n=!1}}_addAttributes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={};for(const n in e){const r=e[n],s=this._getGltfAttributeName(n),o=this.addBinaryBuffer(r.value,r);t[s]=o}return t}_addIndices(e){return this.addBinaryBuffer(e,{size:1})}_getGltfAttributeName(e){switch(e.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return e}}_getAccessorMinMax(e,t){const n={min:null,max:null};if(e.length<t)return n;n.min=[],n.max=[];const r=e.subarray(0,t);for(const s of r)n.min.push(s),n.max.push(s);for(let s=t;s<e.length;s+=t)for(let r=0;r<t;r++)n.min[0+r]=Math.min(n.min[0+r],e[s+r]),n.max[0+r]=Math.max(n.max[0+r],e[s+r]);return n}}const U="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",P="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",x=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),L=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),K={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},j={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};let X;async function Q(){return X||(X=async function(){let e=U;WebAssembly.validate(x)&&(e=P,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const t=await WebAssembly.instantiate(function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);t[r]=n>96?n-71:n>64?n-65:n>47?n+4:n>46?63:62}let n=0;for(let r=0;r<e.length;++r)t[n++]=t[r]<60?L[t[r]]:64*(t[r]-60)+t[++r];return t.buffer.slice(0,n)}(e),{});return await t.instance.exports.__wasm_call_ctors(),t.instance}()),X}function N(e,t,n,r,s,o,i){const a=e.exports.sbrk,c=r+3&-4,A=a(c*s),B=a(o.length),u=new Uint8Array(e.exports.memory.buffer);u.set(o,B);const l=t(A,r,s,B,o.length);if(0===l&&i&&i(A,c,s),n.set(u.subarray(A,A+r*s)),a(A-a(0)),0!==l)throw new Error("Malformed buffer data: ".concat(l))}const Y="EXT_meshopt_compression",Z=Y;async function V(e,t){var n;const r=new O(e);if(null==t||null===(n=t.gltf)||void 0===n||!n.decompressMeshes)return;const s=[];for(const o of e.json.bufferViews||[])s.push(k(r,o));await Promise.all(s),r.removeExtension(Y)}async function k(e,t){const n=e.getObjectExtension(t,Y);if(n){const{byteOffset:r=0,byteLength:s=0,byteStride:o,count:i,mode:a,filter:c="NONE",buffer:A}=n,B=e.gltf.buffers[A],u=new Uint8Array(B.arrayBuffer,B.byteOffset+r,s),l=new Uint8Array(e.gltf.buffers[t.buffer].arrayBuffer,t.byteOffset,t.byteLength);return await async function(e,t,n,r,s){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NONE";const i=await Q();N(i,i.exports[j[s]],e,t,n,r,i.exports[K[o||"NONE"]])}(l,i,o,u,a,c),l}return null}var W=n(39579);const q={};function z(e){if(void 0===q[e]){const t=W.jU?function(e){switch(e){case"image/avif":case"image/webp":return function(e){try{const t=document.createElement("canvas");return 0===t.toDataURL(e).indexOf("data:".concat(e))}catch{return!1}}(e);default:return!0}}(e):$(e);q[e]=t}return q[e]}function $(e){const t=["image/png","image/jpeg","image/gif"],{_parseImageNode:n,_imageFormatsNode:r=t}=globalThis;return Boolean(n)&&r.includes(e)}const ee="EXT_texture_webp",te=ee;function ne(e,t){const n=new O(e);if(!z("image/webp")){if(n.getRequiredExtensions().includes(ee))throw new Error("gltf: Required extension ".concat(ee," not supported by browser"));return}const{json:r}=n;for(const s of r.textures||[]){const e=n.getObjectExtension(s,ee);e&&(s.source=e.source),n.removeObjectExtension(s,ee)}n.removeExtension(ee)}const re="KHR_texture_basisu",se=re;function oe(e,t){const n=new O(e),{json:r}=n;for(const s of r.textures||[]){const e=n.getObjectExtension(s,re);e&&(s.source=e.source),n.removeObjectExtension(s,re)}n.removeExtension(re)}var ie=n(64995);function ae(e){const{buffer:t,size:n,count:r}=function(e){let t=e,n=1,r=0;e&&e.value&&(t=e.value,n=e.size||1);t&&(ArrayBuffer.isView(t)||(t=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;if(Array.isArray(e))return new t(e);if(n&&!(e instanceof t))return new t(e);return e}(t,Float32Array)),r=t.length/n);return{buffer:t,size:n,count:r}}(e);return{value:t,size:n,byteOffset:0,count:r,type:H(n),componentType:v(t)}}const ce="KHR_draco_mesh_compression",Ae=ce;function Be(e,t,n){const r=new O(e);for(const s of Ce(r))r.getObjectExtension(s,ce)}async function ue(e,t,n){var r;if(null==t||null===(r=t.gltf)||void 0===r||!r.decompressMeshes)return;const s=new O(e),o=[];for(const i of Ce(s))s.getObjectExtension(i,ce)&&o.push(fe(s,i,t,n));await Promise.all(o),s.removeExtension(ce)}function le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new O(e);for(const r of n.json.meshes||[])de(r,t),n.addRequiredExtension(ce)}async function fe(e,t,n,r){const s=e.getObjectExtension(t,ce);if(!s)return;const o=e.getTypedArrayForBufferView(s.bufferView),i=(0,m.qv)(o.buffer,o.byteOffset),{parse:a}=r,c={...n};delete c["3d-tiles"];const A=await a(i,ie.VJ,c,r),B=function(e){const t={};for(const n in e){const r=e[n];if("indices"!==n){const e=ae(r);t[n]=e}}return t}(A.attributes);for(const[u,l]of Object.entries(B))if(u in t.attributes){const n=t.attributes[u],r=e.getAccessor(n);null!=r&&r.min&&null!=r&&r.max&&(l.min=r.min,l.max=r.max)}t.attributes=B,A.indices&&(t.indices=ae(A.indices)),function(e){if(!e.attributes&&Object.keys(e.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(t)}function de(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,s=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(!s.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const i=s.DracoWriter.encodeSync({attributes:e}),a=null==o||null===(n=o.parseSync)||void 0===n?void 0:n.call(o,{attributes:e}),c=s._addFauxAttributes(a.attributes),A=s.addBufferView(i);return{primitives:[{attributes:c,mode:r,extensions:{[ce]:{bufferView:A,attributes:c}}}]}}function*Ce(e){for(const t of e.json.meshes||[])for(const e of t.primitives)yield e}var he=n(43855),me=n(80540);const ge={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Ee={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4};const be="KHR_texture_transform",pe=be,Ge=new he.Z,ye=new me.Z,De=new me.Z;async function Fe(e,t){if(!new O(e).getExtension(be))return;const n=e.json.materials||[];for(let r=0;r<n.length;r++)Re(r,e)}function Re(e,t){var n,r,s;const o=[],i=null===(n=t.json.materials)||void 0===n?void 0:n[e],a=null==i||null===(r=i.pbrMetallicRoughness)||void 0===r?void 0:r.baseColorTexture;a&&_e(t,e,a,o);const c=null==i?void 0:i.emissiveTexture;c&&_e(t,e,c,o);const A=null==i?void 0:i.normalTexture;A&&_e(t,e,A,o);const B=null==i?void 0:i.occlusionTexture;B&&_e(t,e,B,o);const u=null==i||null===(s=i.pbrMetallicRoughness)||void 0===s?void 0:s.metallicRoughnessTexture;u&&_e(t,e,u,o)}function _e(e,t,n,r){const s=function(e,t){var n;const r=null===(n=e.extensions)||void 0===n?void 0:n[be],{texCoord:s=0}=e,{texCoord:o=s}=r,i=-1!==t.findIndex((e=>{let[t,n]=e;return t===s&&n===o}));if(!i){const n=function(e){const{offset:t=[0,0],rotation:n=0,scale:r=[1,1]}=e,s=(new me.Z).set(1,0,0,0,1,0,t[0],t[1],1),o=ye.set(Math.cos(n),Math.sin(n),0,-Math.sin(n),Math.cos(n),0,0,0,1),i=De.set(r[0],0,0,0,r[1],0,0,0,1);return s.multiplyRight(o).multiplyRight(i)}(r);return s!==o&&(e.texCoord=o),t.push([s,o]),{originalTexCoord:s,texCoord:o,matrix:n}}return null}(n,r);if(!s)return;const o=e.json.meshes||[];for(const i of o)for(const n of i.primitives){const r=n.material;Number.isFinite(r)&&t===r&&Me(e,n,s)}}function Me(e,t,n){const{originalTexCoord:r,texCoord:s,matrix:o}=n,i=t.attributes["TEXCOORD_".concat(r)];if(Number.isFinite(i)){var a;const n=null===(a=e.json.accessors)||void 0===a?void 0:a[i];if(n&&n.bufferView){var c;const i=null===(c=e.json.bufferViews)||void 0===c?void 0:c[n.bufferView];if(i){const{arrayBuffer:a,byteOffset:c}=e.buffers[i.buffer],A=(c||0)+(n.byteOffset||0)+(i.byteOffset||0),{ArrayType:B,length:u}=J(n,i),l=Ee[n.componentType],f=ge[n.type],d=i.byteStride||l*f,C=new Float32Array(u);for(let e=0;e<n.count;e++){const t=new B(a,A+e*d,2);Ge.set(t[0],t[1],1),Ge.transformByMatrix3(o),C.set([Ge[0],Ge[1]],e*f)}r===s?function(e,t,n,r){e.componentType=5126,n.push({arrayBuffer:r.buffer,byteOffset:0,byteLength:r.buffer.byteLength}),t.buffer=n.length-1,t.byteLength=r.buffer.byteLength,t.byteOffset=0,delete t.byteStride}(n,i,e.buffers,C):function(e,t,n,r,s){r.buffers.push({arrayBuffer:s.buffer,byteOffset:0,byteLength:s.buffer.byteLength});const o=r.json.bufferViews;if(!o)return;o.push({buffer:r.buffers.length-1,byteLength:s.buffer.byteLength,byteOffset:0});const i=r.json.accessors;if(!i)return;i.push({bufferView:(null==o?void 0:o.length)-1,byteOffset:0,componentType:5126,count:t.count,type:"VEC2"}),n.attributes["TEXCOORD_".concat(e)]=i.length-1}(s,n,t,e,C)}}}}const Se="KHR_lights_punctual",Ie=Se;async function Te(e){const t=new O(e),{json:n}=t,r=t.getExtension(Se);r&&(t.json.lights=r.lights,t.removeExtension(Se));for(const s of n.nodes||[]){const e=t.getObjectExtension(s,Se);e&&(s.light=e.light),t.removeObjectExtension(s,Se)}}async function He(e){const t=new O(e),{json:n}=t;if(n.lights){const e=t.addExtension(Se);g(!e.lights),e.lights=n.lights,delete n.lights}if(t.json.lights){for(const e of t.json.lights){const n=e.node;t.addObjectExtension(n,Se,e)}delete t.json.lights}}const ve="KHR_materials_unlit",Je=ve;async function we(e){const t=new O(e),{json:n}=t;for(const r of n.materials||[]){r.extensions&&r.extensions.KHR_materials_unlit&&(r.unlit=!0),t.removeObjectExtension(r,ve)}t.removeExtension(ve)}function Oe(e){const t=new O(e),{json:n}=t;if(t.materials)for(const r of n.materials||[])r.unlit&&(delete r.unlit,t.addObjectExtension(r,ve,{}),t.addExtension(ve))}const Ue="KHR_techniques_webgl",Pe=Ue;async function xe(e){const t=new O(e),{json:n}=t,r=t.getExtension(Ue);if(r){const e=function(e,t){const{programs:n=[],shaders:r=[],techniques:s=[]}=e,o=new TextDecoder;return r.forEach((e=>{if(!Number.isFinite(e.bufferView))throw new Error("KHR_techniques_webgl: no shader code");e.code=o.decode(t.getTypedArrayForBufferView(e.bufferView))})),n.forEach((e=>{e.fragmentShader=r[e.fragmentShader],e.vertexShader=r[e.vertexShader]})),s.forEach((e=>{e.program=n[e.program]})),s}(r,t);for(const r of n.materials||[]){const n=t.getObjectExtension(r,Ue);n&&(r.technique=Object.assign({},n,e[n.technique]),r.technique.values=Ke(r.technique,t)),t.removeObjectExtension(r,Ue)}t.removeExtension(Ue)}}async function Le(e,t){}function Ke(e,t){const n=Object.assign({},e.values);return Object.keys(e.uniforms||{}).forEach((t=>{e.uniforms[t].value&&!(t in n)&&(n[t]=e.uniforms[t].value)})),Object.keys(n).forEach((e=>{"object"==typeof n[e]&&void 0!==n[e].index&&(n[e].texture=t.getTexture(n[e].index))})),n}const je="EXT_feature_metadata",Xe=je;async function Qe(e){!function(e){var t;const n=e.getExtension(je),r=null==n||null===(t=n.schema)||void 0===t?void 0:t.classes,s=null==n?void 0:n.featureTables;(null==n?void 0:n.featureTextures)&&console.warn('featureTextures is not yet supported in the "EXT_feature_metadata" extension.');if(r&&s)for(const o in r){const t=r[o],n=Ze(s,o);n&&Ne(e,n,t)}}(new O(e))}function Ne(e,t,n){for(const s in n.properties){var r;const o=n.properties[s],i=null==t||null===(r=t.properties)||void 0===r?void 0:r[s],a=t.count;if(i){const t=Ye(e,o,a,i);i.data=t}}}function Ye(e,t,n,r){const s=r.bufferView;let o=e.getTypedArrayForBufferView(s);switch(t.type){case"STRING":{const t=r.stringOffsetBufferView;o=function(e,t,n){const r=[],s=new TextDecoder("utf8");let o=0;const i=4;for(let a=0;a<n;a++){const n=t[(a+1)*i]-t[a*i],c=e.subarray(o,n+o),A=s.decode(c);r.push(A),o+=n}return r}(o,e.getTypedArrayForBufferView(t),n);break}}return o}function Ze(e,t){for(const n in e){const r=e[n];if(r.class===t)return r}return null}const Ve=[r,s,o,i,c,A,B,a,u];function ke(e,t){var n;const r=(null==t||null===(n=t.gltf)||void 0===n?void 0:n.excludeExtensions)||{};return!(e in r&&!r[e])}const We="KHR_binary_glTF";const qe={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},ze={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"};class $e{constructor(){(0,p.Z)(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}),(0,p.Z)(this,"json",void 0)}normalize(e,t){this.json=e.json;const n=e.json;switch(n.asset&&n.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(n.asset.version))}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(n),this._convertTopLevelObjectsToArrays(n),function(e){const t=new O(e),{json:n}=t;for(const r of n.images||[]){const e=t.getObjectExtension(r,We);e&&Object.assign(r,e),t.removeObjectExtension(r,We)}n.buffers&&n.buffers[0]&&delete n.buffers[0].uri,t.removeExtension(We)}(e),this._convertObjectIdsToArrayIndices(n),this._updateObjects(n),this._updateMaterial(n)}_addAsset(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(e){for(const t in qe)this._convertTopLevelObjectToArray(e,t)}_convertTopLevelObjectToArray(e,t){const n=e[t];if(n&&!Array.isArray(n)){e[t]=[];for(const r in n){const s=n[r];s.id=s.id||r;const o=e[t].length;e[t].push(s),this.idToIndexMap[t][r]=o}}}_convertObjectIdsToArrayIndices(e){for(const t in qe)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));for(const t of e.textures)this._convertTextureIds(t);for(const t of e.meshes)this._convertMeshIds(t);for(const t of e.nodes)this._convertNodeIds(t);for(const t of e.scenes)this._convertSceneIds(t)}_convertTextureIds(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}_convertMeshIds(e){for(const t of e.primitives){const{attributes:e,indices:n,material:r}=t;for(const t in e)e[t]=this._convertIdToIndex(e[t],"accessor");n&&(t.indices=this._convertIdToIndex(n,"accessor")),r&&(t.material=this._convertIdToIndex(r,"material"))}}_convertNodeIds(e){e.children&&(e.children=e.children.map((e=>this._convertIdToIndex(e,"node")))),e.meshes&&(e.meshes=e.meshes.map((e=>this._convertIdToIndex(e,"mesh"))))}_convertSceneIds(e){e.nodes&&(e.nodes=e.nodes.map((e=>this._convertIdToIndex(e,"node"))))}_convertIdsToIndices(e,t){e[t]||(console.warn("gltf v1: json doesn't contain attribute ".concat(t)),e[t]=[]);for(const n of e[t])for(const e in n){const t=n[e],r=this._convertIdToIndex(t,e);n[e]=r}}_convertIdToIndex(e,t){const n=ze[t];if(n in this.idToIndexMap){const r=this.idToIndexMap[n][e];if(!Number.isFinite(r))throw new Error("gltf v1: failed to resolve ".concat(t," with id ").concat(e));return r}return e}_updateObjects(e){for(const t of this.json.buffers)delete t.type}_updateMaterial(e){for(const s of e.materials){var t,n,r;s.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const o=(null===(t=s.values)||void 0===t?void 0:t.tex)||(null===(n=s.values)||void 0===n?void 0:n.texture2d_0)||(null===(r=s.values)||void 0===r?void 0:r.diffuseTex),i=e.textures.findIndex((e=>e.id===o));-1!==i&&(s.pbrMetallicRoughness.baseColorTexture={index:i})}}}const et={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},tt={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},nt=10240,rt=10241,st=10242,ot=10243,it=10497,at={magFilter:nt,minFilter:rt,wrapS:st,wrapT:ot},ct={[nt]:9729,[rt]:9986,[st]:it,[ot]:it};class At{constructor(){(0,p.Z)(this,"baseUri",""),(0,p.Z)(this,"json",{}),(0,p.Z)(this,"buffers",[]),(0,p.Z)(this,"images",[])}postProcess(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{json:n,buffers:r=[],images:s=[],baseUri:o=""}=e;return g(n),this.baseUri=o,this.json=n,this.buffers=r,this.images=s,this._resolveTree(this.json,t),this.json}_resolveTree(e){e.bufferViews&&(e.bufferViews=e.bufferViews.map(((e,t)=>this._resolveBufferView(e,t)))),e.images&&(e.images=e.images.map(((e,t)=>this._resolveImage(e,t)))),e.samplers&&(e.samplers=e.samplers.map(((e,t)=>this._resolveSampler(e,t)))),e.textures&&(e.textures=e.textures.map(((e,t)=>this._resolveTexture(e,t)))),e.accessors&&(e.accessors=e.accessors.map(((e,t)=>this._resolveAccessor(e,t)))),e.materials&&(e.materials=e.materials.map(((e,t)=>this._resolveMaterial(e,t)))),e.meshes&&(e.meshes=e.meshes.map(((e,t)=>this._resolveMesh(e,t)))),e.nodes&&(e.nodes=e.nodes.map(((e,t)=>this._resolveNode(e,t)))),e.skins&&(e.skins=e.skins.map(((e,t)=>this._resolveSkin(e,t)))),e.scenes&&(e.scenes=e.scenes.map(((e,t)=>this._resolveScene(e,t)))),void 0!==e.scene&&(e.scene=e.scenes[this.json.scene])}getScene(e){return this._get("scenes",e)}getNode(e){return this._get("nodes",e)}getSkin(e){return this._get("skins",e)}getMesh(e){return this._get("meshes",e)}getMaterial(e){return this._get("materials",e)}getAccessor(e){return this._get("accessors",e)}getCamera(e){return null}getTexture(e){return this._get("textures",e)}getSampler(e){return this._get("samplers",e)}getImage(e){return this._get("images",e)}getBufferView(e){return this._get("bufferViews",e)}getBuffer(e){return this._get("buffers",e)}_get(e,t){if("object"==typeof t)return t;const n=this.json[e]&&this.json[e][t];return n||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),n}_resolveScene(e,t){return e.id=e.id||"scene-".concat(t),e.nodes=(e.nodes||[]).map((e=>this.getNode(e))),e}_resolveNode(e,t){return e.id=e.id||"node-".concat(t),e.children&&(e.children=e.children.map((e=>this.getNode(e)))),void 0!==e.mesh?e.mesh=this.getMesh(e.mesh):void 0!==e.meshes&&e.meshes.length&&(e.mesh=e.meshes.reduce(((e,t)=>{const n=this.getMesh(t);return e.id=n.id,e.primitives=e.primitives.concat(n.primitives),e}),{primitives:[]})),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin)),e}_resolveSkin(e,t){return e.id=e.id||"skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e}_resolveMesh(e,t){return e.id=e.id||"mesh-".concat(t),e.primitives&&(e.primitives=e.primitives.map((e=>{const t=(e={...e}).attributes;e.attributes={};for(const n in t)e.attributes[n]=this.getAccessor(t[n]);return void 0!==e.indices&&(e.indices=this.getAccessor(e.indices)),void 0!==e.material&&(e.material=this.getMaterial(e.material)),e}))),e}_resolveMaterial(e,t){if(e.id=e.id||"material-".concat(t),e.normalTexture&&(e.normalTexture={...e.normalTexture},e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture={...e.occlustionTexture},e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture={...e.emmisiveTexture},e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.emissiveFactor||(e.emissiveFactor=e.emmisiveTexture?[1,1,1]:[0,0,0]),e.pbrMetallicRoughness){e.pbrMetallicRoughness={...e.pbrMetallicRoughness};const t=e.pbrMetallicRoughness;t.baseColorTexture&&(t.baseColorTexture={...t.baseColorTexture},t.baseColorTexture.texture=this.getTexture(t.baseColorTexture.index)),t.metallicRoughnessTexture&&(t.metallicRoughnessTexture={...t.metallicRoughnessTexture},t.metallicRoughnessTexture.texture=this.getTexture(t.metallicRoughnessTexture.index))}return e}_resolveAccessor(e,t){var n,r;if(e.id=e.id||"accessor-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=(n=e.componentType,tt[n]),e.components=(r=e.type,et[r]),e.bytesPerElement=e.bytesPerComponent*e.components,e.bufferView){const t=e.bufferView.buffer,{ArrayType:n,byteLength:r}=J(e,e.bufferView),s=(e.bufferView.byteOffset||0)+(e.byteOffset||0)+t.byteOffset;let o=t.arrayBuffer.slice(s,s+r);e.bufferView.byteStride&&(o=this._getValueFromInterleavedBuffer(t,s,e.bufferView.byteStride,e.bytesPerElement,e.count)),e.value=new n(o)}return e}_getValueFromInterleavedBuffer(e,t,n,r,s){const o=new Uint8Array(s*r);for(let i=0;i<s;i++){const s=t+i*n;o.set(new Uint8Array(e.arrayBuffer.slice(s,s+r)),i*r)}return o.buffer}_resolveTexture(e,t){return e.id=e.id||"texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):ct,e.source=this.getImage(e.source),e}_resolveSampler(e,t){e.id=e.id||"sampler-".concat(t),e.parameters={};for(const n in e){const t=this._enumSamplerParameter(n);void 0!==t&&(e.parameters[t]=e[n])}return e}_enumSamplerParameter(e){return at[e]}_resolveImage(e,t){e.id=e.id||"image-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));const n=this.images[t];return n&&(e.image=n),e}_resolveBufferView(e,t){const n=e.buffer,r={id:"bufferView-".concat(t),...e,buffer:this.buffers[n]},s=this.buffers[n].arrayBuffer;let o=this.buffers[n].byteOffset||0;return"byteOffset"in e&&(o+=e.byteOffset),r.data=new Uint8Array(s,o,e.byteLength),r}_resolveCamera(e,t){return e.id=e.id||"camera-".concat(t),e.perspective,e.orthographic,e}}const Bt=1735152710,ut=12,lt=8,ft=1313821514,dt=5130562,Ct=0,ht=1,mt=0,gt=!0;function Et(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=new DataView(t),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(String.fromCharCode(e.getUint8(t+0))).concat(String.fromCharCode(e.getUint8(t+1))).concat(String.fromCharCode(e.getUint8(t+2))).concat(String.fromCharCode(e.getUint8(t+3)))}(s,n+0),i=s.getUint32(n+4,gt),a=s.getUint32(n+8,gt);switch(Object.assign(e,{header:{byteOffset:n,byteLength:a,hasBinChunk:!1},type:o,version:i,json:{},binChunks:[]}),n+=ut,e.version){case 1:return function(e,t,n){(0,y.h)(e.header.byteLength>ut+lt);const r=t.getUint32(n+0,gt),s=t.getUint32(n+4,gt);return n+=lt,(0,y.h)(s===mt),bt(e,t,n,r),n+=r,n+=pt(e,t,n,e.header.byteLength),n}(e,s,n);case 2:return function(e,t,n,r){return(0,y.h)(e.header.byteLength>ut+lt),function(e,t,n,r){for(;n+8<=e.header.byteLength;){const s=t.getUint32(n+0,gt),o=t.getUint32(n+4,gt);switch(n+=lt,o){case ft:bt(e,t,n,s);break;case dt:pt(e,t,n,s);break;case Ct:r.strict||bt(e,t,n,s);break;case ht:r.strict||pt(e,t,n,s)}n+=D(s,4)}}(e,t,n,r),n+e.header.byteLength}(e,s,n,r={});default:throw new Error("Invalid GLB version ".concat(e.version,". Only supports v1 and v2."))}}function bt(e,t,n,r){const s=new Uint8Array(t.buffer,n,r),o=new TextDecoder("utf8").decode(s);return e.json=JSON.parse(o),D(r,4)}function pt(e,t,n,r){return e.header.hasBinChunk=!0,e.binChunks.push({byteOffset:n,byteLength:r,arrayBuffer:t.buffer}),D(r,4)}async function Gt(e,t){var n,r,s,o;let i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;!function(e,t,n,r){r.uri&&(e.baseUri=r.uri);if(t instanceof ArrayBuffer&&!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new DataView(e),{magic:s=Bt}=n,o=r.getUint32(t,!1);return o===s||o===Bt}(t,n,r)){t=(new TextDecoder).decode(t)}if("string"==typeof t)e.json=h(t);else if(t instanceof ArrayBuffer){const s={};n=Et(s,t,n,r.glb),g("glTF"===s.type,"Invalid GLB magic string ".concat(s.type)),e._glb=s,e.json=s.json}else g(!1,"GLTF: must be ArrayBuffer or string");const s=e.json.buffers||[];if(e.buffers=new Array(s.length).fill(null),e._glb&&e._glb.header.hasBinChunk){const{binChunks:t}=e._glb;e.buffers[0]={arrayBuffer:t[0].arrayBuffer,byteOffset:t[0].byteOffset,byteLength:t[0].byteLength}}const o=e.json.images||[];e.images=new Array(o.length).fill({})}(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(new $e).normalize(e,t)}(e,{normalize:null==i||null===(n=i.gltf)||void 0===n?void 0:n.normalize}),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=Ve.filter((e=>ke(e.name,t)));for(const o of r){var s;null===(s=o.preprocess)||void 0===s||s.call(o,e,t,n)}}(e,i,a);const c=[];if(null!=i&&null!==(r=i.gltf)&&void 0!==r&&r.loadBuffers&&e.json.buffers&&await async function(e,t,n){const r=e.json.buffers||[];for(let i=0;i<r.length;++i){const a=r[i];if(a.uri){var s,o;const{fetch:r}=n;g(r);const c=E(a.uri,t),A=await(null==n||null===(s=n.fetch)||void 0===s?void 0:s.call(n,c)),B=await(null==A||null===(o=A.arrayBuffer)||void 0===o?void 0:o.call(A));e.buffers[i]={arrayBuffer:B,byteOffset:0,byteLength:B.byteLength},delete a.uri}else null===e.buffers[i]&&(e.buffers[i]={arrayBuffer:new ArrayBuffer(a.byteLength),byteOffset:0,byteLength:a.byteLength})}}(e,i,a),null!=i&&null!==(s=i.gltf)&&void 0!==s&&s.loadImages){const t=async function(e,t,n){const r=function(e){const t=new Set,n=e.json.textures||[];for(const r of n)void 0!==r.source&&t.add(r.source);return Array.from(t).sort()}(e),s=e.json.images||[],o=[];for(const i of r)o.push(yt(e,s[i],i,t,n));return await Promise.all(o)}(e,i,a);c.push(t)}const A=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=Ve.filter((e=>ke(e.name,t)));for(const o of r){var s;await(null===(s=o.decode)||void 0===s?void 0:s.call(o,e,t,n))}}(e,i,a);return c.push(A),await Promise.all(c),null!=i&&null!==(o=i.gltf)&&void 0!==o&&o.postProcess?function(e,t){return(new At).postProcess(e,t)}(e,i):e}async function yt(e,t,n,r,s){const{fetch:o,parse:i}=s;let a;if(t.uri&&!t.hasOwnProperty("bufferView")){const e=E(t.uri,r),n=await o(e);a=await n.arrayBuffer(),t.bufferView={data:a}}if(Number.isFinite(t.bufferView)){const n=b(e.json,e.buffers,t.bufferView);a=(0,m.qv)(n.buffer,n.byteOffset,n.byteLength)}g(a,"glTF image has no data");let c=await i(a,[d.S,l.Ge],{mimeType:t.mimeType,basis:r.basis||{format:(0,f.h)()}},s);c&&c[0]&&(c={compressed:!0,mipmaps:!1,width:c[0].width,height:c[0].height,data:c[0]}),e.images=e.images||[],e.images[n]=c}const Dt={name:"glTF",id:"gltf",module:"gltf",version:"3.4.0-alpha.2",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;t={...Dt.options,...t},t.gltf={...Dt.options.gltf,...t.gltf};const{byteOffset:r=0}=t;return await Gt({},e,r,t,n)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}}},87391:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var r=n(77552),s=n(46936);const o={id:"image",module:"images",name:"Images",version:"3.4.0-alpha.2",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:r.Z,tests:[e=>Boolean((0,s.I)(new DataView(e)))],options:{image:{type:"auto",decode:!0}}}},46936:(e,t,n)=>{"use strict";function r(e){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=(s=t,[...s].map((e=>e.charCodeAt(0))));var s;for(let o=0;o<r.length;++o)if(r[o]!==e[o+n])return!1;return!0}(e,"ftyp",4)?0==(96&e[8])?null:function(e){switch((t=e,n=8,r=12,String.fromCharCode(...t.slice(n,r))).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}var t,n,r}(e):null}n.d(t,{I:()=>i});const s=!1,o=!0;function i(e){const t=a(e);return function(e){const t=a(e),n=t.byteLength>=24&&2303741511===t.getUint32(0,s);if(!n)return null;return{mimeType:"image/png",width:t.getUint32(16,s),height:t.getUint32(20,s)}}(t)||function(e){const t=a(e),n=t.byteLength>=3&&65496===t.getUint16(0,s)&&255===t.getUint8(2);if(!n)return null;const{tableMarkers:r,sofMarkers:o}=function(){const e=new Set([65499,65476,65484,65501,65534]);for(let n=65504;n<65520;++n)e.add(n);const t=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:t}}();let i=2;for(;i+9<t.byteLength;){const e=t.getUint16(i,s);if(o.has(e))return{mimeType:"image/jpeg",height:t.getUint16(i+5,s),width:t.getUint16(i+7,s)};if(!r.has(e))return null;i+=2,i+=t.getUint16(i,s)}return null}(t)||function(e){const t=a(e),n=t.byteLength>=10&&1195984440===t.getUint32(0,s);if(!n)return null;return{mimeType:"image/gif",width:t.getUint16(6,o),height:t.getUint16(8,o)}}(t)||function(e){const t=a(e),n=t.byteLength>=14&&16973===t.getUint16(0,s)&&t.getUint32(2,o)===t.byteLength;if(!n)return null;return{mimeType:"image/bmp",width:t.getUint32(18,o),height:t.getUint32(22,o)}}(t)||function(e){const t=new Uint8Array(e instanceof DataView?e.buffer:e),n=r(t);if(!n)return null;return{mimeType:n.mimeType,width:0,height:0}}(t)}function a(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}},72944:(e,t,n)=>{"use strict";function r(e){const t=i(e);if(!t)throw new Error("Not an image");return t}function s(e){return o(e)}function o(e){switch(r(e)){case"data":return e;case"image":case"imagebitmap":const t=document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("getImageData");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}function i(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&e instanceof Image?"image":e&&"object"==typeof e&&e.data&&e.width&&e.height?"data":null}n.d(t,{Ad:()=>s,n$:()=>o})},77552:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(73613),s=n(39579);const{_parseImageNode:o}=globalThis,i="undefined"!=typeof Image,a="undefined"!=typeof ImageBitmap,c=Boolean(o),A=!!s.jU||c;var B=n(72944);const u=/^data:image\/svg\+xml/,l=/\.svg((\?|#).*)?$/;function f(e){return e&&(u.test(e)||l.test(e))}function d(e,t){if(f(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}async function C(e,t,n){const r=function(e,t){if(f(t)){let t=(new TextDecoder).decode(e);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(t=unescape(encodeURIComponent(t)))}catch(n){throw new Error(n.message)}return"data:image/svg+xml;base64,".concat(btoa(t))}return d(e,t)}(e,n),s=self.URL||self.webkitURL,o="string"!=typeof r&&s.createObjectURL(r);try{return await async function(e,t){const n=new Image;if(n.src=e,t.image&&t.image.decode&&n.decode)return await n.decode(),n;return await new Promise(((t,r)=>{try{n.onload=()=>t(n),n.onerror=t=>r(new Error("Could not load image ".concat(e,": ").concat(t)))}catch(s){r(s)}}))}(o||r,t)}finally{o&&s.revokeObjectURL(o)}}const h={};let m=!0;async function g(e,t,n){let r;if(f(n)){r=await C(e,t,n)}else r=d(e,n);const s=t&&t.imagebitmap;return await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(e){for(const t in e||h)return!1;return!0}(t)&&m||(t=null);if(t)try{return await createImageBitmap(e,t)}catch(n){console.warn(n),m=!1}return await createImageBitmap(e)}(r,s)}var E=n(46936);async function b(e,t,n){const s=((t=t||{}).image||{}).type||"auto",{url:o}=n||{};let c;switch(function(e){switch(e){case"auto":case"data":return function(){if(a)return"imagebitmap";if(i)return"image";if(A)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(e){switch(e){case"auto":return a||i||A;case"imagebitmap":return a;case"image":return i;case"data":return A;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}}(e),e}}(s)){case"imagebitmap":c=await g(e,t,o);break;case"image":c=await C(e,t,o);break;case"data":c=await async function(e,t){const{mimeType:n}=(0,E.I)(e)||{},s=globalThis._parseImageNode;return(0,r.h)(s),await s(e,n)}(e);break;default:(0,r.h)(!1)}return"data"===s&&(c=(0,B.n$)(c)),c}},15339:(e,t,n)=>{"use strict";n.d(t,{po:()=>l});var r=n(73613),s=n(77552),o=n(72944),i=n(96351);function a(e,t,n){let s=e;"function"==typeof e&&(s=e({...t,...n})),(0,r.h)("string"==typeof s);const{baseUrl:o}=t;return o&&(s="/"===o[o.length-1]?"".concat(o).concat(s):"".concat(o,"/").concat(s)),(0,i.i3)(s)}const c=e=>e&&"object"==typeof e;async function A(e,t,n){if(Array.isArray(e))return await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.map((e=>A(e,t,n)));return await Promise.all(r)}(e,t,n);if(c(e))return await async function(e,t,n){const r=[],s={};for(const o in e){const i=A(e[o],t,n).then((e=>{s[o]=e}));r.push(i)}return await Promise.all(r),s}(e,t,n);const r=e;return await t(r,n)}async function B(e,t,n){return await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return await A(e,t,n)}(e,(e=>u(e,t,n)))}async function u(e,t,n){const r=await fetch(e,n.fetch),s=await r.arrayBuffer();return await t(s,n)}async function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t&&t.image&&t.image.mipLevels||0;return 0!==i?await async function(e,t,n,i){const c=[];if("auto"===t){const r=a(e,n,{...i,lod:0}),A=await u(r,s.Z,n),{width:B,height:l}=(0,o.Ad)(A);t=function(e){let{width:t,height:n}=e;return 1+Math.floor(Math.log2(Math.max(t,n)))}({width:B,height:l}),c.push(r)}(0,r.h)(t>0);for(let r=c.length;r<t;++r){const t=a(e,n,{...i,lod:r});c.push(t)}return c}(e,i,t,n):a(e,t,n)}(e,t);return await B(n,s.Z,t)}},2482:(e,t,n)=>{"use strict";function r(e,t,n){if(n=n||e.byteLength,e.byteLength<n||t.byteLength<n)return!1;const r=new Uint8Array(e),s=new Uint8Array(t);for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.map((e=>e instanceof ArrayBuffer?new Uint8Array(e):e)),s=r.reduce(((e,t)=>e+t.byteLength),0),o=new Uint8Array(s);let i=0;for(const a of r)o.set(a,i),i+=a.byteLength;return o.buffer}function o(e,t,n){const r=void 0!==n?new Uint8Array(e).subarray(t,t+n):new Uint8Array(e).subarray(t);return new Uint8Array(r).buffer}n.d(t,{JY:()=>s,Xq:()=>r,qv:()=>o})},73613:(e,t,n)=>{"use strict";function r(e,t){if(!e)throw new Error(t||"loader assertion failed.")}n.d(t,{h:()=>r})},39579:(e,t,n)=>{"use strict";n.d(t,{jU:()=>r});"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,void 0!==n.g&&n.g,"undefined"!=typeof document&&document;const r=Boolean("object"!=typeof process||"[object process]"!==String(process)||process.browser),s="undefined"!=typeof process&&process.version&&/v([0-9]*)/.exec(process.version);s&&parseFloat(s[1])},25735:(e,t,n)=>{"use strict";n.d(t,{Ed:()=>s,GZ:()=>o});var r=n(2482);async function s(e,t){for(;;){const{done:n,value:r}=await e.next();if(n)return void e.return();if(t(r))return}}async function o(e){const t=[];for await(const n of e)t.push(n);return(0,r.JY)(...t)}},96351:(e,t,n)=>{"use strict";n.d(t,{i3:()=>o});let r="";const s={};function o(e){for(const t in s)if(e.startsWith(t)){const n=s[t];e=e.replace(t,n)}return e.startsWith("http://")||e.startsWith("https://")||(e="".concat(r).concat(e)),e}},59645:(e,t,n)=>{"use strict";function r(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(t+1):""}function s(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(0,t):""}n.d(t,{XX:()=>s,vB:()=>r})},78354:(e,t,n)=>{"use strict";n.d(t,{ou:()=>c,qB:()=>a});var r=n(48347),s=n(72101),o=n(75228),i=n(4613);function a(e,t){const n=function(e){const t=[];for(const n in e){const r=e[n];t.push(c(n,r))}return t}(e);return new r.Z(n,t)}function c(e,t,n){const r=(0,i.Y)(t.value),a=n||function(e){const t=new Map;"byteOffset"in e&&t.set("byteOffset",e.byteOffset.toString(10));"byteStride"in e&&t.set("byteStride",e.byteStride.toString(10));"normalized"in e&&t.set("normalized",e.normalized.toString());return t}(t);return new s.Z(e,new o.t7(t.size,new s.Z("value",r)),!1,a)}},61569:(e,t,n)=>{"use strict";function r(e){let t=1/0,n=1/0,r=1/0,s=-1/0,o=-1/0,i=-1/0;const a=e.POSITION?e.POSITION.value:[],c=a&&a.length;for(let A=0;A<c;A+=3){const e=a[A],c=a[A+1],B=a[A+2];t=e<t?e:t,n=c<n?c:n,r=B<r?B:r,s=e>s?e:s,o=c>o?c:o,i=B>i?B:i}return[[t,n,r],[s,o,i]]}n.d(t,{v:()=>r})},4613:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var r=n(75228);function s(e){switch(e.constructor){case Int8Array:return new r.tJ;case Uint8Array:return new r.bz;case Int16Array:return new r.k6;case Uint16Array:return new r.s3;case Int32Array:return new r.Vq;case Uint32Array:return new r.cf;case Float32Array:return new r.yA;case Float64Array:return new r.Dh;default:throw new Error("array type not supported")}}},72101:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(81180);class s{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map;(0,r.Z)(this,"name",void 0),(0,r.Z)(this,"type",void 0),(0,r.Z)(this,"nullable",void 0),(0,r.Z)(this,"metadata",void 0),this.name=e,this.type=t,this.nullable=n,this.metadata=s}get typeId(){return this.type&&this.type.typeId}clone(){return new s(this.name,this.type,this.nullable,this.metadata)}compareTo(e){return this.name===e.name&&this.type===e.type&&this.nullable===e.nullable&&this.metadata===e.metadata}toString(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}},48347:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(81180);class s{constructor(e,t){(0,r.Z)(this,"fields",void 0),(0,r.Z)(this,"metadata",void 0),function(e,t){if(!e)throw new Error(t||"loader assertion failed.")}(Array.isArray(e)),function(e){const t={};for(const n of e)t[n.name]&&console.warn("Schema: duplicated field name",n.name,n),t[n.name]=!0}(e),this.fields=e,this.metadata=t||new Map}compareTo(e){if(this.metadata!==e.metadata)return!1;if(this.fields.length!==e.fields.length)return!1;for(let t=0;t<this.fields.length;++t)if(!this.fields[t].compareTo(e.fields[t]))return!1;return!0}select(){const e=Object.create(null);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e[s]=!0;const o=this.fields.filter((t=>e[t.name]));return new s(o,this.metadata)}selectAt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.map((e=>this.fields[e])).filter(Boolean);return new s(r,this.metadata)}assign(e){let t,n=this.metadata;if(e instanceof s){const r=e;t=r.fields,n=o(o(new Map,this.metadata),r.metadata)}else t=e;const r=Object.create(null);for(const s of this.fields)r[s.name]=s;for(const s of t)r[s.name]=s;const i=Object.values(r);return new s(i,n)}}function o(e,t){return new Map([...e||new Map,...t||new Map])}},75228:(e,t,n)=>{"use strict";n.d(t,{t7:()=>I,yA:()=>R,Dh:()=>_,k6:()=>g,Vq:()=>E,tJ:()=>m,s3:()=>p,cf:()=>G,bz:()=>b});var r=n(81180);let s,o,i,a,c,A,B,u,l;!function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"}(s||(s={}));class f{static isNull(e){return e&&e.typeId===s.Null}static isInt(e){return e&&e.typeId===s.Int}static isFloat(e){return e&&e.typeId===s.Float}static isBinary(e){return e&&e.typeId===s.Binary}static isUtf8(e){return e&&e.typeId===s.Utf8}static isBool(e){return e&&e.typeId===s.Bool}static isDecimal(e){return e&&e.typeId===s.Decimal}static isDate(e){return e&&e.typeId===s.Date}static isTime(e){return e&&e.typeId===s.Time}static isTimestamp(e){return e&&e.typeId===s.Timestamp}static isInterval(e){return e&&e.typeId===s.Interval}static isList(e){return e&&e.typeId===s.List}static isStruct(e){return e&&e.typeId===s.Struct}static isUnion(e){return e&&e.typeId===s.Union}static isFixedSizeBinary(e){return e&&e.typeId===s.FixedSizeBinary}static isFixedSizeList(e){return e&&e.typeId===s.FixedSizeList}static isMap(e){return e&&e.typeId===s.Map}static isDictionary(e){return e&&e.typeId===s.Dictionary}get typeId(){return s.NONE}compareTo(e){return this===e}}class d extends(null){get typeId(){return Type.Null}get[Symbol.toStringTag](){return"Null"}toString(){return"Null"}}class C extends(null){get typeId(){return Type.Bool}get[Symbol.toStringTag](){return"Bool"}toString(){return"Bool"}}o=Symbol.toStringTag;class h extends f{constructor(e,t){super(),(0,r.Z)(this,"isSigned",void 0),(0,r.Z)(this,"bitWidth",void 0),this.isSigned=e,this.bitWidth=t}get typeId(){return s.Int}get[o](){return"Int"}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}class m extends h{constructor(){super(!0,8)}}class g extends h{constructor(){super(!0,16)}}class E extends h{constructor(){super(!0,32)}}class b extends h{constructor(){super(!1,8)}}class p extends h{constructor(){super(!1,16)}}class G extends h{constructor(){super(!1,32)}}const y=32,D=64;i=Symbol.toStringTag;class F extends f{constructor(e){super(),(0,r.Z)(this,"precision",void 0),this.precision=e}get typeId(){return s.Float}get[i](){return"Float"}toString(){return"Float".concat(this.precision)}}class R extends F{constructor(){super(y)}}class _ extends F{constructor(){super(D)}}class M extends(null){constructor(){super()}get typeId(){return Type.Binary}toString(){return"Binary"}get[Symbol.toStringTag](){return"Binary"}}class S extends(null){get typeId(){return Type.Utf8}get[Symbol.toStringTag](){return"Utf8"}toString(){return"Utf8"}}a=Symbol.toStringTag;c=Symbol.toStringTag;A=Symbol.toStringTag;B=Symbol.toStringTag;u=Symbol.toStringTag;class I extends f{constructor(e,t){super(),(0,r.Z)(this,"listSize",void 0),(0,r.Z)(this,"children",void 0),this.listSize=e,this.children=[t]}get typeId(){return s.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[u](){return"FixedSizeList"}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}l=Symbol.toStringTag},4214:(e,t,n)=>{"use strict";n.d(t,{Ge:()=>a});var r=n(96013),s=n(41699),o=n(1975);const i={name:"Basis",id:r.jU?"basis":"basis-nodejs",module:"textures",version:s.q,worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},a={...i,parse:o.Z}},31330:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});const r={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919}},1975:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C,h:()=>p});var r=n(96706);const s="3.4.0-alpha.2",o="https://unpkg.com/@loaders.gl/textures@".concat(s,"/dist/libs/basis_encoder.wasm"),i="https://unpkg.com/@loaders.gl/textures@".concat(s,"/dist/libs/basis_encoder.js");let a,c;async function A(e){const t=e.modules||{};return t.basis?t.basis:(a=a||async function(e){let t=null,n=null;return[t,n]=await Promise.all([await(0,r.Y)("basis_transcoder.js","textures",e),await(0,r.Y)("basis_transcoder.wasm","textures",e)]),t=t||globalThis.BASIS,await function(e,t){const n={};t&&(n.wasmBinary=t);return new Promise((t=>{e(n).then((e=>{const{BasisFile:n,initializeBasis:r}=e;r(),t({BasisFile:n})}))}))}(t,n)}(e),await a)}async function B(e){const t=e.modules||{};return t.basisEncoder?t.basisEncoder:(c=c||async function(e){let t=null,n=null;return[t,n]=await Promise.all([await(0,r.Y)(i,"textures",e),await(0,r.Y)(o,"textures",e)]),t=t||globalThis.BASIS,await function(e,t){const n={};t&&(n.wasmBinary=t);return new Promise((t=>{e(n).then((e=>{const{BasisFile:n,KTX2File:r,initializeBasis:s,BasisEncoder:o}=e;s(),t({BasisFile:n,KTX2File:r,BasisEncoder:o})}))}))}(t,n)}(e),await c)}var u=n(31330),l=n(91872),f=n(17038);const d={etc1:{basisFormat:0,compressed:!0,format:u.p.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:u.p.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:u.p.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:u.p.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:u.p.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:u.p.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};async function C(e,t){if("auto"===t.basis.containerFormat){if((0,f.j)(e)){return g((await B(t)).KTX2File,e,t)}const{BasisFile:n}=await A(t);return h(n,e,t)}if("encoder"===t.basis.module){const n=await B(t);return"ktx2"===t.basis.containerFormat?g(n.KTX2File,e,t):h(n.BasisFile,e,t)}{const{BasisFile:n}=await A(t);return h(n,e,t)}}function h(e,t,n){const r=new e(new Uint8Array(t));try{if(!r.startTranscoding())throw new Error("Failed to start basis transcoding");const e=r.getNumImages(),t=[];for(let s=0;s<e;s++){const e=r.getNumLevels(s),o=[];for(let t=0;t<e;t++)o.push(m(r,s,t,n));t.push(o)}return t}finally{r.close(),r.delete()}}function m(e,t,n,r){const s=e.getImageWidth(t,n),o=e.getImageHeight(t,n),i=e.getHasAlpha(),{compressed:a,format:c,basisFormat:A}=b(r,i),B=e.getImageTranscodedSizeInBytes(t,n,A),u=new Uint8Array(B);if(!e.transcodeImage(u,t,n,A,0,0))throw new Error("failed to start Basis transcoding");return{width:s,height:o,data:u,compressed:a,format:c,hasAlpha:i}}function g(e,t,n){const r=new e(new Uint8Array(t));try{if(!r.startTranscoding())throw new Error("failed to start KTX2 transcoding");const e=r.getLevels(),t=[];for(let s=0;s<e;s++){t.push(E(r,s,n));break}return[t]}finally{r.close(),r.delete()}}function E(e,t,n){const{alphaFlag:r,height:s,width:o}=e.getImageLevelInfo(t,0,0),{compressed:i,format:a,basisFormat:c}=b(n,r),A=e.getImageTranscodedSizeInBytes(t,0,0,c),B=new Uint8Array(A);if(!e.transcodeImage(B,t,0,0,c,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:o,height:s,data:B,compressed:i,levelSize:A,hasAlpha:r,format:a}}function b(e,t){let n=e&&e.basis&&e.basis.format;return"auto"===n&&(n=p()),"object"==typeof n&&(n=t?n.alpha:n.noAlpha),n=n.toLowerCase(),d[n]}function p(){const e=(0,l.U)();return e.has("astc")?"astc-4x4":e.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:e.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:e.has("etc1")?"etc1":e.has("etc2")?"etc2":"rgb565"}},17038:(e,t,n)=>{"use strict";n.d(t,{j:()=>c,P:()=>A});var r=n(31029),s=n(2434),o=n(31330);const i={131:o.p.COMPRESSED_RGB_S3TC_DXT1_EXT,132:o.p.COMPRESSED_SRGB_S3TC_DXT1_EXT,133:o.p.COMPRESSED_RGBA_S3TC_DXT1_EXT,134:o.p.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,135:o.p.COMPRESSED_RGBA_S3TC_DXT3_EXT,136:o.p.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,137:o.p.COMPRESSED_RGBA_S3TC_DXT5_EXT,138:o.p.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,139:o.p.COMPRESSED_RED_RGTC1_EXT,140:o.p.COMPRESSED_SIGNED_RED_RGTC1_EXT,141:o.p.COMPRESSED_RED_GREEN_RGTC2_EXT,142:o.p.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT,147:o.p.COMPRESSED_RGB8_ETC2,148:o.p.COMPRESSED_SRGB8_ETC2,149:o.p.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,150:o.p.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,151:o.p.COMPRESSED_RGBA8_ETC2_EAC,152:o.p.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,153:o.p.COMPRESSED_R11_EAC,154:o.p.COMPRESSED_SIGNED_R11_EAC,155:o.p.COMPRESSED_RG11_EAC,156:o.p.COMPRESSED_SIGNED_RG11_EAC,157:o.p.COMPRESSED_RGBA_ASTC_4x4_KHR,158:o.p.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,159:o.p.COMPRESSED_RGBA_ASTC_5x4_KHR,160:o.p.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR,161:o.p.COMPRESSED_RGBA_ASTC_5x5_KHR,162:o.p.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,163:o.p.COMPRESSED_RGBA_ASTC_6x5_KHR,164:o.p.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,165:o.p.COMPRESSED_RGBA_ASTC_6x6_KHR,166:o.p.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,167:o.p.COMPRESSED_RGBA_ASTC_8x5_KHR,168:o.p.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,169:o.p.COMPRESSED_RGBA_ASTC_8x6_KHR,170:o.p.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,171:o.p.COMPRESSED_RGBA_ASTC_8x8_KHR,172:o.p.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,173:o.p.COMPRESSED_RGBA_ASTC_10x5_KHR,174:o.p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,175:o.p.COMPRESSED_RGBA_ASTC_10x6_KHR,176:o.p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,177:o.p.COMPRESSED_RGBA_ASTC_10x8_KHR,178:o.p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,179:o.p.COMPRESSED_RGBA_ASTC_10x10_KHR,180:o.p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,181:o.p.COMPRESSED_RGBA_ASTC_12x10_KHR,182:o.p.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,183:o.p.COMPRESSED_RGBA_ASTC_12x12_KHR,184:o.p.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR,1000054e3:o.p.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,1000054001:o.p.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,1000066e3:o.p.COMPRESSED_RGBA_ASTC_4x4_KHR,1000066001:o.p.COMPRESSED_RGBA_ASTC_5x4_KHR,1000066002:o.p.COMPRESSED_RGBA_ASTC_5x5_KHR,1000066003:o.p.COMPRESSED_RGBA_ASTC_6x5_KHR,1000066004:o.p.COMPRESSED_RGBA_ASTC_6x6_KHR,1000066005:o.p.COMPRESSED_RGBA_ASTC_8x5_KHR,1000066006:o.p.COMPRESSED_RGBA_ASTC_8x6_KHR,1000066007:o.p.COMPRESSED_RGBA_ASTC_8x8_KHR,1000066008:o.p.COMPRESSED_RGBA_ASTC_10x5_KHR,1000066009:o.p.COMPRESSED_RGBA_ASTC_10x6_KHR,1000066010:o.p.COMPRESSED_RGBA_ASTC_10x8_KHR,1000066011:o.p.COMPRESSED_RGBA_ASTC_10x10_KHR,1000066012:o.p.COMPRESSED_RGBA_ASTC_12x10_KHR,1000066013:o.p.COMPRESSED_RGBA_ASTC_12x12_KHR};const a=[171,75,84,88,32,50,48,187,13,10,26,10];function c(e){const t=new Uint8Array(e);return!(t.byteLength<a.length||t[0]!==a[0]||t[1]!==a[1]||t[2]!==a[2]||t[3]!==a[3]||t[4]!==a[4]||t[5]!==a[5]||t[6]!==a[6]||t[7]!==a[7]||t[8]!==a[8]||t[9]!==a[9]||t[10]!==a[10]||t[11]!==a[11])}function A(e){const t=new Uint8Array(e),n=(0,r.ij)(t),o=Math.max(1,n.levels.length),a=n.pixelWidth,c=n.pixelHeight,A=(B=n.vkFormat,i[B]);var B;return(0,s.J)(n.levels,{mipMapLevels:o,width:a,height:c,sizeFunction:e=>e.uncompressedByteLength,internalFormat:A})}},2434:(e,t,n)=>{"use strict";function r(e,t){const n=new Array(t.mipMapLevels);let r=t.width,i=t.height,a=0;for(let c=0;c<t.mipMapLevels;++c){const A=o(t,r,i,e,c),B=s(e,c,a,A);n[c]={compressed:!0,format:t.internalFormat,data:B,width:r,height:i,levelSize:A},r=Math.max(1,r>>1),i=Math.max(1,i>>1),a+=A}return n}function s(e,t,n,r){return Array.isArray(e)?e[t].levelData:new Uint8Array(e.buffer,e.byteOffset+n,r)}function o(e,t,n,r,s){return Array.isArray(r)?e.sizeFunction(r[s]):e.sizeFunction(t,n)}n.d(t,{J:()=>r})},91872:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});const r=["","WEBKIT_","MOZ_"],s={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let o=null;function i(e){if(!o){e=e||function(){try{return document.createElement("canvas").getContext("webgl")}catch(e){return null}}()||void 0,o=new Set;for(const t of r)for(const n in s)if(e&&e.getExtension("".concat(t).concat(n))){const e=s[n];o.add(e)}}return o}},41699:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});const r="3.4.0-alpha.2"},49125:()=>{}}]);