"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[7161],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>v});var l=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,l,a=function(e,n){if(null==e)return{};var t,l,a={},r=Object.keys(e);for(l=0;l<r.length;l++)t=r[l],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)t=r[l],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=l.createContext({}),d=function(e){var n=l.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=d(e.components);return l.createElement(s.Provider,{value:n},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return l.createElement(l.Fragment,{},n)}},c=l.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=d(t),c=a,v=u["".concat(s,".").concat(c)]||u[c]||m[c]||r;return t?l.createElement(v,o(o({ref:n},p),{},{components:t})):l.createElement(v,o({ref:n},p))}));function v(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,o=new Array(r);o[0]=c;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i[u]="string"==typeof e?e:a,o[1]=i;for(var d=2;d<r;d++)o[d]=t[d];return l.createElement.apply(null,o)}return l.createElement.apply(null,t)}c.displayName="MDXCreateElement"},23493:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>i,toc:()=>d});var l=t(87462),a=(t(67294),t(3905));const r={},o="Development Environment",i={unversionedId:"developer-guide/dev-env",id:"developer-guide/dev-env",title:"Development Environment",description:"The master branch is the active development branch.",source:"@site/../docs/developer-guide/dev-env.md",sourceDirName:"developer-guide",slug:"/developer-guide/dev-env",permalink:"/docs/developer-guide/dev-env",draft:!1,editUrl:"https://github.com/visgl/loaders.gl/tree/master/website/../docs/developer-guide/dev-env.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Handling Errors",permalink:"/docs/developer-guide/error-handling"},next:{title:"Preferred JavaScript APIs",permalink:"/docs/developer-guide/concepts/javascript-apis"}},s={},d=[{value:"Running Tests",id:"running-tests",level:2},{value:"Environment Setup",id:"environment-setup",level:2},{value:"Develop on Windows",id:"develop-on-windows",level:3},{value:"Develop on Linux",id:"develop-on-linux",level:3},{value:"Appendix: Installing JavaScript Development Tools",id:"appendix-installing-javascript-development-tools",level:2},{value:"Install Node and NPM using NVM (recommended)",id:"install-node-and-npm-using-nvm-recommended",level:3},{value:"Optional: Install Node and NPM manually",id:"optional-install-node-and-npm-manually",level:4},{value:"Install yarn",id:"install-yarn",level:3},{value:"Install jq",id:"install-jq",level:3},{value:"Install build-essential package",id:"install-build-essential-package",level:3}],p={toc:d},u="wrapper";function m(e){let{components:n,...t}=e;return(0,a.kt)(u,(0,l.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"development-environment"},"Development Environment"),(0,a.kt)("p",null,"The ",(0,a.kt)("strong",{parentName:"p"},"master")," branch is the active development branch."),(0,a.kt)("p",null,"Building loaders.gl locally from the source requires node.js ",(0,a.kt)("inlineCode",{parentName:"p"},">=10"),".\nWe use ",(0,a.kt)("a",{parentName:"p",href:"https://yarnpkg.com/en/docs/install"},"yarn classic")," to manage the dependencies."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"git checkout master\nyarn\nyarn bootstrap\n")),(0,a.kt)("h2",{id:"running-tests"},"Running Tests"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"yarn bootstrap"),": Install and build workers etc. Run every time you pull a new branch."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"yarn lint"),": Check coding standards and formatting"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"yarn lint fix"),": Fix errors with formatting"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"yarn test node"),": Quick test run under Node.js"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"yarn test browser"),": Test run under browser, good for interactive debugging"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"yarn test"),": Run lint, node test, browser tests (in headless mode)")),(0,a.kt)("h2",{id:"environment-setup"},"Environment Setup"),(0,a.kt)("p",null,"Note that our primary development environment is MacOS, but it is also possible to build loaders.gl on Linux and Windows."),(0,a.kt)("h3",{id:"develop-on-windows"},"Develop on Windows"),(0,a.kt)("p",null,"It is possible to build loaders.gl on Windows 10, but not directly in the Windows command prompt. You will need to install a Linux command line environment."),(0,a.kt)("p",null,"First, install ",(0,a.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/windows/wsl/install-win10"},"WSL (Windows Subsystem for Linux)")," on Windows 10, and follow the ",(0,a.kt)("a",{parentName:"p",href:"#develop-on-linux"},"Linux")," directions."),(0,a.kt)("p",null,"Note that you may also need to make some decisions on where to place your code and whether to link the linux subsystem to your windows drives."),(0,a.kt)("p",null,"Once this is done, follow the instructions for developing on Linux."),(0,a.kt)("h3",{id:"develop-on-linux"},"Develop on Linux"),(0,a.kt)("p",null,"On Linux systems, the following packages are necessary for running webgl-based headless render tests."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"mesa-utils"),(0,a.kt)("li",{parentName:"ul"},"xvfb"),(0,a.kt)("li",{parentName:"ul"},"libgl1-mesa-dri"),(0,a.kt)("li",{parentName:"ul"},"libglapi-mesa"),(0,a.kt)("li",{parentName:"ul"},"libosmesa6"),(0,a.kt)("li",{parentName:"ul"},"libxi-dev")),(0,a.kt)("p",null,"To get the headless tests working: ",(0,a.kt)("inlineCode",{parentName:"p"},"export DISPLAY=:99.0; sh -e /etc/init.d/xvfb start")),(0,a.kt)("h2",{id:"appendix-installing-javascript-development-tools"},"Appendix: Installing JavaScript Development Tools"),(0,a.kt)("p",null,"You will of course need to install the basic JavaScript development tools. Unless you are new to JavaScript development you most likely already have these in place. The following should work on a linux system."),(0,a.kt)("h3",{id:"install-node-and-npm-using-nvm-recommended"},"Install Node and NPM using NVM (recommended)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"https://www.liquidweb.com/kb/how-to-install-nvm-node-version-manager-for-node-js-on-ubuntu-12-04-lts/")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"https://github.com/nvm-sh/nvm#install--update-script")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"https://github.com/nvm-sh/nvm/releases"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"nvm install 16\nnvm use 16\n")),(0,a.kt)("p",null,"(Node 16 is currently recommeded for building and development of loaders 3.3. NPM comes with the NodeJS in this case)"),(0,a.kt)("h4",{id:"optional-install-node-and-npm-manually"},"Optional: Install Node and NPM manually"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt update\nsudo apt install nodejs\nsudo apt install npm\n")),(0,a.kt)("h3",{id:"install-yarn"},"Install yarn"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://www.hostinger.com/tutorials/how-to-install-yarn-on-ubuntu/"},"https://www.hostinger.com/tutorials/how-to-install-yarn-on-ubuntu/"),"\n(yarn version needed is 1.22.19 or the latest stable 1.xx.xx)"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt update\nsudo apt install yarn nodejs\nyarn \u2013version\n")),(0,a.kt)("h3",{id:"install-jq"},"Install jq"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get install jq\n")),(0,a.kt)("h3",{id:"install-build-essential-package"},"Install build-essential package"),(0,a.kt)("p",null,"This step might be required for some systems that do not have required packages pre-installed."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get install build-essential\n")))}m.isMDXComponent=!0}}]);