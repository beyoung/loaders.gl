"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[5330],{55367:(t,e,r)=>{r.d(e,{Z:()=>d});var n=r(1418),i=r(49835),s=r(22525),a=r(87577),o=r(44211),h=r(6948);class u extends a.Z{get[Symbol.toStringTag](){return"Query"}static isSupported(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=(0,n.D0)(t),i=(0,o.ag)(t,h.h.TIMER_QUERY);let a=r||i;for(const n of e)switch(n){case"queries":a=a&&r;break;case"timers":a=a&&i;break;default:(0,s.h)(!1)}return a}constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.target=null,this._queryPending=!1,this._pollingPromise=null,Object.seal(this)}beginTimeElapsedQuery(){return this.begin(35007)}beginOcclusionQuery(){let{conservative:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.begin(t?36202:35887)}beginTransformFeedbackQuery(){return this.begin(35976)}begin(t){return this._queryPending||(this.target=t,this.gl2.beginQuery(this.target,this.handle)),this}end(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}isResultAvailable(){if(!this._queryPending)return!1;const t=this.gl2.getQueryParameter(this.handle,34919);return t&&(this._queryPending=!1),t}isTimerDisjoint(){return this.gl2.getParameter(36795)}getResult(){return this.gl2.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}createPoll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;let e=0;return this._pollingPromise=new Promise(((r,n)=>{const i=()=>{this.isResultAvailable()?(r(this.getResult()),this._pollingPromise=null):e++>t?(n("Timed out"),this._pollingPromise=null):requestAnimationFrame(i)};requestAnimationFrame(i)})),this._pollingPromise}_createHandle(){return u.isSupported(this.gl)?this.gl2.createQuery():null}_deleteHandle(){this.gl2.deleteQuery(this.handle)}}var c=r(53849);const l=(0,r(93370).Z)()&&"undefined"!=typeof document;let f=0;class d{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onCreateContext:e=(t=>(0,n.s9)(t)),onAddHTML:r=null,onInitialize:s=(()=>{}),onRender:a=(()=>{}),onFinalize:o=(()=>{}),onError:h,gl:u=null,glOptions:c={},debug:l=!1,createFramebuffer:d=!1,autoResizeViewport:g=!0,autoResizeDrawingBuffer:m=!0,stats:p=i.lR.get("animation-loop-".concat(f++))}=t;let{useDevicePixels:b=!0}=t;"useDevicePixelRatio"in t&&(n.cM.deprecated("useDevicePixelRatio","useDevicePixels")(),b=t.useDevicePixelRatio),this.props={onCreateContext:e,onAddHTML:r,onInitialize:s,onRender:a,onFinalize:o,onError:h,gl:u,glOptions:c,debug:l,createFramebuffer:d},this.gl=u,this.needsRedraw=null,this.timeline=null,this.stats=p,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:g,autoResizeDrawingBuffer:m,useDevicePixels:b}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}delete(){this.stop(),this._setDisplay(null)}setNeedsRedraw(t){return(0,s.h)("string"==typeof t),this.needsRedraw=this.needsRedraw||t,this}setProps(t){return"autoResizeViewport"in t&&(this.autoResizeViewport=t.autoResizeViewport),"autoResizeDrawingBuffer"in t&&(this.autoResizeDrawingBuffer=t.autoResizeDrawingBuffer),"useDevicePixels"in t&&(this.useDevicePixels=t.useDevicePixels),this}start(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;const e=this._getPageLoadPromise().then((()=>!this._running||this._initialized?null:(this._createWebGLContext(t),this._createFramebuffer(),this._startEventHandling(),this._initializeCallbackData(),this._updateCallbackData(),this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._gpuTimeQuery=u.isSupported(this.gl,["timers"])?new u(this.gl):null,this._initialized=!0,this.onInitialize(this.animationProps)))).then((t=>{this._running&&(this._addCallbackData(t||{}),!1!==t&&this._startLoop())}));return this.props.onError&&e.catch(this.props.onError),this}redraw(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}stop(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}attachTimeline(t){return this.timeline=t,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((t=>{this._resolveNextFrame=t}))),this._nextFramePromise}async toDataURL(){return this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.gl.canvas.toDataURL()}isContextLost(){return this.gl.isContextLost()}onCreateContext(){return this.props.onCreateContext(...arguments)}onInitialize(){return this.props.onInitialize(...arguments)}onRender(){return this.props.onRender(...arguments)}onFinalize(){return this.props.onFinalize(...arguments)}getHTMLControlValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const r=document.getElementById(t);return r?Number(r.value):e}setViewParameters(){return n.cM.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}_startLoop(){const t=()=>{this._running&&(this.redraw(),this._animationFrameId=this._requestAnimationFrame(t))};this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(t)}_getPageLoadPromise(){return this._pageLoadPromise||(this._pageLoadPromise=l?new Promise(((t,e)=>{l&&"complete"===document.readyState?t(document):window.addEventListener("load",(()=>{t(document)}))})):Promise.resolve({})),this._pageLoadPromise}_setDisplay(t){this.display&&(this.display.delete(),this.display.animationLoop=null),t&&(t.animationLoop=this),this.display=t}_cancelAnimationFrame(t){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(t):(e=t,"undefined"!=typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(e):clearTimeout(e));var e}_requestAnimationFrame(t){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(t):(e=t,"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,1e3/60));var e}_renderFrame(){this.display?this.display._renderFrame(...arguments):this.onRender(...arguments)}_clearNeedsRedraw(){this.needsRedraw=null}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}_initializeCallbackData(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}_updateCallbackData(){const{width:t,height:e,aspect:r}=this._getSizeAndAspect();t===this.animationProps.width&&e===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),r!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=t,this.animationProps.height=e,this.animationProps.aspect=r,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}_finalizeCallbackData(){this.onFinalize(this.animationProps)}_addCallbackData(t){"object"==typeof t&&null!==t&&(this.animationProps=Object.assign({},this.animationProps,t))}_createWebGLContext(t){if(this.offScreen=t.canvas&&"undefined"!=typeof OffscreenCanvas&&t.canvas instanceof OffscreenCanvas,t=Object.assign({},t,this.props.glOptions),this.gl=this.props.gl?(0,n.yW)(this.props.gl,t):this.onCreateContext(t),!(0,n.UF)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");(0,n.kL)(this.gl),this._createInfoDiv()}_createInfoDiv(){if(this.gl.canvas&&this.props.onAddHTML){const t=document.createElement("div");document.body.appendChild(t),t.style.position="relative";const e=document.createElement("div");e.style.position="absolute",e.style.left="10px",e.style.bottom="10px",e.style.width="300px",e.style.background="white",t.appendChild(this.gl.canvas),t.appendChild(e);const r=this.props.onAddHTML(e);r&&(e.innerHTML=r)}}_getSizeAndAspect(){const t=this.gl.drawingBufferWidth,e=this.gl.drawingBufferHeight;let r=1;const{canvas:n}=this.gl;return n&&n.clientHeight?r=n.clientWidth/n.clientHeight:t>0&&e>0&&(r=t/e),{width:t,height:e,aspect:r}}_resizeViewport(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){this.autoResizeDrawingBuffer&&(0,n.aQ)(this.gl,{useDevicePixels:this.useDevicePixels})}_createFramebuffer(){this.props.createFramebuffer&&(this.framebuffer=new c.Z(this.gl))}_resizeFramebuffer(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}_beginTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}_endTimers(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}_startEventHandling(){const{canvas:t}=this.gl;t&&(t.addEventListener("mousemove",this._onMousemove),t.addEventListener("mouseleave",this._onMouseleave))}_onMousemove(t){this.animationProps._mousePosition=[t.offsetX,t.offsetY]}_onMouseleave(t){this.animationProps._mousePosition=null}}},15462:(t,e,r)=>{r.d(e,{Z:()=>I});var n=r(1418),i=r(43426),s=r(74538),a=r(22525),o=r(26047),h=r(75433),u=r(14072),c=r(53478),l=r(87577);let f=null;function d(t,e){var r;return new t((r=t.BYTES_PER_ELEMENT*e,(!f||f.byteLength<r)&&(f=new ArrayBuffer(r)),f),0,e)}var g=r(3485);class m extends l.Z{get[Symbol.toStringTag](){return"VertexArrayObject"}static isSupported(t){return!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).constantAttributeZero||((0,n.D0)(t)||"Chrome"===(0,g.Z)())}static getDefaultArray(t){return t.luma=t.luma||{},t.luma.defaultVertexArray||(t.luma.defaultVertexArray=new m(t,{handle:null,isDefaultArray:!0})),t.luma.defaultVertexArray}static getMaxAttributes(t){return m.MAX_ATTRIBUTES=m.MAX_ATTRIBUTES||t.getParameter(34921),m.MAX_ATTRIBUTES}static setConstant(t,e,r){switch(r.constructor){case Float32Array:m._setConstantFloatArray(t,e,r);break;case Int32Array:m._setConstantIntArray(t,e,r);break;case Uint32Array:m._setConstantUintArray(t,e,r);break;default:(0,a.h)(!1)}}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.id||e.program&&e.program.id;super(t,Object.assign({},e,{id:r})),this.buffer=null,this.bufferValue=null,this.isDefaultArray=e.isDefaultArray||!1,this.gl2=t,this.initialize(e),Object.seal(this)}delete(){return super.delete(),this.buffer&&this.buffer.delete(),this}get MAX_ATTRIBUTES(){return m.getMaxAttributes(this.gl)}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.setProps(t)}setProps(t){return this}setElementBuffer(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,a.h)(!t||34963===t.target,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.bind((()=>{this.gl.bindBuffer(34963,t?t.handle:null)})),this}setBuffer(t,e,r){if(34963===e.target)return this.setElementBuffer(e,r);const{size:i,type:s,stride:o,offset:h,normalized:u,integer:c,divisor:l}=r,{gl:f,gl2:d}=this;return t=Number(t),this.bind((()=>{f.bindBuffer(34962,e.handle),c?((0,a.h)((0,n.D0)(f)),d.vertexAttribIPointer(t,i,s,o,h)):f.vertexAttribPointer(t,i,s,u,o,h),f.enableVertexAttribArray(t),d.vertexAttribDivisor(t,l||0)})),this}enable(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!e&&0===t&&!m.isSupported(this.gl,{constantAttributeZero:!0})||(t=Number(t),this.bind((()=>e?this.gl.enableVertexAttribArray(t):this.gl.disableVertexAttribArray(t)))),this}getConstantBuffer(t,e){const r=this._normalizeConstantArrayValue(e),n=r.byteLength*t,i=r.length*t;let s=!this.buffer;if(this.buffer=this.buffer||new c.Z(this.gl,n),s=s||this.buffer.reallocate(n),s=s||!this._compareConstantArrayValues(r,this.bufferValue),s){const t=d(e.constructor,i);!function(t){let{target:e,source:r,start:n=0,count:i=1}=t;const s=r.length,a=i*s;let o=0;for(let h=n;o<s;o++)e[h++]=r[o];for(;o<a;)o<a-o?(e.copyWithin(n+o,n,n+o),o*=2):(e.copyWithin(n+o,n,n+a-o),o=a)}({target:t,source:r,start:0,count:i}),this.buffer.subData(t),this.bufferValue=e}return this.buffer}_normalizeConstantArrayValue(t){return Array.isArray(t)?new Float32Array(t):t}_compareConstantArrayValues(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}static _setConstantFloatArray(t,e,r){switch(r.length){case 1:t.vertexAttrib1fv(e,r);break;case 2:t.vertexAttrib2fv(e,r);break;case 3:t.vertexAttrib3fv(e,r);break;case 4:t.vertexAttrib4fv(e,r);break;default:(0,a.h)(!1)}}static _setConstantIntArray(t,e,r){switch((0,a.h)((0,n.D0)(t)),r.length){case 1:t.vertexAttribI1iv(e,r);break;case 2:t.vertexAttribI2iv(e,r);break;case 3:t.vertexAttribI3iv(e,r);break;case 4:t.vertexAttribI4iv(e,r);break;default:(0,a.h)(!1)}}static _setConstantUintArray(t,e,r){switch((0,a.h)((0,n.D0)(t)),r.length){case 1:t.vertexAttribI1uiv(e,r);break;case 2:t.vertexAttribI2uiv(e,r);break;case 3:t.vertexAttribI3uiv(e,r);break;case 4:t.vertexAttribI4uiv(e,r);break;default:(0,a.h)(!1)}}_createHandle(){return this.gl.createVertexArray()}_deleteHandle(t){return this.gl2.deleteVertexArray(t),[this.elements]}_bindHandle(t){this.gl2.bindVertexArray(t)}_getParameter(t,e){let{location:r}=e;return(0,a.h)(Number.isFinite(r)),this.bind((()=>34373===t?this.gl.getVertexAttribOffset(r,t):this.gl.getVertexAttrib(r,t)))}}var p=r(37469);const b=/^(.+)__LOCATION_([0-9]+)$/,_=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"];class v{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.id||e.program&&e.program.id;this.id=r,this.gl=t,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new m(t),(0,p.F)(this,"VertexArray","v6.0",_),this.initialize(e),Object.seal(this)}delete(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(t)}reset(){this.elements=null,this.elementsAccessor=null;const{MAX_ATTRIBUTES:t}=this.vertexArrayObject;return this.values=new Array(t).fill(null),this.accessors=new Array(t).fill(null),this.unused={},this.drawParams=null,this}setProps(t){return"program"in t&&(this.configuration=t.program&&t.program.configuration),"configuration"in t&&(this.configuration=t.configuration),"attributes"in t&&this.setAttributes(t.attributes),"elements"in t&&this.setElementBuffer(t.elements),"bindOnUse"in t&&(t=t.bindOnUse),this}clearDrawParams(){this.drawParams=null}getDrawParams(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}setAttributes(t){return Object.assign(this.attributes,t),this.vertexArrayObject.bind((()=>{for(const e in t){const r=t[e];this._setAttribute(e,r)}this.gl.bindBuffer(34962,null)})),this}setElementBuffer(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=t,this.elementsAccessor=e,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(t,e),this}setBuffer(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===e.target)return this.setElementBuffer(e,r);const{location:n,accessor:i}=this._resolveLocationAndAccessor(t,e,e.accessor,r);return n>=0&&(this.values[n]=e,this.accessors[n]=i,this.clearDrawParams(),this.vertexArrayObject.setBuffer(n,e,i)),this}setConstant(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{location:n,accessor:i}=this._resolveLocationAndAccessor(t,e,Object.assign({size:e.length},r));return n>=0&&(e=this.vertexArrayObject._normalizeConstantArrayValue(e),this.values[n]=e,this.accessors[n]=i,this.clearDrawParams(),this.vertexArrayObject.enable(n,!1)),this}unbindBuffers(){return this.vertexArrayObject.bind((()=>{this.elements&&this.vertexArrayObject.setElementBuffer(null),this.buffer=this.buffer||new c.Z(this.gl,{accessor:{size:4}});for(let t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this.values[t]instanceof c.Z&&(this.gl.disableVertexAttribArray(t),this.gl.bindBuffer(34962,this.buffer.handle),this.gl.vertexAttribPointer(t,1,5126,!1,0,0))})),this}bindBuffers(){return this.vertexArrayObject.bind((()=>{this.elements&&this.setElementBuffer(this.elements);for(let t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++){const e=this.values[t];e instanceof c.Z&&this.setBuffer(t,e)}})),this}bindForDraw(t,e,r){let n;return this.vertexArrayObject.bind((()=>{this._setConstantAttributes(t,e),n=r()})),n}_resolveLocationAndAccessor(t,e,r,i){const s={location:-1,accessor:null},{location:o,name:h}=this._getAttributeIndex(t);if(!Number.isFinite(o)||o<0)return this.unused[t]=e,n.cM.once(3,(()=>"unused value ".concat(t," in ").concat(this.id)))(),s;const c=this._getAttributeInfo(h||o);if(!c)return s;const l=this.accessors[o]||{},f=u.Z.resolve(c.accessor,l,r,i),{size:d,type:g}=f;return(0,a.h)(Number.isFinite(d)&&Number.isFinite(g)),{location:o,accessor:f}}_getAttributeInfo(t){return this.configuration&&this.configuration.getAttributeInfo(t)}_getAttributeIndex(t){const e=Number(t);if(Number.isFinite(e))return{location:e};const r=b.exec(t),n=r?r[1]:t,i=r?Number(r[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(n)+i,name:n}:{location:-1}}_setAttribute(t,e){if(e instanceof c.Z)this.setBuffer(t,e);else if(Array.isArray(e)&&e.length&&e[0]instanceof c.Z){const r=e[0],n=e[1];this.setBuffer(t,r,n)}else if(ArrayBuffer.isView(e)||Array.isArray(e)){const r=e;this.setConstant(t,r)}else{if(!(e.buffer instanceof c.Z))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");{const r=e;this.setBuffer(t,r.buffer,r)}}}_setConstantAttributes(t,e){const r=Math.max(0|t,0|e);let n=this.values[0];ArrayBuffer.isView(n)&&this._setConstantAttributeZero(n,r);for(let i=1;i<this.vertexArrayObject.MAX_ATTRIBUTES;i++)n=this.values[i],ArrayBuffer.isView(n)&&this._setConstantAttribute(i,n)}_setConstantAttributeZero(t,e){if(m.isSupported(this.gl,{constantAttributeZero:!0}))return void this._setConstantAttribute(0,t);const r=this.vertexArrayObject.getConstantBuffer(e,t);this.vertexArrayObject.setBuffer(0,r,this.accessors[0])}_setConstantAttribute(t,e){m.setConstant(this.gl,t,e)}_updateDrawParams(){const t={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0};for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this._updateDrawParamsForLocation(t,e);return this.elements&&(t.elementCount=this.elements.getElementCount(this.elements.accessor),t.isIndexed=!0,t.indexType=this.elementsAccessor.type||this.elements.accessor.type,t.indexOffset=this.elementsAccessor.offset||0),t.indexCount===1/0&&(t.indexCount=0),t.vertexCount===1/0&&(t.vertexCount=0),t.instanceCount===1/0&&(t.instanceCount=0),t}_updateDrawParamsForLocation(t,e){const r=this.values[e],n=this.accessors[e];if(!r)return;const{divisor:i}=n,s=i>0;if(t.isInstanced=t.isInstanced||s,r instanceof c.Z){const e=r;if(s){const r=e.getVertexCount(n);t.instanceCount=Math.min(t.instanceCount,r)}else{const r=e.getVertexCount(n);t.vertexCount=Math.min(t.vertexCount,r)}}}setElements(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.cM.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(t,e)}}var y=r(51053),A=r(79579),E=r(38522);function M(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isInteger:r=!1}=e;if(Array.isArray(t)||ArrayBuffer.isView(t))return function(t,e){const{maxElts:r=16,size:n=1}=e;let i="[";for(let a=0;a<t.length&&a<r;++a)a>0&&(i+=",".concat(a%n==0?" ":"")),i+=M(t[a],e);const s=t.length>r?"...":"]";return"".concat(i).concat(s)}(t,e);if(!Number.isFinite(t))return String(t);if(Math.abs(t)<1e-16)return r?"0":"0.";if(r)return t.toFixed(0);if(Math.abs(t)>100&&Math.abs(t)<1e4)return t.toFixed(0);const n=t.toPrecision(2);return n.indexOf(".0")===n.length-2?n.slice(0,-1):n}function O(t,e,r,n){const{gl:i}=t;if(!e)return{[n]:"null","Format ":"N/A"};let s,a,o,h="NOT PROVIDED",u=1,l=0,f=0;if(r&&(h=r.type,u=r.size,h=String(h).replace("Array",""),s=-1!==h.indexOf("nt")),e instanceof c.Z){const t=e,{data:c,changed:d}=t.getDebugData();let g;if(a=d?"*":"",o=c,f=t.byteLength,l=f/c.BYTES_PER_ELEMENT/u,r){const t=r.divisor>0;g="".concat(t?"I ":"P "," ").concat(l," (x").concat(u,"=").concat(f," bytes ").concat((0,A.km)(i,h),")")}else s=!0,g="".concat(f," bytes");return{[n]:"".concat(a).concat(M(o,{size:u,isInteger:s})),"Format ":g}}return o=e,u=e.length,h=String(e.constructor.name).replace("Array",""),s=-1!==h.indexOf("nt"),{[n]:"".concat(M(o,{size:u,isInteger:s})," (constant)"),"Format ":"".concat(u,"x").concat(h," (constant)")}}function L(t,e){const{type:r,size:n}=e,i=(0,E.jG)(r,n);return i?"".concat(t," (").concat(i.name,")"):t}function T(t){let{header:e="Uniforms",program:r,uniforms:n,undefinedOnly:i=!1}=t;(0,a.h)(r);const s=".*Matrix",o=r._uniformSetters,h={},u=Object.keys(o).sort();let c=0;for(const a of u)a.match(".*_.*")||a.match(s)||x({table:h,header:e,uniforms:n,uniformName:a,undefinedOnly:i})&&c++;for(const a of u)a.match(s)&&x({table:h,header:e,uniforms:n,uniformName:a,undefinedOnly:i})&&c++;for(const a of u)h[a]||x({table:h,header:e,uniforms:n,uniformName:a,undefinedOnly:i})&&c++;let l=0;const f={};if(!i)for(const a in n){const t=n[a];h[a]||(l++,f[a]={Type:"NOT USED: ".concat(t),[e]:M(t)})}return{table:h,count:c,unusedTable:f,unusedCount:l}}function x(t){let{table:e,header:r,uniforms:n,uniformName:i,undefinedOnly:s}=t;const a=n[i],o=function(t){return null!=t}(a);return(!s||!o)&&(e[i]={[r]:o?M(a):"N/A","Uniform Type":o?a:"NOT PROVIDED"},!0)}function w(t){const{type:e,size:r}=t.accessor,n=(0,E.jG)(e,r);return n?"".concat(n.name," ").concat(t.name):t.name}const R={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function P(t,e){const{attributeMap:r=R}=e||{};return r&&r[t]||t}function C(t,e){let r;switch(t){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":r="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":r="vectors"}switch(r){case"vectors":e.size=e.size||3;break;case"uvs":e.size=e.size||2}(0,a.h)(Number.isFinite(e.size),"attribute ".concat(t," needs size"))}const S=()=>{},D={};class I{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:r=(0,s.hQ)("model")}=e;(0,a.h)((0,n.UF)(t)),this.id=r,this.gl=t,this.id=e.id||(0,s.hQ)("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(e)}initialize(t){this.props={},this.programManager=t.programManager||i.Z.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;const{program:e=null,vs:r,fs:n,modules:s,defines:o,inject:h,varyings:u,bufferMode:c,transpileToGLSL100:l}=t;this.programProps={program:e,vs:r,fs:n,modules:s,defines:o,inject:h,varyings:u,bufferMode:c,transpileToGLSL100:l},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(t.moduleSettings))),this.drawMode=void 0!==t.drawMode?t.drawMode:4,this.vertexCount=t.vertexCount||0,this.geometryBuffers={},this.isInstanced=t.isInstanced||t.instanced||t.instanceCount>0,this._setModelProps(t),this.geometry={},(0,a.h)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}setProps(t){this._setModelProps(t)}delete(){for(const t in this._attributes)this._attributes[t]!==this.attributes[t]&&this._attributes[t].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}getDrawMode(){return this.drawMode}getVertexCount(){return this.vertexCount}getInstanceCount(){return this.instanceCount}getAttributes(){return this.attributes}getProgram(){return this.program}setProgram(t){const{program:e,vs:r,fs:n,modules:i,defines:s,inject:a,varyings:o,bufferMode:h,transpileToGLSL100:u}=t;this.programProps={program:e,vs:r,fs:n,modules:i,defines:s,inject:a,varyings:o,bufferMode:h,transpileToGLSL100:u},this._programDirty=!0}getUniforms(){return this.uniforms}setDrawMode(t){return this.drawMode=t,this}setVertexCount(t){return(0,a.h)(Number.isFinite(t)),this.vertexCount=t,this}setInstanceCount(t){return(0,a.h)(Number.isFinite(t)),this.instanceCount=t,this}setGeometry(t){return this.drawMode=t.drawMode,this.vertexCount=t.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function(t,e,r){const n={};let i=e.indices;for(const s in e.attributes){const a=e.attributes[s],o=P(s,r);if("indices"===s)i=a;else if(a.constant)n[o]=a.value;else{const e=a.value,r={...a};delete r.value,n[o]=[new c.Z(t,e),r],C(s,r)}}if(i){const e=i.value||i;(0,a.h)(e instanceof Uint16Array||e instanceof Uint32Array,'attribute array for "indices" must be of integer type');const r={size:1,isIndexed:void 0===i.isIndexed||i.isIndexed};n.indices=[new c.Z(t,{data:e,target:34963}),r]}return n}(this.gl,t),this.vertexArray.setAttributes(this.geometryBuffers),this}setAttributes(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,s.nK)(t))return this;const e={};for(const r in t){const n=t[r];e[r]=n.getValue?n.getValue():n}return this.vertexArray.setAttributes(e),this}setUniforms(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.uniforms,t),this}getModuleUniforms(t){this._checkProgram();const e=this.programManager.getUniforms(this.program);return e?e(t):{}}updateModuleSettings(t){const e=this.getModuleUniforms(t||{});return this.setUniforms(e)}clear(t){return(0,o.Z)(this.program.gl,t),this}draw(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();const{moduleSettings:e=null,framebuffer:r,uniforms:i={},attributes:s={},transformFeedback:a=this.transformFeedback,parameters:o={},vertexArray:h=this.vertexArray}=t;let u;this.setAttributes(s),this.updateModuleSettings(e),this.setUniforms(i),n.cM.priority>=2&&(u=this._logDrawCallStart(2));const c=this.vertexArray.getDrawParams(),{isIndexed:l=c.isIndexed,indexType:f=c.indexType,indexOffset:d=c.indexOffset,vertexArrayInstanced:g=c.isInstanced}=this.props;g&&!this.isInstanced&&n.cM.warn("Found instanced attributes on non-instanced model",this.id)();const{isInstanced:m,instanceCount:p}=this,{onBeforeRender:b=S,onAfterRender:_=S}=this.props;b(),this.program.setUniforms(this.uniforms);const v=this.program.draw(Object.assign(D,t,{logPriority:u,uniforms:null,framebuffer:r,parameters:o,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:h,transformFeedback:a,isIndexed:l,indexType:f,isInstanced:m,instanceCount:p,offset:l?d:0}));return _(),n.cM.priority>=2&&this._logDrawCallEnd(u,h,r),v}transform(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{discard:e=!0,feedbackBuffers:r,unbindModels:n=[]}=t;let{parameters:i}=t;r&&this._setFeedbackBuffers(r),e&&(i=Object.assign({},i,{35977:e})),n.forEach((t=>t.vertexArray.unbindBuffers()));try{this.draw(Object.assign({},t,{parameters:i}))}finally{n.forEach((t=>t.vertexArray.bindBuffers()))}return this}render(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.cM.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(t).draw()}_setModelProps(t){Object.assign(this.props,t),"uniforms"in t&&this.setUniforms(t.uniforms),"pickable"in t&&(this.pickable=t.pickable),"instanceCount"in t&&(this.instanceCount=t.instanceCount),"geometry"in t&&this.setGeometry(t.geometry),"attributes"in t&&this.setAttributes(t.attributes),"_feedbackBuffers"in t&&this._setFeedbackBuffers(t._feedbackBuffers)}_checkProgram(){if(!(this._programDirty||this.programManager.stateHash!==this._programManagerState))return;let{program:t}=this.programProps;if(t)this._managedProgram=!1;else{const{vs:e,fs:r,modules:n,inject:i,defines:s,varyings:a,bufferMode:o,transpileToGLSL100:h}=this.programProps;t=this.programManager.get({vs:e,fs:r,modules:n,inject:i,defines:s,varyings:a,bufferMode:o,transpileToGLSL100:h}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}(0,a.h)(t instanceof h.Z,"Model needs a program"),this._programDirty=!1,t!==this.program&&(this.program=t,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new v(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}_deleteGeometryBuffers(){for(const t in this.geometryBuffers){const e=this.geometryBuffers[t][0]||this.geometryBuffers[t];e instanceof c.Z&&e.delete()}}_setAnimationProps(t){this.animated&&(0,a.h)(t,"Model.draw(): animated uniforms but no animationProps")}_setFeedbackBuffers(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,s.nK)(t))return this;const{gl:e}=this.program;return this.transformFeedback=this.transformFeedback||new y.Z(e,{program:this.program}),this.transformFeedback.setBuffers(t),this}_logDrawCallStart(t){const e=t>3?0:1e4;if(!(Date.now()-this.lastLogTime<e))return this.lastLogTime=Date.now(),n.cM.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:n.cM.level<=2})(),t}_logDrawCallEnd(t,e,r,i){if(void 0===t)return;const s=function(t){let{vertexArray:e,header:r="Attributes"}=t;if(!e.configuration)return{};const n={};e.elements&&(n.ELEMENT_ARRAY_BUFFER=O(e,e.elements,null,r));const i=e.values;for(const s in i){const t=e._getAttributeInfo(s);if(t){let a="".concat(s,": ").concat(t.name);const o=e.accessors[t.location];o&&(a="".concat(s,": ").concat(L(t.name,o))),n[a]=O(e,i[s],o,r)}}return n}({vertexArray:e,header:"".concat(this.id," attributes"),attributes:this._attributes}),{table:a,unusedTable:o,unusedCount:h}=T({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,r)}),{table:u,count:c}=T({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,r),undefinedOnly:!0});c>0&&n.cM.log("MISSING UNIFORMS",Object.keys(u))(),h>0&&n.cM.log("UNUSED UNIFORMS",Object.keys(o))();const l=function(t){const e={},r="Accessors for ".concat(t.id);for(const n of t.attributeInfos)if(n){const t=w(n);e["in ".concat(t)]={[r]:JSON.stringify(n.accessor)}}for(const n of t.varyingInfos)if(n){const t=w(n);e["out ".concat(t)]={[r]:JSON.stringify(n.accessor)}}return e}(this.vertexArray.configuration);n.cM.table(t,s)(),n.cM.table(t,a)(),n.cM.table(t+1,l)(),i&&i.log({logLevel:2,message:"Rendered to ".concat(i.id)}),n.cM.groupEnd(2)()}}},43426:(t,e,r)=>{r.d(e,{Z:()=>z});var n=r(75682),i=r(29047);const s={number:{validate:(t,e)=>Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)},array:{validate:(t,e)=>Array.isArray(t)||ArrayBuffer.isView(t)}};function a(t){let e=o(t);return"object"===e?t?"type"in t?Object.assign({},t,s[t.type]):"value"in t?(e=o(t.value),Object.assign({type:e},t,s[e])):{type:"object",value:t}:{type:"object",value:null}:Object.assign({type:e,value:t},s[e])}function o(t){return Array.isArray(t)||ArrayBuffer.isView(t)?"array":typeof t}class h{constructor(t){let{name:e,vs:r,fs:n,dependencies:s=[],uniforms:o,getUniforms:h,deprecations:u=[],defines:c={},inject:l={},vertexShader:f,fragmentShader:d}=t;(0,i.Z)("string"==typeof e),this.name=e,this.vs=r||f,this.fs=n||d,this.getModuleUniforms=h,this.dependencies=s,this.deprecations=this._parseDeprecationDefinitions(u),this.defines=c,this.injections=function(t){const e={vs:{},fs:{}};for(const r in t){let n=t[r];"string"==typeof n&&(n={order:0,injection:n}),e[r.slice(0,2)][r]=n}return e}(l),o&&(this.uniforms=function(t){const e={};for(const r in t){const n=a(t[r]);e[r]=n}return e}(o))}getModuleSource(t){let e;switch(t){case"vs":e=this.vs||"";break;case"fs":e=this.fs||"";break;default:(0,i.Z)(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(e,"// END MODULE_").concat(this.name,"\n\n")}getUniforms(t,e){return this.getModuleUniforms?this.getModuleUniforms(t,e):this.uniforms?this._defaultGetUniforms(t):{}}getDefines(){return this.defines}checkDeprecations(t,e){this.deprecations.forEach((r=>{r.regex.test(t)&&(r.deprecated?e.deprecated(r.old,r.new)():e.removed(r.old,r.new)())}))}_parseDeprecationDefinitions(t){return t.forEach((t=>{if("function"===t.type)t.regex=new RegExp("\\b".concat(t.old,"\\("));else t.regex=new RegExp("".concat(t.type," ").concat(t.old,";"))})),t}_defaultGetUniforms(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={},r=this.uniforms;for(const n in r){const s=r[n];n in t&&!s.private?(s.validate&&(0,i.Z)(s.validate(t[n],s),"".concat(this.name,": invalid ").concat(n)),e[n]=t[n]):e[n]=s.value}return e}}function u(t){return c(f(t))}function c(t){const e={},r={};return l({modules:t,level:0,moduleMap:e,moduleDepth:r}),Object.keys(r).sort(((t,e)=>r[e]-r[t])).map((t=>e[t]))}function l(t){let{modules:e,level:r,moduleMap:n,moduleDepth:i}=t;if(r>=5)throw new Error("Possible loop in shader dependency graph");for(const s of e)n[s.name]=s,(void 0===i[s.name]||i[s.name]<r)&&(i[s.name]=r);for(const s of e)s.dependencies&&l({modules:s.dependencies,level:r+1,moduleMap:n,moduleDepth:i})}function f(t,e){return t.map((t=>(t instanceof h||((0,i.Z)("string"!=typeof t,"Shader module use by name is deprecated. Import shader module '".concat(t,"' and use it directly.")),(0,i.Z)(t.name,"shader module has no name"),(t=new h(t)).dependencies=f(t.dependencies)),t)))}const d=7936,g=7937,m=7938,p=35724,b={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},_={};Object.keys(b).forEach((t=>{_[t]=t}));const v={};function y(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=b[e];if((0,i.Z)(n,e),!function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e="undefined"!=typeof window&&window.navigator||{},r=t.userAgent||e.userAgent||"",n=-1!==r.indexOf("MSIE "),i=-1!==r.indexOf("Trident/");return n||i}(r))return!0;if(e in v)return v[e];const s=n[0],a=r.behavior||"enable",o="#extension GL_".concat(s," : ").concat(a,"\nvoid main(void) {}"),h=t.createShader(35633);t.shaderSource(h,o),t.compileShader(h);const u=t.getShaderParameter(h,35713);return t.deleteShader(h),v[e]=u,u}function A(t,e){const r=b[e];(0,i.Z)(r,e);const n=function(t){return"undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||Boolean(t&&2===t._version)}(t)&&r[1]||r[0],s="string"==typeof n?Boolean(t.getExtension(n)):n;return(0,i.Z)(!1===s||!0===s),s}function E(t,e){return(e=Array.isArray(e)?e:[e]).every((e=>A(t,e)))}function M(t){const e=function(t){const e=t.getExtension("WEBGL_debug_renderer_info"),r=t.getParameter(e&&e.UNMASKED_VENDOR_WEBGL||d),n=t.getParameter(e&&e.UNMASKED_RENDERER_WEBGL||g);return{gpuVendor:function(t,e){return t.match(/NVIDIA/i)||e.match(/NVIDIA/i)?"NVIDIA":t.match(/INTEL/i)||e.match(/INTEL/i)?"INTEL":t.match(/AMD/i)||e.match(/AMD/i)||t.match(/ATI/i)||e.match(/ATI/i)?"AMD":"UNKNOWN GPU"}(r,n),vendor:r,renderer:n,version:t.getParameter(m),shadingLanguageVersion:t.getParameter(p)}}(t);switch(e.gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}var O=r(60827);function L(t){return new RegExp("\\b".concat(t,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}const T=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],x=[...T,[L("attribute"),"in $1"],[L("varying"),"out $1"]],w=[...T,[L("varying"),"in $1"]],R=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],P=[...R,[L("in"),"attribute $1"],[L("out"),"varying $1"]],C=[...R,[L("in"),"varying $1"]],S="gl_FragColor",D=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,I=/void\s+main\s*\([^)]*\)\s*\{\n?/;function F(t,e,r){switch(e){case 300:return r?k(t,x):function(t){t=k(t,w);const e=t.match(D);if(e){const r=e[1];t=t.replace(new RegExp("\\b".concat(S,"\\b"),"g"),r)}else{const e="fragmentColor";t=t.replace(I,(t=>"out vec4 ".concat(e,";\n").concat(t))).replace(new RegExp("\\b".concat(S,"\\b"),"g"),e)}return t}(t);case 100:return r?k(t,P):function(t){t=k(t,C);const e=t.match(D);if(e){const r=e[1];t=t.replace(D,"").replace(new RegExp("\\b".concat(r,"\\b"),"g"),S)}return t}(t);default:throw new Error("unknown GLSL version ".concat(e))}}function k(t,e){for(const[r,n]of e)t=t.replace(r,n);return t}const N="\n\n".concat(O.O_,"\n\n"),U={[n.H]:"vertex",[n.Y]:"fragment"},B="precision highp float;\n\n";function j(t,e){let{id:r,source:s,type:a,modules:o,defines:h={},hookFunctions:u=[],inject:c={},transpileToGLSL100:l=!1,prologue:f=!0,log:d}=e;(0,i.Z)("string"==typeof s,"shader source must be a string");const g=a===n.H,m=s.split("\n");let p=100,b="",v=s;0===m[0].indexOf("#version ")?(p=300,b=m[0],v=m.slice(1).join("\n")):b="#version ".concat(p);const A={};o.forEach((t=>{Object.assign(A,t.getDefines())})),Object.assign(A,h);let L=f?"".concat(b,"\n").concat(function(t){let{id:e,source:r,type:n}=t;const i=e&&"string"==typeof e&&-1===r.indexOf("SHADER_NAME");return i?"\n#define SHADER_NAME ".concat(e,"_").concat(U[n],"\n\n"):""}({id:r,source:s,type:a}),"\n").concat(function(t){let{type:e}=t;return"\n#define SHADER_TYPE_".concat(U[e].toUpperCase(),"\n")}({type:a}),"\n").concat(M(t),"\n").concat(function(t,e,r){let n="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return E(t,_.GLSL_FRAG_DEPTH)&&(n+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),E(t,_.GLSL_DERIVATIVES)&&y(t,_.GLSL_DERIVATIVES)&&(n+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),E(t,_.GLSL_FRAG_DATA)&&y(t,_.GLSL_FRAG_DATA,{behavior:"require"})&&(n+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),E(t,_.GLSL_TEXTURE_LOD)&&(n+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),n}(t),"\n").concat(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=0,r="";for(const n in t){0===e&&(r+="\n// APPLICATION DEFINES\n"),e++;const i=t[n];(i||Number.isFinite(i))&&(r+="#define ".concat(n.toUpperCase()," ").concat(t[n],"\n"))}0===e&&(r+="\n");return r}(A),"\n").concat(g?"":B,"\n"):"".concat(b,"\n");const T=function(t){const e={vs:{},fs:{}};return t.forEach((t=>{let r;"string"!=typeof t?(r=t,t=r.hook):r={},t=t.trim();const[n,i]=t.split(":"),s=t.replace(/\(.+/,"");e[n][s]=Object.assign(r,{signature:i})})),e}(u),x={},w={},R={};for(const n in c){const t="string"==typeof c[n]?{injection:c[n],order:0}:c[n],e=n.match(/^(v|f)s:(#)?([\w-]+)$/);if(e){const r=e[2],i=e[3];r?"decl"===i?w[n]=[t]:R[n]=[t]:x[n]=[t]}else R[n]=[t]}for(const n of o){d&&n.checkDeprecations(v,d);L+=n.getModuleSource(a,p);const t=n.injections[a];for(const e in t){const r=e.match(/^(v|f)s:#([\w-]+)$/);if(r){const n="decl"===r[2]?w:R;n[e]=n[e]||[],n[e].push(t[e])}else x[e]=x[e]||[],x[e].push(t[e])}}return L+=N,L=(0,O.ZP)(L,a,w),L+=function(t,e){let r="";for(const n in t){const i=t[n];if(r+="void ".concat(i.signature," {\n"),i.header&&(r+="  ".concat(i.header)),e[n]){const t=e[n];t.sort(((t,e)=>t.order-e.order));for(const e of t)r+="  ".concat(e.injection,"\n")}i.footer&&(r+="  ".concat(i.footer)),r+="}\n"}return r}(T[a],x),L+=v,L=(0,O.ZP)(L,a,R),L=F(L,l?100:p,g),L}function V(t){return function(e){const r={};for(const n of t){const t=n.getUniforms(e,r);Object.assign(r,t)}return r}}var G=r(75433);class z{static getDefaultProgramManager(t){return t.luma=t.luma||{},t.luma.defaultProgramManager=t.luma.defaultProgramManager||new z(t),t.luma.defaultProgramManager}constructor(t){this.gl=t,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}addDefaultModule(t){this._defaultModules.find((e=>e.name===t.name))||this._defaultModules.push(t),this.stateHash++}removeDefaultModule(t){const e="string"==typeof t?t:t.name;this._defaultModules=this._defaultModules.filter((t=>t.name!==e)),this.stateHash++}addShaderHook(t,e){e&&(t=Object.assign(e,{hook:t})),this._hookFunctions.push(t),this.stateHash++}get(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{vs:e="",fs:r="",defines:i={},inject:s={},varyings:a=[],bufferMode:o=35981,transpileToGLSL100:h=!1}=t,c=this._getModuleList(t.modules),l=this._getHash(e),f=this._getHash(r),d=c.map((t=>this._getHash(t.name))).sort(),g=a.map((t=>this._getHash(t))),m=Object.keys(i).sort(),p=Object.keys(s).sort(),b=[],_=[];for(const n of m)b.push(this._getHash(n)),b.push(this._getHash(i[n]));for(const n of p)_.push(this._getHash(n)),_.push(this._getHash(s[n]));const v="".concat(l,"/").concat(f,"D").concat(b.join("/"),"M").concat(d.join("/"),"I").concat(_.join("/"),"V").concat(g.join("/"),"H").concat(this.stateHash,"B").concat(o).concat(h?"T":"");if(!this._programCache[v]){const t=function(t,e){const{vs:r,fs:i}=e,s=u(e.modules||[]);return{gl:t,vs:j(t,Object.assign({},e,{source:r,type:n.H,modules:s})),fs:j(t,Object.assign({},e,{source:i,type:n.Y,modules:s})),getUniforms:V(s)}}(this.gl,{vs:e,fs:r,modules:c,inject:s,defines:i,hookFunctions:this._hookFunctions,transpileToGLSL100:h});this._programCache[v]=new G.Z(this.gl,{hash:v,vs:t.vs,fs:t.fs,varyings:a,bufferMode:o}),this._getUniforms[v]=t.getUniforms||(t=>{}),this._useCounts[v]=0}return this._useCounts[v]++,this._programCache[v]}getUniforms(t){return this._getUniforms[t.hash]||null}release(t){const e=t.hash;this._useCounts[e]--,0===this._useCounts[e]&&(this._programCache[e].delete(),delete this._programCache[e],delete this._getUniforms[e],delete this._useCounts[e])}_getHash(t){return void 0===this._hashes[t]&&(this._hashes[t]=this._hashCounter++),this._hashes[t]}_getModuleList(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const e=new Array(this._defaultModules.length+t.length),r={};let n=0;for(let i=0,s=this._defaultModules.length;i<s;++i){const t=this._defaultModules[i],s=t.name;e[n++]=t,r[s]=!0}for(let i=0,s=t.length;i<s;++i){const s=t[i],a=s.name;r[a]||(e[n++]=s,r[a]=!0)}return e.length=n,e}}},75682:(t,e,r)=>{r.d(e,{H:()=>n,Y:()=>i});const n="vs",i="fs"},60827:(t,e,r)=>{r.d(e,{O_:()=>a,Lm:()=>l,ZP:()=>c});var n=r(75682),i=r(29047);const s={[n.H]:"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n",[n.Y]:"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"},a="__LUMA_INJECT_DECLARATIONS__",o=/void\s+main\s*\([^)]*\)\s*\{\n?/,h=/}\n?[^{}]*$/,u=[];function c(t,e,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const c=e===n.H;for(const n in r){const e=r[n];e.sort(((t,e)=>t.order-e.order)),u.length=e.length;for(let t=0,r=e.length;t<r;++t)u[t]=e[t].injection;const i="".concat(u.join("\n"),"\n");switch(n){case"vs:#decl":c&&(t=t.replace(a,i));break;case"vs:#main-start":c&&(t=t.replace(o,(t=>t+i)));break;case"vs:#main-end":c&&(t=t.replace(h,(t=>i+t)));break;case"fs:#decl":c||(t=t.replace(a,i));break;case"fs:#main-start":c||(t=t.replace(o,(t=>t+i)));break;case"fs:#main-end":c||(t=t.replace(h,(t=>i+t)));break;default:t=t.replace(n,(t=>t+i))}}return t=t.replace(a,""),i&&(t=t.replace(/\}\s*$/,(t=>t+s[e]))),t}function l(t){const e={};return(0,i.Z)(Array.isArray(t)&&t.length>1),t.forEach((t=>{for(const r in t)e[r]=e[r]?"".concat(e[r],"\n").concat(t[r]):t[r]})),e}},29047:(t,e,r)=>{function n(t,e){if(!t)throw new Error(e||"shadertools: assertion failed.")}r.d(e,{Z:()=>n})},51053:(t,e,r)=>{r.d(e,{Z:()=>o});var n=r(1418),i=r(87577),s=r(53478),a=r(74538);class o extends i.Z{get[Symbol.toStringTag](){return"TransformFeedback"}static isSupported(t){return(0,n.D0)(t)}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,n.KQ)(t),super(t,e),this.initialize(e),this.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(this)}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,(0,a.nK)(this.buffers)||this.bind((()=>this._unbindBuffers())),this.setProps(t),this}setProps(t){"program"in t&&(this.configuration=t.program&&t.program.configuration),"configuration"in t&&(this.configuration=t.configuration),"bindOnUse"in t&&(t=t.bindOnUse),"buffers"in t&&this.setBuffers(t.buffers)}setBuffers(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind((()=>{for(const e in t)this.setBuffer(e,t[e])})),this}setBuffer(t,e){const r=this._getVaryingIndex(t),{buffer:i,byteSize:s,byteOffset:a}=this._getBufferParams(e);return r<0?(this.unused[t]=i,n.cM.warn("".concat(this.id," unused varying buffer ").concat(t))(),this):(this.buffers[r]=e,this.bindOnUse||this._bindBuffer(r,i,a,s),this)}begin(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(t),this}end(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}_getBufferParams(t){let e,r,n;return t instanceof s.Z==!1?(n=t.buffer,r=t.byteSize,e=t.byteOffset):n=t,void 0===e&&void 0===r||(e=e||0,r=r||n.byteLength-e),{buffer:n,byteOffset:e,byteSize:r}}_getVaryingInfo(t){return this.configuration&&this.configuration.getVaryingInfo(t)}_getVaryingIndex(t){if(this.configuration)return this.configuration.getVaryingInfo(t).location;const e=Number(t);return Number.isFinite(e)?e:-1}_bindBuffers(){if(this.bindOnUse)for(const t in this.buffers){const{buffer:e,byteSize:r,byteOffset:n}=this._getBufferParams(this.buffers[t]);this._bindBuffer(t,e,n,r)}}_unbindBuffers(){if(this.bindOnUse)for(const t in this.buffers)this._bindBuffer(t,null)}_bindBuffer(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;const i=e&&e.handle;return i&&void 0!==n?this.gl.bindBufferRange(35982,t,i,r,n):this.gl.bindBufferBase(35982,t,i),this}_createHandle(){return this.gl.createTransformFeedback()}_deleteHandle(){this.gl.deleteTransformFeedback(this.handle)}_bindHandle(t){this.gl.bindTransformFeedback(36386,this.handle)}}},6357:(t,e,r)=>{r.d(e,{Z:()=>i});var n=r(14034);class i extends(function(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}(Array)){clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=t[r+e];return this.check()}toArray(t=[],e=0){for(let r=0;r<this.ELEMENTS;++r)t[e+r]=this[r];return t}from(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}to(t){return t===this?this:(0,n.kJ)(t)?this.toArray(t):this.toObject(t)}toTarget(t){return t?this.to(t):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(n.vc)}formatString(t){let e="";for(let r=0;r<this.ELEMENTS;++r)e+=(r>0?", ":"")+(0,n.Bw)(this[r],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(e,"]")}equals(t){if(!t||this.length!==t.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(!(0,n.fS)(this[e],t[e]))return!1;return!0}exactEquals(t){if(!t||this.length!==t.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(this[e]!==t[e])return!1;return!0}negate(){for(let t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}lerp(t,e,r){if(void 0===r)return this.lerp(this,t,e);for(let n=0;n<this.ELEMENTS;++n){const i=t[n];this[n]=i+r*(e[n]-i)}return this.check()}min(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.min(t[e],this[e]);return this.check()}max(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.max(t[e],this[e]);return this.check()}clamp(t,e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t[r]),e[r]);return this.check()}add(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]+=e[t];return this.check()}subtract(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]-=e[t];return this.check()}scale(t){if("number"==typeof t)for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;else for(let e=0;e<this.ELEMENTS&&e<t.length;++e)this[e]*=t[e];return this.check()}multiplyByScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}check(){if(n.vc.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let t=this.length===this.ELEMENTS;for(let e=0;e<this.ELEMENTS;++e)t=t&&Number.isFinite(this[e]);return t}sub(t){return this.subtract(t)}setScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=t;return this.check()}addScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]+=t;return this.check()}subScalar(t){return this.addScalar(-t)}multiplyScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}divideScalar(t){return this.multiplyByScalar(1/t)}clampScalar(t,e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t),e);return this.check()}get elements(){return this}}},61e3:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(6357),i=r(86281),s=r(14034);class a extends n.Z{toString(){let t="[";if(s.vc.printRowMajor){t+="row-major:";for(let e=0;e<this.RANK;++e)for(let r=0;r<this.RANK;++r)t+=" ".concat(this[r*this.RANK+e])}else{t+="column-major:";for(let e=0;e<this.ELEMENTS;++e)t+=" ".concat(this[e])}return t+="]",t}getElementIndex(t,e){return e*this.RANK+t}getElement(t,e){return this[e*this.RANK+t]}setElement(t,e,r){return this[e*this.RANK+t]=(0,i.u5)(r),this}getColumn(t,e=new Array(this.RANK).fill(-0)){const r=t*this.RANK;for(let n=0;n<this.RANK;++n)e[n]=this[r+n];return e}setColumn(t,e){const r=t*this.RANK;for(let n=0;n<this.RANK;++n)this[r+n]=e[n];return this}}},89521:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(6357),i=r(86281),s=r(50394);class a extends n.Z{get x(){return this[0]}set x(t){this[0]=(0,i.u5)(t)}get y(){return this[1]}set y(t){this[1]=(0,i.u5)(t)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let t=0;for(let e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}magnitudeSquared(){return this.lengthSquared()}distance(t){return Math.sqrt(this.distanceSquared(t))}distanceSquared(t){let e=0;for(let r=0;r<this.ELEMENTS;++r){const n=this[r]-t[r];e+=n*n}return(0,i.u5)(e)}dot(t){let e=0;for(let r=0;r<this.ELEMENTS;++r)e+=this[r]*t[r];return(0,i.u5)(e)}normalize(){const t=this.magnitude();if(0!==t)for(let e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}multiply(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]*=e[t];return this.check()}divide(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e[t];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(t){return this.distance(t)}distanceToSquared(t){return this.distanceSquared(t)}getComponent(t){return(0,s.Z)(t>=0&&t<this.ELEMENTS,"index is out of range"),(0,i.u5)(this[t])}setComponent(t,e){return(0,s.Z)(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=e,this.check()}addVectors(t,e){return this.copy(t).add(e)}subVectors(t,e){return this.copy(t).subtract(e)}multiplyVectors(t,e){return this.copy(t).multiply(e)}addScaledVector(t,e){return this.add(new this.constructor(t).multiplyScalar(e))}}},85451:(t,e,r)=>{r.d(e,{Z:()=>p});var n,i=r(61e3),s=r(86281),a=r(1031),o=r(85975),h=r(31437),u=r(77160),c=r(98333);!function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL0ROW3=3]="COL0ROW3",t[t.COL1ROW0=4]="COL1ROW0",t[t.COL1ROW1=5]="COL1ROW1",t[t.COL1ROW2=6]="COL1ROW2",t[t.COL1ROW3=7]="COL1ROW3",t[t.COL2ROW0=8]="COL2ROW0",t[t.COL2ROW1=9]="COL2ROW1",t[t.COL2ROW2=10]="COL2ROW2",t[t.COL2ROW3=11]="COL2ROW3",t[t.COL3ROW0=12]="COL3ROW0",t[t.COL3ROW1=13]="COL3ROW1",t[t.COL3ROW2=14]="COL3ROW2",t[t.COL3ROW3=15]="COL3ROW3"}(n||(n={}));const l=45*Math.PI/180,f=1,d=.1,g=500,m=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class p extends i.Z{static get IDENTITY(){return function(){_||(_=new p,Object.freeze(_));return _}()}static get ZERO(){return function(){b||(b=new p([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(b));return b}()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return n}constructor(t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this.check()}set(t,e,r,n,i,s,a,o,h,u,c,l,f,d,g,m){return this[0]=t,this[1]=e,this[2]=r,this[3]=n,this[4]=i,this[5]=s,this[6]=a,this[7]=o,this[8]=h,this[9]=u,this[10]=c,this[11]=l,this[12]=f,this[13]=d,this[14]=g,this[15]=m,this.check()}setRowMajor(t,e,r,n,i,s,a,o,h,u,c,l,f,d,g,m){return this[0]=t,this[1]=i,this[2]=h,this[3]=f,this[4]=e,this[5]=s,this[6]=u,this[7]=d,this[8]=r,this[9]=a,this[10]=c,this[11]=g,this[12]=n,this[13]=o,this[14]=l,this[15]=m,this.check()}toRowMajor(t){return t[0]=this[0],t[1]=this[4],t[2]=this[8],t[3]=this[12],t[4]=this[1],t[5]=this[5],t[6]=this[9],t[7]=this[13],t[8]=this[2],t[9]=this[6],t[10]=this[10],t[11]=this[14],t[12]=this[3],t[13]=this[7],t[14]=this[11],t[15]=this[15],t}identity(){return this.copy(m)}fromObject(t){return this.check()}fromQuaternion(t){return o.en(this,t),this.check()}frustum(t){const{left:e,right:r,bottom:n,top:i,near:s=d,far:a=g}=t;return a===1/0?function(t,e,r,n,i,s){const a=2*s/(r-e),o=2*s/(i-n),h=(r+e)/(r-e),u=(i+n)/(i-n),c=-1,l=-1,f=-2*s;t[0]=a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=h,t[9]=u,t[10]=c,t[11]=l,t[12]=0,t[13]=0,t[14]=f,t[15]=0}(this,e,r,n,i,s):o.oy(this,e,r,n,i,s,a),this.check()}lookAt(t){const{eye:e,center:r=[0,0,0],up:n=[0,1,0]}=t;return o.zB(this,e,r,n),this.check()}ortho(t){const{left:e,right:r,bottom:n,top:i,near:s=d,far:a=g}=t;return o.M5(this,e,r,n,i,s,a),this.check()}orthographic(t){const{fovy:e=l,aspect:r=f,focalDistance:n=1,near:i=d,far:s=g}=t;v(e);const a=e/2,o=n*Math.tan(a),h=o*r;return this.ortho({left:-h,right:h,bottom:-o,top:o,near:i,far:s})}perspective(t){const{fovy:e=45*Math.PI/180,aspect:r=1,near:n=.1,far:i=500}=t;return v(e),o.G3(this,e,r,n,i),this.check()}determinant(){return o.GH(this)}getScale(t=[-0,-0,-0]){return t[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),t[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),t[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),t}getTranslation(t=[-0,-0,-0]){return t[0]=this[12],t[1]=this[13],t[2]=this[14],t}getRotation(t,e){t=t||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],e=e||[-0,-0,-0];const r=this.getScale(e),n=1/r[0],i=1/r[1],s=1/r[2];return t[0]=this[0]*n,t[1]=this[1]*i,t[2]=this[2]*s,t[3]=0,t[4]=this[4]*n,t[5]=this[5]*i,t[6]=this[6]*s,t[7]=0,t[8]=this[8]*n,t[9]=this[9]*i,t[10]=this[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}getRotationMatrix3(t,e){t=t||[-0,-0,-0,-0,-0,-0,-0,-0,-0],e=e||[-0,-0,-0];const r=this.getScale(e),n=1/r[0],i=1/r[1],s=1/r[2];return t[0]=this[0]*n,t[1]=this[1]*i,t[2]=this[2]*s,t[3]=this[4]*n,t[4]=this[5]*i,t[5]=this[6]*s,t[6]=this[8]*n,t[7]=this[9]*i,t[8]=this[10]*s,t}transpose(){return o.p4(this,this),this.check()}invert(){return o.U_(this,this),this.check()}multiplyLeft(t){return o.Jp(this,t,this),this.check()}multiplyRight(t){return o.Jp(this,this,t),this.check()}rotateX(t){return o.lM(this,this,t),this.check()}rotateY(t){return o.uD(this,this,t),this.check()}rotateZ(t){return o.jI(this,this,t),this.check()}rotateXYZ(t){return this.rotateX(t[0]).rotateY(t[1]).rotateZ(t[2])}rotateAxis(t,e){return o.U1(this,this,t,e),this.check()}scale(t){return o.bA(this,this,Array.isArray(t)?t:[t,t,t]),this.check()}translate(t){return o.Iu(this,this,t),this.check()}transform(t,e){return 4===t.length?(e=c.fF(e||[-0,-0,-0,-0],t,this),(0,s.IL)(e,4),e):this.transformAsPoint(t,e)}transformAsPoint(t,e){const{length:r}=t;let n;switch(r){case 2:n=h.fF(e||[-0,-0],t,this);break;case 3:n=u.fF(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return(0,s.IL)(n,t.length),n}transformAsVector(t,e){let r;switch(t.length){case 2:r=(0,a.pb)(e||[-0,-0],t,this);break;case 3:r=(0,a.pL)(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return(0,s.IL)(r,t.length),r}transformPoint(t,e){return this.transformAsPoint(t,e)}transformVector(t,e){return this.transformAsPoint(t,e)}transformDirection(t,e){return this.transformAsVector(t,e)}makeRotationX(t){return this.identity().rotateX(t)}makeTranslation(t,e,r){return this.identity().translate([t,e,r])}}let b,_;function v(t){if(t>2*Math.PI)throw Error("expected radians")}},43855:(t,e,r)=>{r.d(e,{Z:()=>c});var n=r(89521),i=r(14034),s=r(86281),a=r(77160),o=r(1031);const h=[0,0,0];let u;class c extends n.Z{static get ZERO(){return u||(u=new c(0,0,0),Object.freeze(u)),u}constructor(t=0,e=0,r=0){super(-0,-0,-0),1===arguments.length&&(0,i.kJ)(t)?this.copy(t):(i.vc.debug&&((0,s.u5)(t),(0,s.u5)(e),(0,s.u5)(r)),this[0]=t,this[1]=e,this[2]=r)}set(t,e,r){return this[0]=t,this[1]=e,this[2]=r,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.check()}fromObject(t){return i.vc.debug&&((0,s.u5)(t.x),(0,s.u5)(t.y),(0,s.u5)(t.z)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t.z=this[2],t}get ELEMENTS(){return 3}get z(){return this[2]}set z(t){this[2]=(0,s.u5)(t)}angle(t){return a.EU(this,t)}cross(t){return a.kC(this,this,t),this.check()}rotateX({radians:t,origin:e=h}){return a.lM(this,this,e,t),this.check()}rotateY({radians:t,origin:e=h}){return a.uD(this,this,e,t),this.check()}rotateZ({radians:t,origin:e=h}){return a.jI(this,this,e,t),this.check()}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return a.fF(this,this,t),this.check()}transformAsVector(t){return(0,o.pL)(this,this,t),this.check()}transformByMatrix3(t){return a.kK(this,this,t),this.check()}transformByMatrix2(t){return(0,o.eQ)(this,this,t),this.check()}transformByQuaternion(t){return a.VC(this,this,t),this.check()}}},50394:(t,e,r)=>{function n(t,e){if(!t)throw new Error("math.gl assertion ".concat(e))}r.d(e,{Z:()=>n})},14034:(t,e,r)=>{r.d(e,{Bw:()=>a,RW:()=>l,Ux:()=>u,Yr:()=>h,fS:()=>g,kJ:()=>o,t7:()=>d,uR:()=>c,uZ:()=>f,vc:()=>s});const n=1/Math.PI*180,i=1/180*Math.PI,s={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function a(t,{precision:e=s.precision}={}){return t=function(t){return Math.round(t/s.EPSILON)*s.EPSILON}(t),"".concat(parseFloat(t.toPrecision(e)))}function o(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function h(t){return c(t)}function u(t){return l(t)}function c(t,e){return m(t,(t=>t*i),e)}function l(t,e){return m(t,(t=>t*n),e)}function f(t,e,r){return m(t,(t=>Math.max(e,Math.min(r,t))))}function d(t,e,r){return o(t)?t.map(((t,n)=>d(t,e[n],r))):r*e+(1-r)*t}function g(t,e,r){const n=s.EPSILON;r&&(s.EPSILON=r);try{if(t===e)return!0;if(o(t)&&o(e)){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!g(t[r],e[r]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):"number"==typeof t&&"number"==typeof e&&Math.abs(t-e)<=s.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}finally{s.EPSILON=n}}function m(t,e,r){if(o(t)){const n=t;r=r||function(t){return t.clone?t.clone():new Array(t.length)}(n);for(let i=0;i<r.length&&i<n.length;++i)r[i]=e(t[i],i,r);return r}return e(t)}},1031:(t,e,r)=>{function n(t,e,r){const n=e[0],i=e[1],s=r[3]*n+r[7]*i||1;return t[0]=(r[0]*n+r[4]*i)/s,t[1]=(r[1]*n+r[5]*i)/s,t}function i(t,e,r){const n=e[0],i=e[1],s=e[2],a=r[3]*n+r[7]*i+r[11]*s||1;return t[0]=(r[0]*n+r[4]*i+r[8]*s)/a,t[1]=(r[1]*n+r[5]*i+r[9]*s)/a,t[2]=(r[2]*n+r[6]*i+r[10]*s)/a,t}function s(t,e,r){const n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t[2]=e[2],t}function a(t,e,r){const n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t[2]=e[2],t[3]=e[3],t}function o(t,e,r){const n=e[0],i=e[1],s=e[2];return t[0]=r[0]*n+r[3]*i+r[6]*s,t[1]=r[1]*n+r[4]*i+r[7]*s,t[2]=r[2]*n+r[5]*i+r[8]*s,t[3]=e[3],t}r.d(e,{G7:()=>a,_x:()=>o,eQ:()=>s,pL:()=>i,pb:()=>n})},86281:(t,e,r)=>{r.d(e,{IL:()=>s,u5:()=>i});var n=r(14034);r(25108);function i(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function s(t,e,r=""){if(n.vc.debug&&!function(t,e){if(t.length!==e)return!1;for(let r=0;r<t.length;++r)if(!Number.isFinite(t[r]))return!1;return!0}(t,e))throw new Error("math.gl: ".concat(r," some fields set to invalid numbers'"));return t}},3485:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(93370),i=r(62363);const s=globalThis;function a(t){if(!t&&!(0,n.Z)())return"Node";if((0,i.Z)(t))return"Electron";const e="undefined"!=typeof navigator?navigator:{},r=t||e.userAgent||"";if(r.indexOf("Edge")>-1)return"Edge";const a=-1!==r.indexOf("MSIE "),o=-1!==r.indexOf("Trident/");return a||o?"IE":s.chrome?"Chrome":s.safari?"Safari":s.mozInnerScreenX?"Firefox":"Unknown"}},49685:(t,e,r)=>{r.d(e,{Ib:()=>n,WT:()=>i});var n=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},85975:(t,e,r)=>{r.d(e,{G3:()=>b,GH:()=>a,Iu:()=>h,Jp:()=>o,M5:()=>_,Q$:()=>g,U1:()=>c,U_:()=>s,bA:()=>u,en:()=>m,jI:()=>d,lM:()=>l,oy:()=>p,p4:()=>i,uD:()=>f,zB:()=>v});var n=r(49685);function i(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],s=e[6],a=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=s,t[11]=e[14],t[12]=i,t[13]=a,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function s(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=e[4],o=e[5],h=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],g=e[12],m=e[13],p=e[14],b=e[15],_=r*o-n*a,v=r*h-i*a,y=r*u-s*a,A=n*h-i*o,E=n*u-s*o,M=i*u-s*h,O=c*m-l*g,L=c*p-f*g,T=c*b-d*g,x=l*p-f*m,w=l*b-d*m,R=f*b-d*p,P=_*R-v*w+y*x+A*T-E*L+M*O;return P?(P=1/P,t[0]=(o*R-h*w+u*x)*P,t[1]=(i*w-n*R-s*x)*P,t[2]=(m*M-p*E+b*A)*P,t[3]=(f*E-l*M-d*A)*P,t[4]=(h*T-a*R-u*L)*P,t[5]=(r*R-i*T+s*L)*P,t[6]=(p*y-g*M-b*v)*P,t[7]=(c*M-f*y+d*v)*P,t[8]=(a*w-o*T+u*O)*P,t[9]=(n*T-r*w-s*O)*P,t[10]=(g*E-m*y+b*_)*P,t[11]=(l*y-c*E-d*_)*P,t[12]=(o*L-a*x-h*O)*P,t[13]=(r*x-n*L+i*O)*P,t[14]=(m*v-g*A-p*_)*P,t[15]=(c*A-l*v+f*_)*P,t):null}function a(t){var e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],h=t[7],u=t[8],c=t[9],l=t[10],f=t[11],d=t[12],g=t[13],m=t[14],p=t[15];return(e*a-r*s)*(l*p-f*m)-(e*o-n*s)*(c*p-f*g)+(e*h-i*s)*(c*m-l*g)+(r*o-n*a)*(u*p-f*d)-(r*h-i*a)*(u*m-l*d)+(n*h-i*o)*(u*g-c*d)}function o(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],h=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],g=e[11],m=e[12],p=e[13],b=e[14],_=e[15],v=r[0],y=r[1],A=r[2],E=r[3];return t[0]=v*n+y*o+A*l+E*m,t[1]=v*i+y*h+A*f+E*p,t[2]=v*s+y*u+A*d+E*b,t[3]=v*a+y*c+A*g+E*_,v=r[4],y=r[5],A=r[6],E=r[7],t[4]=v*n+y*o+A*l+E*m,t[5]=v*i+y*h+A*f+E*p,t[6]=v*s+y*u+A*d+E*b,t[7]=v*a+y*c+A*g+E*_,v=r[8],y=r[9],A=r[10],E=r[11],t[8]=v*n+y*o+A*l+E*m,t[9]=v*i+y*h+A*f+E*p,t[10]=v*s+y*u+A*d+E*b,t[11]=v*a+y*c+A*g+E*_,v=r[12],y=r[13],A=r[14],E=r[15],t[12]=v*n+y*o+A*l+E*m,t[13]=v*i+y*h+A*f+E*p,t[14]=v*s+y*u+A*d+E*b,t[15]=v*a+y*c+A*g+E*_,t}function h(t,e,r){var n,i,s,a,o,h,u,c,l,f,d,g,m=r[0],p=r[1],b=r[2];return e===t?(t[12]=e[0]*m+e[4]*p+e[8]*b+e[12],t[13]=e[1]*m+e[5]*p+e[9]*b+e[13],t[14]=e[2]*m+e[6]*p+e[10]*b+e[14],t[15]=e[3]*m+e[7]*p+e[11]*b+e[15]):(n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],h=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],g=e[11],t[0]=n,t[1]=i,t[2]=s,t[3]=a,t[4]=o,t[5]=h,t[6]=u,t[7]=c,t[8]=l,t[9]=f,t[10]=d,t[11]=g,t[12]=n*m+o*p+l*b+e[12],t[13]=i*m+h*p+f*b+e[13],t[14]=s*m+u*p+d*b+e[14],t[15]=a*m+c*p+g*b+e[15]),t}function u(t,e,r){var n=r[0],i=r[1],s=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function c(t,e,r,i){var s,a,o,h,u,c,l,f,d,g,m,p,b,_,v,y,A,E,M,O,L,T,x,w,R=i[0],P=i[1],C=i[2],S=Math.hypot(R,P,C);return S<n.Ib?null:(R*=S=1/S,P*=S,C*=S,s=Math.sin(r),o=1-(a=Math.cos(r)),h=e[0],u=e[1],c=e[2],l=e[3],f=e[4],d=e[5],g=e[6],m=e[7],p=e[8],b=e[9],_=e[10],v=e[11],y=R*R*o+a,A=P*R*o+C*s,E=C*R*o-P*s,M=R*P*o-C*s,O=P*P*o+a,L=C*P*o+R*s,T=R*C*o+P*s,x=P*C*o-R*s,w=C*C*o+a,t[0]=h*y+f*A+p*E,t[1]=u*y+d*A+b*E,t[2]=c*y+g*A+_*E,t[3]=l*y+m*A+v*E,t[4]=h*M+f*O+p*L,t[5]=u*M+d*O+b*L,t[6]=c*M+g*O+_*L,t[7]=l*M+m*O+v*L,t[8]=h*T+f*x+p*w,t[9]=u*T+d*x+b*w,t[10]=c*T+g*x+_*w,t[11]=l*T+m*x+v*w,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function l(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[4],a=e[5],o=e[6],h=e[7],u=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*i+u*n,t[5]=a*i+c*n,t[6]=o*i+l*n,t[7]=h*i+f*n,t[8]=u*i-s*n,t[9]=c*i-a*n,t[10]=l*i-o*n,t[11]=f*i-h*n,t}function f(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[0],a=e[1],o=e[2],h=e[3],u=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i-u*n,t[1]=a*i-c*n,t[2]=o*i-l*n,t[3]=h*i-f*n,t[8]=s*n+u*i,t[9]=a*n+c*i,t[10]=o*n+l*i,t[11]=h*n+f*i,t}function d(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[0],a=e[1],o=e[2],h=e[3],u=e[4],c=e[5],l=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i+u*n,t[1]=a*i+c*n,t[2]=o*i+l*n,t[3]=h*i+f*n,t[4]=u*i-s*n,t[5]=c*i-a*n,t[6]=l*i-o*n,t[7]=f*i-h*n,t}function g(t,e){var r=e[0],n=e[1],i=e[2],s=e[4],a=e[5],o=e[6],h=e[8],u=e[9],c=e[10];return t[0]=Math.hypot(r,n,i),t[1]=Math.hypot(s,a,o),t[2]=Math.hypot(h,u,c),t}function m(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=r+r,o=n+n,h=i+i,u=r*a,c=n*a,l=n*o,f=i*a,d=i*o,g=i*h,m=s*a,p=s*o,b=s*h;return t[0]=1-l-g,t[1]=c+b,t[2]=f-p,t[3]=0,t[4]=c-b,t[5]=1-u-g,t[6]=d+m,t[7]=0,t[8]=f+p,t[9]=d-m,t[10]=1-u-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function p(t,e,r,n,i,s,a){var o=1/(r-e),h=1/(i-n),u=1/(s-a);return t[0]=2*s*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*h,t[6]=0,t[7]=0,t[8]=(r+e)*o,t[9]=(i+n)*h,t[10]=(a+s)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*s*2*u,t[15]=0,t}var b=function(t,e,r,n,i){var s,a=1/Math.tan(e/2);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(s=1/(n-i),t[10]=(i+n)*s,t[14]=2*i*n*s):(t[10]=-1,t[14]=-2*n),t};var _=function(t,e,r,n,i,s,a){var o=1/(e-r),h=1/(n-i),u=1/(s-a);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+r)*o,t[13]=(i+n)*h,t[14]=(a+s)*u,t[15]=1,t};function v(t,e,r,i){var s,a,o,h,u,c,l,f,d,g,m=e[0],p=e[1],b=e[2],_=i[0],v=i[1],y=i[2],A=r[0],E=r[1],M=r[2];return Math.abs(m-A)<n.Ib&&Math.abs(p-E)<n.Ib&&Math.abs(b-M)<n.Ib?function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}(t):(l=m-A,f=p-E,d=b-M,s=v*(d*=g=1/Math.hypot(l,f,d))-y*(f*=g),a=y*(l*=g)-_*d,o=_*f-v*l,(g=Math.hypot(s,a,o))?(s*=g=1/g,a*=g,o*=g):(s=0,a=0,o=0),h=f*o-d*a,u=d*s-l*o,c=l*a-f*s,(g=Math.hypot(h,u,c))?(h*=g=1/g,u*=g,c*=g):(h=0,u=0,c=0),t[0]=s,t[1]=h,t[2]=l,t[3]=0,t[4]=a,t[5]=u,t[6]=f,t[7]=0,t[8]=o,t[9]=c,t[10]=d,t[11]=0,t[12]=-(s*m+a*p+o*b),t[13]=-(h*m+u*p+c*b),t[14]=-(l*m+f*p+d*b),t[15]=1,t)}},31437:(t,e,r)=>{r.d(e,{IH:()=>i,bA:()=>s,c:()=>u,fF:()=>f,iu:()=>c,kE:()=>a,kK:()=>l,lu:()=>m,t7:()=>h,tk:()=>o});var n=r(49685);function i(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function s(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function a(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function o(t,e){return t[0]=-e[0],t[1]=-e[1],t}function h(t,e,r,n){var i=e[0],s=e[1];return t[0]=i+n*(r[0]-i),t[1]=s+n*(r[1]-s),t}function u(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t}function c(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function l(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t}function f(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}var d,g,m=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t};d=new n.WT(2),n.WT!=Float32Array&&(d[0]=0,d[1]=0),g=d},77160:(t,e,r)=>{r.d(e,{AK:()=>u,EU:()=>_,Fv:()=>h,Ue:()=>i,VC:()=>g,Zh:()=>A,al:()=>a,fF:()=>f,jI:()=>b,kC:()=>c,kE:()=>s,kK:()=>d,lM:()=>m,lu:()=>y,t7:()=>l,tk:()=>o,uD:()=>p,x9:()=>E});var n=r(49685);function i(){var t=new n.WT(3);return n.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function s(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function a(t,e,r){var i=new n.WT(3);return i[0]=t,i[1]=e,i[2]=r,i}function o(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function h(t,e){var r=e[0],n=e[1],i=e[2],s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function u(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function c(t,e,r){var n=e[0],i=e[1],s=e[2],a=r[0],o=r[1],h=r[2];return t[0]=i*h-s*o,t[1]=s*a-n*h,t[2]=n*o-i*a,t}function l(t,e,r,n){var i=e[0],s=e[1],a=e[2];return t[0]=i+n*(r[0]-i),t[1]=s+n*(r[1]-s),t[2]=a+n*(r[2]-a),t}function f(t,e,r){var n=e[0],i=e[1],s=e[2],a=r[3]*n+r[7]*i+r[11]*s+r[15];return a=a||1,t[0]=(r[0]*n+r[4]*i+r[8]*s+r[12])/a,t[1]=(r[1]*n+r[5]*i+r[9]*s+r[13])/a,t[2]=(r[2]*n+r[6]*i+r[10]*s+r[14])/a,t}function d(t,e,r){var n=e[0],i=e[1],s=e[2];return t[0]=n*r[0]+i*r[3]+s*r[6],t[1]=n*r[1]+i*r[4]+s*r[7],t[2]=n*r[2]+i*r[5]+s*r[8],t}function g(t,e,r){var n=r[0],i=r[1],s=r[2],a=r[3],o=e[0],h=e[1],u=e[2],c=i*u-s*h,l=s*o-n*u,f=n*h-i*o,d=i*f-s*l,g=s*c-n*f,m=n*l-i*c,p=2*a;return c*=p,l*=p,f*=p,d*=2,g*=2,m*=2,t[0]=o+c+d,t[1]=h+l+g,t[2]=u+f+m,t}function m(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[0],s[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),s[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function p(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),s[1]=i[1],s[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function b(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),s[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),s[2]=i[2],t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function _(t,e){var r=t[0],n=t[1],i=t[2],s=e[0],a=e[1],o=e[2],h=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(s*s+a*a+o*o),c=h&&u(t,e)/h;return Math.acos(Math.min(Math.max(c,-1),1))}var v,y=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t},A=s,E=function(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n};v=i()},98333:(t,e,r)=>{r.d(e,{AK:()=>d,Fv:()=>f,I6:()=>b,IH:()=>h,JG:()=>a,VC:()=>p,al:()=>s,bA:()=>u,d9:()=>i,fF:()=>m,fS:()=>_,kE:()=>c,t7:()=>g,t8:()=>o,we:()=>l});var n=r(49685);function i(t){var e=new n.WT(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(t,e,r,i){var s=new n.WT(4);return s[0]=t,s[1]=e,s[2]=r,s[3]=i,s}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function h(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function u(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function c(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.hypot(e,r,n,i)}function l(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}function f(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=r*r+n*n+i*i+s*s;return a>0&&(a=1/Math.sqrt(a)),t[0]=r*a,t[1]=n*a,t[2]=i*a,t[3]=s*a,t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function g(t,e,r,n){var i=e[0],s=e[1],a=e[2],o=e[3];return t[0]=i+n*(r[0]-i),t[1]=s+n*(r[1]-s),t[2]=a+n*(r[2]-a),t[3]=o+n*(r[3]-o),t}function m(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*a,t[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*a,t[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*a,t[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*a,t}function p(t,e,r){var n=e[0],i=e[1],s=e[2],a=r[0],o=r[1],h=r[2],u=r[3],c=u*n+o*s-h*i,l=u*i+h*n-a*s,f=u*s+a*i-o*n,d=-a*n-o*i-h*s;return t[0]=c*u+d*-a+l*-h-f*-o,t[1]=l*u+d*-o+f*-a-c*-h,t[2]=f*u+d*-h+c*-o-l*-a,t[3]=e[3],t}function b(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function _(t,e){var r=t[0],i=t[1],s=t[2],a=t[3],o=e[0],h=e[1],u=e[2],c=e[3];return Math.abs(r-o)<=n.Ib*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-h)<=n.Ib*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(s-u)<=n.Ib*Math.max(1,Math.abs(s),Math.abs(u))&&Math.abs(a-c)<=n.Ib*Math.max(1,Math.abs(a),Math.abs(c))}var v,y;v=new n.WT(4),n.WT!=Float32Array&&(v[0]=0,v[1]=0,v[2]=0,v[3]=0),y=v}}]);