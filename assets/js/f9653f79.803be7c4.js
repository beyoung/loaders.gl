"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[4974],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>h});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=r.createContext({}),p=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},d=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,l=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),m=p(a),c=n,h=m["".concat(l,".").concat(c)]||m[c]||u[c]||i;return a?r.createElement(h,s(s({ref:t},d),{},{components:a})):r.createElement(h,s({ref:t},d))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,s=new Array(i);s[0]=c;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[m]="string"==typeof e?e:n,s[1]=o;for(var p=2;p<i;p++)s[p]=a[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,a)}c.displayName="MDXCreateElement"},34810:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var r=a(87462),n=(a(67294),a(3905));const i={},s="WMS Overview",o={unversionedId:"modules/wms/formats/wms",id:"modules/wms/formats/wms",title:"WMS Overview",description:"WMS (Web Map Service) is a standardized protocol for serving geo-referenced map images over the internet.",source:"@site/../docs/modules/wms/formats/wms.md",sourceDirName:"modules/wms/formats",slug:"/modules/wms/formats/wms",permalink:"/docs/modules/wms/formats/wms",draft:!1,editUrl:"https://github.com/uber-web/loaders.gl/tree/master/website/../docs/modules/wms/formats/wms.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"CSWService",permalink:"/docs/modules/wms/api-reference/csw-service"},next:{title:"CSW Overview",permalink:"/docs/modules/wms/formats/csw"}},l={},p=[{value:"Characteristics",id:"characteristics",level:2},{value:"Concepts",id:"concepts",level:2},{value:"Map images",id:"map-images",level:3},{value:"Map Layers",id:"map-layers",level:3},{value:"WMS Request Types",id:"wms-request-types",level:2},{value:"WMS Protocol Versions",id:"wms-protocol-versions",level:2},{value:"v1.3.0",id:"v130",level:4},{value:"v1.1.1",id:"v111",level:4},{value:"v1.1.0",id:"v110",level:4},{value:"v1.0.0",id:"v100",level:4},{value:"Servers",id:"servers",level:2},{value:"Vendor parameters",id:"vendor-parameters",level:3},{value:"Example Services",id:"example-services",level:2}],d={toc:p},m="wrapper";function u(e){let{components:t,...a}=e;return(0,n.kt)(m,(0,r.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"wms-overview"},"WMS Overview"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Web_Map_Service"},"WMS")," (Web Map Service) is a standardized protocol for serving geo-referenced ",(0,n.kt)("strong",{parentName:"p"},"map images")," over the internet. "),(0,n.kt)("p",null,"WMS was standardized in 1999 as a way to serve map images over the web."),(0,n.kt)("h2",{id:"characteristics"},"Characteristics"),(0,n.kt)("p",null,"WMS is not a file format but rather a protocol, specifying a set of requests that the server should implement. Some WMS protocol requests return binary images, and some return metadata formatted as XML text responses. "),(0,n.kt)("p",null,"The XML responses have a fairly detailed structure and some variations exists, so when working with WMS it is typically useful to have access to well-tested parsers for each XML response type."),(0,n.kt)("h2",{id:"concepts"},"Concepts"),(0,n.kt)("h3",{id:"map-images"},"Map images"),(0,n.kt)("p",null,"A WMS server usually serves the map in a bitmap format, e.g. PNG, GIF, JPEG. In addition, vector graphics can be included, such as points, lines, curves and text, expressed in SVG or WebCGM format. The MIME types of the ",(0,n.kt)("inlineCode",{parentName:"p"},"GetMap")," request can be inspected in the response to the ",(0,n.kt)("inlineCode",{parentName:"p"},"GetCapabilities")," request."),(0,n.kt)("h3",{id:"map-layers"},"Map Layers"),(0,n.kt)("p",null,"A WMS service defines a number of ",(0,n.kt)("strong",{parentName:"p"},"layers")," representing data that can be rendered. A list of layers must be specified in the ",(0,n.kt)("inlineCode",{parentName:"p"},"GetMap")," request. If no layers are requested, no map image will be produced and an error will be generated."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"GetCapabilities")," request returns a list of valid layers and metadata about them such as their name and description, which ",(0,n.kt)("inlineCode",{parentName:"p"},"crs")," or coordinate reference systems they support, their bounding box, any sub layers etc."),(0,n.kt)("p",null,"Also note that layers are organized in a hierarchy. Sublayers inherit properties from the parent layers. This is sometimes used to reduce the size of the ",(0,n.kt)("inlineCode",{parentName:"p"},"GetCapabilities")," XML response payload, for servers that offer many sublayers."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Note that the GetCapabilities request can be used to discover valid layer names, however on public servers the ",(0,n.kt)("inlineCode",{parentName:"p"},"GetCapabilities")," request is sometimesslow, so it can take some time to auto-discover a valid layer name and then request a map with that layer. The ",(0,n.kt)("inlineCode",{parentName:"p"},"GetMap")," request is usually faster once you have a list of valid layer names. ")),(0,n.kt)("h2",{id:"wms-request-types"},"WMS Request Types"),(0,n.kt)("p",null,'The WMS standard specifies a number of "request types" that a standards-compliant WMS server should support. loaders.gl provides loaders for all WMS request responses: '),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"th"},"WMS Request")),(0,n.kt)("th",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"th"},"Response Loader")),(0,n.kt)("th",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"th"},"Description")))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"GetCapabilities")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"WMSCapabilitiesLoader")),(0,n.kt)("td",{parentName:"tr",align:null},"Returns WMS metadata (such as map image format and WMS version compatibility) and the available layers (map bounding box, coordinate reference systems, URI of the data and whether the layer is mostly opaque or not)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"GetMap")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"ImageLoader")),(0,n.kt)("td",{parentName:"tr",align:null},"returns a map image. Parameters include: width and height of the map, coordinate reference system, rendering style, image format")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"GetFeatureInfo")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"WMSFeatureInfoLoader")),(0,n.kt)("td",{parentName:"tr",align:null},"if a layer is marked as 'queryable' then you can request data about a coordinate of the map image.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"DescribeLayer")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"WMSLayerDescriptionLoader")),(0,n.kt)("td",{parentName:"tr",align:null},"gets feature types of the specified layer or layers, which can be further described using WFS or WCS requests. This request is dependent on the Styled Layer Descriptor (SLD) Profile of WMS.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"GetLegendGraphic")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"ImageLoader")),(0,n.kt)("td",{parentName:"tr",align:null},"An image of the map's legend, giving a visual guide to map elements.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Exceptions"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"WMSErrorLoader")),(0,n.kt)("td",{parentName:"tr",align:null},"Parses an XML encoded WMS error response from any malformed request.")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Note that only the ",(0,n.kt)("inlineCode",{parentName:"p"},"GetCapabilities")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"GetMap")," request types are are required to be supported by a WMS server. Information about which request types are supported is available in the response to ",(0,n.kt)("inlineCode",{parentName:"p"},"GetCapabilities")," request.")),(0,n.kt)("h2",{id:"wms-protocol-versions"},"WMS Protocol Versions"),(0,n.kt)("p",null,"Several revisions of the WMS standard have been published by the OGC. It is notable that there are some breaking, non-backwards compatible changes. Taking care of these differences on behalf of the application is normally goal of libraries that provide WMS support. "),(0,n.kt)("h4",{id:"v130"},"v1.3.0"),(0,n.kt)("p",null,"Released in January 2004"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Use ",(0,n.kt)("inlineCode",{parentName:"p"},"CRS")," instead of ",(0,n.kt)("inlineCode",{parentName:"p"},"SRS")," parameter for 1.3.0")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"The order of parameters for BBOX (in v1.3.0 only) depends on whether the CRS definition has flipped axes. You will see this in the ",(0,n.kt)("inlineCode",{parentName:"p"},"GetCapabilities")," request at 1.3.0 - the response should show the flipped axes."),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"BBOX=xmin,ymin,xmax,ymax NON-FLIPPED")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"BBOX=ymin,xmin,ymax,xmax FLIPPED")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"EPSG:4326")," needs to have flipped axes. ",(0,n.kt)("inlineCode",{parentName:"li"},"4326 1 WGS 84 Latitude North Longitude East")))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"EPSG:4326")," is wrongly defined in v1.1.1 as having long/lat coordinate axes. In WMS 1.3.0 the correct axes lat/long are used. ")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"CRS:84")," was introduced with the publication of the WMS 1.3.0 specification, to overcome the issue that in WMS 1.1.1 ")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"CRS:84")," is defined by OGC as having the same datum as ",(0,n.kt)("inlineCode",{parentName:"p"},"EPSG:4326")," (that is the World Geodetic System 1984 datum ~ ",(0,n.kt)("inlineCode",{parentName:"p"},"EPSG::6326"),") but axis order of long/lat."))),(0,n.kt)("p",null,"The above information is mainly based on the following ",(0,n.kt)("a",{parentName:"p",href:"https://gis.stackexchange.com/questions/23347/getmap-wms-1-1-1-vs-1-3-0"},"stackexchange")," notes."),(0,n.kt)("h4",{id:"v111"},"v1.1.1"),(0,n.kt)("p",null,"Released in January 2002"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Use SRS instead of CRS parameter for 1.1.1"),(0,n.kt)("li",{parentName:"ul"},"In WMS 1.1.1 EPSG:4326 is wrongly defined as having long/lat coordinate axes. See v1.3.0 documentation for details.")),(0,n.kt)("h4",{id:"v110"},"v1.1.0"),(0,n.kt)("p",null,"Released in June 2001"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Not tested / not officially supported.")),(0,n.kt)("h4",{id:"v100"},"v1.0.0"),(0,n.kt)("p",null,"Released in April 2000. "),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Not tested / not officially supported.")),(0,n.kt)("h2",{id:"servers"},"Servers"),(0,n.kt)("p",null,"A number of commercial and open services implement WMS support"),(0,n.kt)("p",null,"GeoServer is a major open source server with support for serving WMS images."),(0,n.kt)("h3",{id:"vendor-parameters"},"Vendor parameters"),(0,n.kt)("p",null,"A specific server implementation often supports additional vendor specific parameters, e.g ",(0,n.kt)("a",{parentName:"p",href:"https://docs.geoserver.org/2.22.x/en/user/services/wms/vendor.html#wms-vendor-parameters"},"GeoServer")),(0,n.kt)("h2",{id:"example-services"},"Example Services"),(0,n.kt)("p",null,"There are a number of public services"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Name"),(0,n.kt)("th",{parentName:"tr",align:null},"Service URL"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://www.terrestris.de/en/openstreetmap-wms/"},"OpenStreetMap WMS")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://ows.terrestris.de/osm/service"},"https://ows.terrestris.de/osm/service")),(0,n.kt)("td",{parentName:"tr",align:null},"OpenStreetMap rendered, updated weekly, covering the entire globe. ",(0,n.kt)("a",{parentName:"td",href:"https://www.openstreetmap.org/copyright"},"Copyright OpenStreetMap"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://opengeo.ncep.noaa.gov/geoserver/www/index.html"},"NOAA Composite Reflectivity WMS")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://opengeo.ncep.noaa.gov/geoserver/conus/conus_cref_qcd/ows"},"https://opengeo.ncep.noaa.gov/geoserver/conus/conus_cref_qcd/ows")),(0,n.kt)("td",{parentName:"tr",align:null},"Radar precipitation data covering the contiguous US. Quality Controlled 1km x 1km CONUS Radar Composite Reflectivity. This data is provided Multi-Radar-Multi-Sensor (MRMS) algorithm.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://www.earthdata.nasa.gov/eosdis/science-system-description/eosdis-components/gibs/"},"NASA Global Imagery Browse Services for EOSDIS")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://gibs.earthdata.nasa.gov/wms/epsg4326/best/wms.cgi"},"https://gibs.earthdata.nasa.gov/wms/epsg4326/best/wms.cgi")),(0,n.kt)("td",{parentName:"tr",align:null},"Over 1,000 NASA satellite imagery products, covering every part of the world. Most imagery is updated daily\u2014available within a few hours after satellite observation, and some products span almost 30 years.")))))}u.isMDXComponent=!0}}]);