"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[6590],{98794:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(81180),i=n(78918),o=n(80744),a=n(65217),s=n(24088),l=n(15004),c=n(29221),u=n(10892);const h=[1],f={...c.Z.defaultProps,elevationData:u.zc,texture:{...u.zc,optional:!0},meshMaxError:{type:"number",value:4},bounds:{type:"array",value:null,optional:!0,compare:!0},color:{type:"color",value:[255,255,255]},elevationDecoder:{type:"object",value:{rScaler:1,gScaler:0,bScaler:0,offset:0}},workerUrl:"",wireframe:!1,material:!0,loaders:[l.x]};function d(e){return Array.isArray(e)?e.join(";"):e||""}class p extends i.Z{constructor(...e){super(...e),(0,r.Z)(this,"state",void 0)}updateState({props:e,oldProps:t}){const n=e.elevationData!==t.elevationData;if(n){const{elevationData:t}=e,n=t&&(Array.isArray(t)||t.includes("{x}")&&t.includes("{y}"));this.setState({isTiled:n})}const r=n||e.meshMaxError!==t.meshMaxError||e.elevationDecoder!==t.elevationDecoder||e.bounds!==t.bounds;if(!this.state.isTiled&&r){const t=this.loadTerrain(e);this.setState({terrain:t})}e.workerUrl&&o.Z.removed("workerUrl","loadOptions.terrain.workerUrl")()}loadTerrain({elevationData:e,bounds:t,elevationDecoder:n,meshMaxError:r,signal:i}){var o;if(!e)return null;let a=this.getLoadOptions();a={...a,terrain:{skirtHeight:this.state.isTiled?2*r:0,...null===(o=a)||void 0===o?void 0:o.terrain,bounds:t,meshMaxError:r,elevationDecoder:n}};const{fetch:s}=this.props;return s(e,{propName:"elevationData",layer:this,loadOptions:a,signal:i})}getTiledTerrainData(e){const{elevationData:t,fetch:n,texture:r,elevationDecoder:i,meshMaxError:o}=this.props,{viewport:a}=this.context,s=(0,u.z0)(t,e),l=r&&(0,u.z0)(r,e),{signal:c}=e;let h=[0,0],f=[0,0];if(a.isGeospatial){const t=e.bbox;h=a.projectFlat([t.west,t.south]),f=a.projectFlat([t.east,t.north])}else{const t=e.bbox;h=[t.left,t.bottom],f=[t.right,t.top]}const d=[h[0],h[1],f[0],f[1]],p=this.loadTerrain({elevationData:s,bounds:d,elevationDecoder:i,meshMaxError:o,signal:c}),m=l?n(l,{propName:"texture",layer:this,loaders:[],signal:c}).catch((e=>null)):Promise.resolve(null);return Promise.all([p,m])}renderSubLayers(e){const t=this.getSubLayerClass("mesh",a.Z),{color:n,wireframe:r,material:i}=this.props,{data:o}=e;if(!o)return null;const[l,c]=o;return new t(e,{data:h,mesh:l,texture:c,_instanced:!1,coordinateSystem:s.COORDINATE_SYSTEM.CARTESIAN,getPosition:e=>[0,0,0],getColor:n,wireframe:r,material:i})}onViewportLoad(e){if(!e)return;const{zRange:t}=this.state,n=e.map((e=>e.content)).filter(Boolean).map((e=>e[0].header.boundingBox.map((e=>e[2]))));if(0===n.length)return;const r=Math.min(...n.map((e=>e[0]))),i=Math.max(...n.map((e=>e[1])));(!t||r<t[0]||i>t[1])&&this.setState({zRange:[r,i]})}renderLayers(){const{color:e,material:t,elevationData:n,texture:r,wireframe:i,meshMaxError:o,elevationDecoder:s,tileSize:l,maxZoom:u,minZoom:f,extent:p,maxRequests:m,onTileLoad:v,onTileUnload:_,onTileError:g,maxCacheSize:y,maxCacheByteSize:C,refinementStrategy:w}=this.props;if(this.state.isTiled)return new c.Z(this.getSubLayerProps({id:"tiles"}),{getTileData:this.getTiledTerrainData.bind(this),renderSubLayers:this.renderSubLayers.bind(this),updateTriggers:{getTileData:{elevationData:d(n),texture:d(r),meshMaxError:o,elevationDecoder:s}},onViewportLoad:this.onViewportLoad.bind(this),zRange:this.state.zRange||null,tileSize:l,maxZoom:u,minZoom:f,extent:p,maxRequests:m,onTileLoad:v,onTileUnload:_,onTileError:g,maxCacheSize:y,maxCacheByteSize:C,refinementStrategy:w});return new(this.getSubLayerClass("mesh",a.Z))(this.getSubLayerProps({id:"mesh"}),{data:h,mesh:this.state.terrain,texture:r,_instanced:!1,getPosition:e=>[0,0,0],getColor:e,material:t,wireframe:i})}}(0,r.Z)(p,"defaultProps",f),(0,r.Z)(p,"layerName","TerrainLayer")},64641:()=>{var e="$";function t(){}function n(e,n){var r=new t;if(e instanceof t)e.each((function(e,t){r.set(t,e)}));else if(Array.isArray(e)){var i,o=-1,a=e.length;if(null==n)for(;++o<a;)r.set(o,e[o]);else for(;++o<a;)r.set(n(i=e[o],o,e),i)}else if(e)for(var s in e)r.set(s,e[s]);return r}t.prototype=n.prototype={constructor:t,has:function(t){return e+t in this},get:function(t){return this[e+t]},set:function(t,n){return this[e+t]=n,this},remove:function(t){var n=e+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===e&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===e&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===e&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===e&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===e&&++t;return t},empty:function(){for(var t in this)if(t[0]===e)return!1;return!0},each:function(t){for(var n in this)n[0]===e&&t(this[n],n.slice(1),this)}};const r=n;function i(){}var o=r.prototype;function a(e,t){var n=new i;if(e instanceof i)e.each((function(e){n.add(e)}));else if(e){var r=-1,o=e.length;if(null==t)for(;++r<o;)n.add(e[r]);else for(;++r<o;)n.add(t(e[r],r,e))}return n}i.prototype=a.prototype={constructor:i,has:o.has,add:function(t){return this[e+(t+="")]=t,this},remove:o.remove,clear:o.clear,values:o.keys,size:o.size,empty:o.empty,each:o.each};var s={value:function(){}};function l(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new c(r)}function c(e){this._=e}function u(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function h(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=s,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}c.prototype=l.prototype={constructor:c,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=o[a]).type)i[n]=h(i[n],e.name,t);else if(null==t)for(n in i)i[n]=h(i[n],e.name,null);return this}for(;++a<s;)if((n=(e=o[a]).type)&&(n=u(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new c(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const f=l;function d(e,t){var n,i,o,a,s=f("beforesend","progress","load","error"),l=r(),c=new XMLHttpRequest,u=null,h=null,d=0;function p(e){var t,r=c.status;if(!r&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(c)||r>=200&&r<300||304===r){if(o)try{t=o.call(n,c)}catch(i){return void s.call("error",n,i)}else t=c;s.call("load",n,t)}else s.call("error",n,e)}if("undefined"!=typeof XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(e)&&(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=c.ontimeout=p:c.onreadystatechange=function(e){c.readyState>3&&p(e)},c.onprogress=function(e){s.call("progress",n,e)},n={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l.get(e):(null==t?l.remove(e):l.set(e,t+""),n)},mimeType:function(e){return arguments.length?(i=null==e?null:e+"",n):i},responseType:function(e){return arguments.length?(a=e,n):a},timeout:function(e){return arguments.length?(d=+e,n):d},user:function(e){return arguments.length<1?u:(u=null==e?null:e+"",n)},password:function(e){return arguments.length<1?h:(h=null==e?null:e+"",n)},response:function(e){return o=e,n},get:function(e,t){return n.send("GET",e,t)},post:function(e,t){return n.send("POST",e,t)},send:function(t,r,o){return c.open(t,e,!0,u,h),null==i||l.has("accept")||l.set("accept",i+",*/*"),c.setRequestHeader&&l.each((function(e,t){c.setRequestHeader(t,e)})),null!=i&&c.overrideMimeType&&c.overrideMimeType(i),null!=a&&(c.responseType=a),d>0&&(c.timeout=d),null==o&&"function"==typeof r&&(o=r,r=null),null!=o&&1===o.length&&(o=function(e){return function(t,n){e(null==t?n:null)}}(o)),null!=o&&n.on("error",o).on("load",(function(e){o(null,e)})),s.call("beforesend",n,c),c.send(null==r?null:r),n},abort:function(){return c.abort(),n},on:function(){var e=s.on.apply(s,arguments);return e===s?n:e}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return n.get(t)}return n}function p(e,t){return function(n,r){var i=d(n).mimeType(e).response(t);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}}p("text/html",(function(e){return document.createRange().createContextualFragment(e.responseText)})),p("application/json",(function(e){return JSON.parse(e.responseText)})),p("text/plain",(function(e){return e.responseText})),p("application/xml",(function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t}));var m={},v={};function _(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function g(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function y(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function C(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+y(-t,6):t>9999?"+"+y(t,6):y(t,4))+"-"+y(e.getUTCMonth()+1,2)+"-"+y(e.getUTCDate(),2)+(o?"T"+y(n,2)+":"+y(r,2)+":"+y(i,2)+"."+y(o,3)+"Z":i?"T"+y(n,2)+":"+y(r,2)+":"+y(i,2)+"Z":r||n?"T"+y(n,2)+":"+y(r,2)+"Z":"")}function w(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return v;if(c)return c=!1,m;var t,r,i=a;if(34===e.charCodeAt(i)){for(;a++<o&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=o?l=!0:10===(r=e.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(a)&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=e.charCodeAt(t=a++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=u())!==v;){for(var h=[];r!==m&&r!==v;)h.push(r),r=u();t&&null==(h=t(h,s++))||i.push(h)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?C(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=_(e);return function(r,i){return t(n(r),i,e)}}(e,t):_(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=g(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=g(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:a}}var x=w(","),S=x.parse;x.parseRows,x.format,x.formatBody,x.formatRows,x.formatRow,x.formatValue;function T(e,t){return function(n,r,i){arguments.length<3&&(i=r,r=null);var o=d(n).mimeType(e);return o.row=function(e){return arguments.length?o.response(function(e,t){return function(n){return e(n.responseText,t)}}(t,r=e)):r},o.row(r),i?o.get(i):o}}T("text/csv",S);var b=w("\t"),D=b.parse;b.parseRows,b.format,b.formatBody,b.formatRows,b.formatRow,b.formatValue;T("text/tab-separated-values",D)},33562:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(81180);const i=1024,o=1048576,a=1024*o;function s(e){let t,n,r;return e<1?(t=1e3*e,n="\u03bcs",r=0):e<1e3?(t=e,n="ms",r=2):(t=e/1e3,n="s",r=2),"".concat(t.toFixed(r)).concat(n)}var l=n(8700);const c={position:"fixed",zIndex:1e4,color:"#ccc",background:"#000",fontFamily:"Helvetica,Arial,sans-serif",padding:"8px",fontSize:"12px",lineSpacing:6},u={fontSize:"16px",cursor:"pointer"},h={paddingLeft:"8px"},f=e=>"".concat(e.name,": ").concat(e.count),d={count:f,averageTime:e=>"".concat(e.name,": ").concat(s(e.getAverageTime())),totalTime:e=>"".concat(e.name,": ").concat(s(e.time)),fps:e=>"".concat(e.name,": ").concat(Math.round(e.getHz()),"fps"),memory:e=>"".concat(e.name,": ").concat(function(e){let t,n,r;return e<i?(t=e,n=" bytes",r=0):e<o?(t=e/i,n="kB",r=2):e<a?(t=e/o,n="MB",r=2):(t=e/a,n="GB",r=2),"".concat(t.toFixed(r)).concat(n)}(e.count))};class p{constructor(e,t){(0,r.Z)(this,"stats",void 0),(0,r.Z)(this,"title",void 0),(0,r.Z)(this,"collapsed",!1),(0,r.Z)(this,"_framesPerUpdate",void 0),(0,r.Z)(this,"_formatters",d),(0,r.Z)(this,"_css",void 0),(0,r.Z)(this,"_headerCSS",void 0),(0,r.Z)(this,"_itemCSS",void 0),(0,r.Z)(this,"_container",document.body),(0,r.Z)(this,"_innerContainer",null),(0,r.Z)(this,"_statsContainer",null),(0,r.Z)(this,"_header",null),(0,r.Z)(this,"_resetOnUpdate",{}),(0,r.Z)(this,"_counter",0),(0,r.Z)(this,"_items",{}),(0,r.Z)(this,"_added",!1),this.stats=e,this.title=null==t?void 0:t.title,this._framesPerUpdate=Math.round(Math.max((null==t?void 0:t.framesPerUpdate)||1,1)),this._initializeFormatters(t),this._initializeUpdateConfigs(t),this._css=Object.assign({},c,null==t?void 0:t.css),this._headerCSS=Object.assign({},u,this._css.header),this._itemCSS=Object.assign({},h,this._css.item),delete this._css.header,delete this._css.item,this._createDOM(null==t?void 0:t.container),this._createDOMStats()}setStats(e){this.stats=e,this._createDOMStats(),this._setHeaderContent(),this.update()}update(){const e=this.stats&&this.stats.stats;e&&0!==Object.keys(e).length&&this._counter++%this._framesPerUpdate==0&&this._update()}remove(){this._innerContainer&&this._container.removeChild(this._innerContainer)}setCollapsed(e){this.collapsed=e,this._statsContainer&&(this._statsContainer.style.display=this.collapsed?"none":"block"),this._setHeaderContent()}_update(){this.stats.forEach((e=>{this._createDOMItem(e.name),this._items[e.name].innerHTML=this._getLines(e).join("<BR>"),this._resetOnUpdate[e.name]&&e.reset()}))}_initializeFormatters(e){if(null!=e&&e.formatters)for(const t in e.formatters){let n=e.formatters[t];"string"==typeof n&&(n=d[n]),n&&(this._formatters[t]=n)}}_initializeUpdateConfigs(e){if(null!=e&&e.resetOnUpdate)for(const t in e.resetOnUpdate)this._resetOnUpdate[t]=e.resetOnUpdate[t]||!1}_createDOM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;if("undefined"!=typeof document&&document){this._container=e,this._innerContainer=document.createElement("div");for(const e in this._css)this._innerContainer.style[e]=this._css[e];this._container.appendChild(this._innerContainer),this._createDOMHeader(),this._statsContainer=document.createElement("div"),this._statsContainer.style.display="block",this._innerContainer.appendChild(this._statsContainer)}}_createDOMHeader(){if(!this._header){var e;this._header=document.createElement("div");for(const e in this._headerCSS)this._header.style[e]=this._headerCSS[e];this._header.onclick=this._toggleCollapsed.bind(this),null===(e=this._innerContainer)||void 0===e||e.appendChild(this._header)}this._setHeaderContent()}_setHeaderContent(){if(this._header){const e=this.collapsed?"\u25b6":"\u2b07",t=this.title||this.stats&&this.stats.id||"Stats";this._header.innerText="".concat(e," ").concat(t)}}_toggleCollapsed(){this.setCollapsed(!this.collapsed)}_createDOMStats(){this.stats instanceof l.jk&&this.stats.forEach((e=>{this._createDOMItem(e.name)}))}_createDOMItem(e){if(this._statsContainer&&!this._items[e]){this._items[e]=document.createElement("div");for(const t in this._itemCSS)this._items[e].style[t]=this._itemCSS[t];this._statsContainer.appendChild(this._items[e])}}_getLines(e){const t=this._formatters[e.name]||this._formatters[e.type||""]||f;return e?t(e).split("\n"):[]}}}}]);