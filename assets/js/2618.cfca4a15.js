"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[2618],{50343:(t,e,s)=>{s.d(e,{V:()=>l});var n,r=s(42888),i=s(22482),h=s(43347),a=s(60744),o=s(38560),c=s(91220);!function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL1ROW0=3]="COL1ROW0",t[t.COL1ROW1=4]="COL1ROW1",t[t.COL1ROW2=5]="COL1ROW2",t[t.COL2ROW0=6]="COL2ROW0",t[t.COL2ROW1=7]="COL2ROW1",t[t.COL2ROW2=8]="COL2ROW2"}(n||(n={}));const u=Object.freeze([1,0,0,0,1,0,0,0,1]);class l extends r.y{static get IDENTITY(){return function(){d||(d=new l,Object.freeze(d));return d}()}static get ZERO(){return function(){m||(m=new l([0,0,0,0,0,0,0,0,0]),Object.freeze(m));return m}()}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return n}constructor(t,...e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):e.length>0?this.copy([t,...e]):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this.check()}identity(){return this.copy(u)}fromObject(t){return this.check()}fromQuaternion(t){return(0,a.en)(this,t),this.check()}set(t,e,s,n,r,i,h,a,o){return this[0]=t,this[1]=e,this[2]=s,this[3]=n,this[4]=r,this[5]=i,this[6]=h,this[7]=a,this[8]=o,this.check()}setRowMajor(t,e,s,n,r,i,h,a,o){return this[0]=t,this[1]=n,this[2]=h,this[3]=e,this[4]=r,this[5]=a,this[6]=s,this[7]=i,this[8]=o,this.check()}determinant(){return(0,a.GH)(this)}transpose(){return(0,a.p4)(this,this),this.check()}invert(){return(0,a.U_)(this,this),this.check()}multiplyLeft(t){return(0,a.Jp)(this,t,this),this.check()}multiplyRight(t){return(0,a.Jp)(this,this,t),this.check()}rotate(t){return(0,a.U1)(this,this,t),this.check()}scale(t){return Array.isArray(t)?(0,a.bA)(this,this,t):(0,a.bA)(this,this,[t,t]),this.check()}translate(t){return(0,a.Iu)(this,this,t),this.check()}transform(t,e){let s;switch(t.length){case 2:s=(0,o.kK)(e||[-0,-0],t,this);break;case 3:s=(0,c.kK)(e||[-0,-0,-0],t,this);break;case 4:s=(0,h._x)(e||[-0,-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return(0,i.IL)(s,t.length),s}transformVector(t,e){return this.transform(t,e)}transformVector2(t,e){return this.transform(t,e)}transformVector3(t,e){return this.transform(t,e)}}let m,d=null},85105:(t,e,s)=>{s.d(e,{_:()=>E});var n=s(61818),r=s(22482),i=s(91220),h=s(43347),a=s(99955),o=s(52025);let c;class u extends a.O{static get ZERO(){return c||(c=new u(0,0,0,0),Object.freeze(c)),c}constructor(t=0,e=0,s=0,n=0){super(-0,-0,-0,-0),(0,o.kJ)(t)&&1===arguments.length?this.copy(t):(o.vc.debug&&((0,r.u5)(t),(0,r.u5)(e),(0,r.u5)(s),(0,r.u5)(n)),this[0]=t,this[1]=e,this[2]=s,this[3]=n)}set(t,e,s,n){return this[0]=t,this[1]=e,this[2]=s,this[3]=n,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}fromObject(t){return o.vc.debug&&((0,r.u5)(t.x),(0,r.u5)(t.y),(0,r.u5)(t.z),(0,r.u5)(t.w)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this[3]=t.w,this}toObject(t){return t.x=this[0],t.y=this[1],t.z=this[2],t.w=this[3],t}get ELEMENTS(){return 4}get z(){return this[2]}set z(t){this[2]=(0,r.u5)(t)}get w(){return this[3]}set w(t){this[3]=(0,r.u5)(t)}transform(t){return(0,i.fF)(this,this,t),this.check()}transformByMatrix3(t){return(0,h._x)(this,this,t),this.check()}transformByMatrix2(t){return(0,h.G7)(this,this,t),this.check()}transformByQuaternion(t){return(0,i.VC)(this,this,t),this.check()}applyMatrix4(t){return t.transform(this,this),this}}var l=s(71465),m=s(60744),d=s(18691);function f(){const t=new l.WT(4);return l.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function w(t,e,s){s*=.5;const n=Math.sin(s);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(s),t}function y(t,e,s){const n=e[0],r=e[1],i=e[2],h=e[3],a=s[0],o=s[1],c=s[2],u=s[3];return t[0]=n*u+h*a+r*c-i*o,t[1]=r*u+h*o+i*a-n*c,t[2]=i*u+h*c+n*o-r*a,t[3]=h*u-n*a-r*o-i*c,t}function g(t,e,s,n){const r=e[0],i=e[1],h=e[2],a=e[3];let o,c,u,m,d,f=s[0],w=s[1],y=s[2],g=s[3];return o=r*f+i*w+h*y+a*g,o<0&&(o=-o,f=-f,w=-w,y=-y,g=-g),1-o>l.Ib?(c=Math.acos(o),d=Math.sin(c),u=Math.sin((1-n)*c)/d,m=Math.sin(n*c)/d):(u=1-n,m=n),t[0]=u*r+m*f,t[1]=u*i+m*w,t[2]=u*h+m*y,t[3]=u*a+m*g,t}function p(t,e){const s=e[0]+e[4]+e[8];let n;if(s>0)n=Math.sqrt(s+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{let s=0;e[4]>e[0]&&(s=1),e[8]>e[3*s+s]&&(s=2);const r=(s+1)%3,i=(s+2)%3;n=Math.sqrt(e[3*s+s]-e[3*r+r]-e[3*i+i]+1),t[s]=.5*n,n=.5/n,t[3]=(e[3*r+i]-e[3*i+r])*n,t[r]=(e[3*r+s]+e[3*s+r])*n,t[i]=(e[3*i+s]+e[3*s+i])*n}return t}d.d9,d.al,d.JG,d.t8;const M=d.IH,x=d.bA,P=d.AK,b=d.t7,A=d.kE,k=d.we,C=d.Fv;d.I6;const O=function(){const t=i.Ue(),e=i.al(1,0,0),s=i.al(0,1,0);return function(n,r,h){const a=i.AK(r,h);return a<-.999999?(i.kC(t,e,r),i.Zh(t)<1e-6&&i.kC(t,s,r),i.Fv(t,t),w(n,t,Math.PI),n):a>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(i.kC(t,r,h),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+a,C(n,n))}}(),I=(function(){const t=f(),e=f()}(),function(){const t=m.Ue()}(),[0,0,0,1]);class E extends n.Z{constructor(t=0,e=0,s=0,n=1){super(-0,-0,-0,-0),Array.isArray(t)&&1===arguments.length?this.copy(t):this.set(t,e,s,n)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}set(t,e,s,n){return this[0]=t,this[1]=e,this[2]=s,this[3]=n,this.check()}fromObject(t){return this[0]=t.x,this[1]=t.y,this[2]=t.z,this[3]=t.w,this.check()}fromMatrix3(t){return p(this,t),this.check()}fromAxisRotation(t,e){return w(this,t,e),this.check()}identity(){var t;return(t=this)[0]=0,t[1]=0,t[2]=0,t[3]=1,this.check()}setAxisAngle(t,e){return this.fromAxisRotation(t,e)}get ELEMENTS(){return 4}get x(){return this[0]}set x(t){this[0]=(0,r.u5)(t)}get y(){return this[1]}set y(t){this[1]=(0,r.u5)(t)}get z(){return this[2]}set z(t){this[2]=(0,r.u5)(t)}get w(){return this[3]}set w(t){this[3]=(0,r.u5)(t)}len(){return A(this)}lengthSquared(){return k(this)}dot(t){return P(this,t)}rotationTo(t,e){return O(this,t,e),this.check()}add(t){return M(this,this,t),this.check()}calculateW(){return function(t,e){const s=e[0],n=e[1],r=e[2];t[0]=s,t[1]=n,t[2]=r,t[3]=Math.sqrt(Math.abs(1-s*s-n*n-r*r))}(this,this),this.check()}conjugate(){var t,e;return e=this,(t=this)[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],this.check()}invert(){return function(t,e){const s=e[0],n=e[1],r=e[2],i=e[3],h=s*s+n*n+r*r+i*i,a=h?1/h:0;t[0]=-s*a,t[1]=-n*a,t[2]=-r*a,t[3]=i*a}(this,this),this.check()}lerp(t,e,s){return void 0===s?this.lerp(this,t,e):(b(this,t,e,s),this.check())}multiplyRight(t){return y(this,this,t),this.check()}multiplyLeft(t){return y(this,t,this),this.check()}normalize(){const t=this.len(),e=t>0?1/t:0;return this[0]=this[0]*e,this[1]=this[1]*e,this[2]=this[2]*e,this[3]=this[3]*e,0===t&&(this[3]=1),this.check()}rotateX(t){return function(t,e,s){s*=.5;const n=e[0],r=e[1],i=e[2],h=e[3],a=Math.sin(s),o=Math.cos(s);t[0]=n*o+h*a,t[1]=r*o+i*a,t[2]=i*o-r*a,t[3]=h*o-n*a}(this,this,t),this.check()}rotateY(t){return function(t,e,s){s*=.5;const n=e[0],r=e[1],i=e[2],h=e[3],a=Math.sin(s),o=Math.cos(s);t[0]=n*o-i*a,t[1]=r*o+h*a,t[2]=i*o+n*a,t[3]=h*o-r*a}(this,this,t),this.check()}rotateZ(t){return function(t,e,s){s*=.5;const n=e[0],r=e[1],i=e[2],h=e[3],a=Math.sin(s),o=Math.cos(s);t[0]=n*o+r*a,t[1]=r*o-n*a,t[2]=i*o+h*a,t[3]=h*o-i*a}(this,this,t),this.check()}scale(t){return x(this,this,t),this.check()}slerp(t,e,s){let n,r,i;switch(arguments.length){case 1:({start:n=I,target:r,ratio:i}=t);break;case 2:n=this,r=t,i=e;break;default:n=t,r=e,i=s}return g(this,n,r,i),this.check()}transformVector4(t,e=new u){return(0,d.VC)(e,t,this),(0,r.IL)(e,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(t,e){return this.setAxisAngle(t,e)}premultiply(t){return this.multiplyLeft(t)}multiply(t){return this.multiplyRight(t)}}},60744:(t,e,s)=>{s.d(e,{GH:()=>a,Iu:()=>c,Jp:()=>o,U1:()=>u,U_:()=>h,Ue:()=>r,bA:()=>l,en:()=>m,p4:()=>i});var n=s(71465);function r(){const t=new n.WT(9);return n.WT!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function i(t,e){if(t===e){const s=e[1],n=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=s,t[5]=e[7],t[6]=n,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function h(t,e){const s=e[0],n=e[1],r=e[2],i=e[3],h=e[4],a=e[5],o=e[6],c=e[7],u=e[8],l=u*h-a*c,m=-u*i+a*o,d=c*i-h*o;let f=s*l+n*m+r*d;return f?(f=1/f,t[0]=l*f,t[1]=(-u*n+r*c)*f,t[2]=(a*n-r*h)*f,t[3]=m*f,t[4]=(u*s-r*o)*f,t[5]=(-a*s+r*i)*f,t[6]=d*f,t[7]=(-c*s+n*o)*f,t[8]=(h*s-n*i)*f,t):null}function a(t){const e=t[0],s=t[1],n=t[2],r=t[3],i=t[4],h=t[5],a=t[6],o=t[7],c=t[8];return e*(c*i-h*o)+s*(-c*r+h*a)+n*(o*r-i*a)}function o(t,e,s){const n=e[0],r=e[1],i=e[2],h=e[3],a=e[4],o=e[5],c=e[6],u=e[7],l=e[8],m=s[0],d=s[1],f=s[2],w=s[3],y=s[4],g=s[5],p=s[6],M=s[7],x=s[8];return t[0]=m*n+d*h+f*c,t[1]=m*r+d*a+f*u,t[2]=m*i+d*o+f*l,t[3]=w*n+y*h+g*c,t[4]=w*r+y*a+g*u,t[5]=w*i+y*o+g*l,t[6]=p*n+M*h+x*c,t[7]=p*r+M*a+x*u,t[8]=p*i+M*o+x*l,t}function c(t,e,s){const n=e[0],r=e[1],i=e[2],h=e[3],a=e[4],o=e[5],c=e[6],u=e[7],l=e[8],m=s[0],d=s[1];return t[0]=n,t[1]=r,t[2]=i,t[3]=h,t[4]=a,t[5]=o,t[6]=m*n+d*h+c,t[7]=m*r+d*a+u,t[8]=m*i+d*o+l,t}function u(t,e,s){const n=e[0],r=e[1],i=e[2],h=e[3],a=e[4],o=e[5],c=e[6],u=e[7],l=e[8],m=Math.sin(s),d=Math.cos(s);return t[0]=d*n+m*h,t[1]=d*r+m*a,t[2]=d*i+m*o,t[3]=d*h-m*n,t[4]=d*a-m*r,t[5]=d*o-m*i,t[6]=c,t[7]=u,t[8]=l,t}function l(t,e,s){const n=s[0],r=s[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function m(t,e){const s=e[0],n=e[1],r=e[2],i=e[3],h=s+s,a=n+n,o=r+r,c=s*h,u=n*h,l=n*a,m=r*h,d=r*a,f=r*o,w=i*h,y=i*a,g=i*o;return t[0]=1-l-f,t[3]=u-g,t[6]=m+y,t[1]=u+g,t[4]=1-c-f,t[7]=d-w,t[2]=m-y,t[5]=d+w,t[8]=1-c-l,t}},12813:(t,e,s)=>{s.d(e,{Bs:()=>n,H2:()=>i,KC:()=>r,VF:()=>h});const n=.1,r=1e-12,i=1e-15,h=1e-20;Math.PI,Math.PI,Math.PI,Math.PI},82618:(t,e,s)=>{s.d(e,{Xx:()=>u,KM:()=>f,Mh:()=>U,F7:()=>N,JO:()=>W,du:()=>at});const n=-1,r=0,i=1;var h=s(81180),a=s(68821);const o=new a.P,c=new a.P;class u{constructor(t=[0,0,0],e=[0,0,0],s){(0,h.Z)(this,"center",void 0),(0,h.Z)(this,"halfDiagonal",void 0),(0,h.Z)(this,"minimum",void 0),(0,h.Z)(this,"maximum",void 0),s=s||o.copy(t).add(e).scale(.5),this.center=new a.P(s),this.halfDiagonal=new a.P(e).subtract(this.center),this.minimum=new a.P(t),this.maximum=new a.P(e)}clone(){return new u(this.minimum,this.maximum,this.center)}equals(t){return this===t||Boolean(t)&&this.minimum.equals(t.minimum)&&this.maximum.equals(t.maximum)}transform(t){return this.center.transformAsPoint(t),this.halfDiagonal.transform(t),this.minimum.transform(t),this.maximum.transform(t),this}intersectPlane(t){const{halfDiagonal:e}=this,s=c.from(t.normal),h=e.x*Math.abs(s.x)+e.y*Math.abs(s.y)+e.z*Math.abs(s.z),a=this.center.dot(s)+t.distance;return a-h>0?i:a+h<0?n:r}distanceTo(t){return Math.sqrt(this.distanceSquaredTo(t))}distanceSquaredTo(t){const e=o.from(t).subtract(this.center),{halfDiagonal:s}=this;let n,r=0;return n=Math.abs(e.x)-s.x,n>0&&(r+=n*n),n=Math.abs(e.y)-s.y,n>0&&(r+=n*n),n=Math.abs(e.z)-s.z,n>0&&(r+=n*n),r}}var l=s(92377);const m=new a.P,d=new a.P;class f{constructor(t=[0,0,0],e=0){(0,h.Z)(this,"center",void 0),(0,h.Z)(this,"radius",void 0),this.radius=-0,this.center=new a.P,this.fromCenterRadius(t,e)}fromCenterRadius(t,e){return this.center.from(t),this.radius=e,this}fromCornerPoints(t,e){return e=m.from(e),this.center=(new a.P).from(t).add(e).scale(.5),this.radius=this.center.distance(e),this}equals(t){return this===t||Boolean(t)&&this.center.equals(t.center)&&this.radius===t.radius}clone(){return new f(this.center,this.radius)}union(t){const e=this.center,s=this.radius,n=t.center,r=t.radius,i=m.copy(n).subtract(e),h=i.magnitude();if(s>=h+r)return this.clone();if(r>=h+s)return t.clone();const a=.5*(s+h+r);return d.copy(i).scale((-s+a)/h).add(e),this.center.copy(d),this.radius=a,this}expand(t){const e=m.from(t).subtract(this.center).magnitude();return e>this.radius&&(this.radius=e),this}transform(t){this.center.transform(t);const e=l.Q$(m,t);return this.radius=Math.max(e[0],Math.max(e[1],e[2]))*this.radius,this}distanceSquaredTo(t){const e=this.distanceTo(t);return e*e}distanceTo(t){const e=m.from(t).subtract(this.center);return Math.max(0,e.len()-this.radius)}intersectPlane(t){const e=this.center,s=this.radius,h=t.normal.dot(e)+t.distance;return h<-s?n:h<s?r:i}}var w=s(50343),y=s(85105);const g=new a.P,p=new a.P,M=new a.P,x=new a.P,P=new a.P,b=new a.P,A=new a.P,k=0,C=1,O=2,I=3,E=4,S=5,V=6,z=7,L=8;class N{constructor(t=[0,0,0],e=[0,0,0,0,0,0,0,0,0]){(0,h.Z)(this,"center",void 0),(0,h.Z)(this,"halfAxes",void 0),this.center=(new a.P).from(t),this.halfAxes=new w.V(e)}get halfSize(){const t=this.halfAxes.getColumn(0),e=this.halfAxes.getColumn(1),s=this.halfAxes.getColumn(2);return[new a.P(t).len(),new a.P(e).len(),new a.P(s).len()]}get quaternion(){const t=this.halfAxes.getColumn(0),e=this.halfAxes.getColumn(1),s=this.halfAxes.getColumn(2),n=new a.P(t).normalize(),r=new a.P(e).normalize(),i=new a.P(s).normalize();return(new y._).fromMatrix3(new w.V([...n,...r,...i]))}fromCenterHalfSizeQuaternion(t,e,s){const n=new y._(s),r=(new w.V).fromQuaternion(n);return r[0]=r[0]*e[0],r[1]=r[1]*e[0],r[2]=r[2]*e[0],r[3]=r[3]*e[1],r[4]=r[4]*e[1],r[5]=r[5]*e[1],r[6]=r[6]*e[2],r[7]=r[7]*e[2],r[8]=r[8]*e[2],this.center=(new a.P).from(t),this.halfAxes=r,this}clone(){return new N(this.center,this.halfAxes)}equals(t){return this===t||Boolean(t)&&this.center.equals(t.center)&&this.halfAxes.equals(t.halfAxes)}getBoundingSphere(t=new f){const e=this.halfAxes,s=e.getColumn(0,M),n=e.getColumn(1,x),r=e.getColumn(2,P),i=g.copy(s).add(n).add(r);return t.center.copy(this.center),t.radius=i.magnitude(),t}intersectPlane(t){const e=this.center,s=t.normal,h=this.halfAxes,a=s.x,o=s.y,c=s.z,u=Math.abs(a*h[k]+o*h[C]+c*h[O])+Math.abs(a*h[I]+o*h[E]+c*h[S])+Math.abs(a*h[V]+o*h[z]+c*h[L]),l=s.dot(e)+t.distance;return l<=-u?n:l>=u?i:r}distanceTo(t){return Math.sqrt(this.distanceSquaredTo(t))}distanceSquaredTo(t){const e=p.from(t).subtract(this.center),s=this.halfAxes,n=s.getColumn(0,M),r=s.getColumn(1,x),i=s.getColumn(2,P),h=n.magnitude(),a=r.magnitude(),o=i.magnitude();n.normalize(),r.normalize(),i.normalize();let c,u=0;return c=Math.abs(e.dot(n))-h,c>0&&(u+=c*c),c=Math.abs(e.dot(r))-a,c>0&&(u+=c*c),c=Math.abs(e.dot(i))-o,c>0&&(u+=c*c),u}computePlaneDistances(t,e,s=[-0,-0]){let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;const i=this.center,h=this.halfAxes,a=h.getColumn(0,M),o=h.getColumn(1,x),c=h.getColumn(2,P),u=b.copy(a).add(o).add(c).add(i),l=A.copy(u).subtract(t);let m=e.dot(l);return n=Math.min(m,n),r=Math.max(m,r),u.copy(i).add(a).add(o).subtract(c),l.copy(u).subtract(t),m=e.dot(l),n=Math.min(m,n),r=Math.max(m,r),u.copy(i).add(a).subtract(o).add(c),l.copy(u).subtract(t),m=e.dot(l),n=Math.min(m,n),r=Math.max(m,r),u.copy(i).add(a).subtract(o).subtract(c),l.copy(u).subtract(t),m=e.dot(l),n=Math.min(m,n),r=Math.max(m,r),i.copy(u).subtract(a).add(o).add(c),l.copy(u).subtract(t),m=e.dot(l),n=Math.min(m,n),r=Math.max(m,r),i.copy(u).subtract(a).add(o).subtract(c),l.copy(u).subtract(t),m=e.dot(l),n=Math.min(m,n),r=Math.max(m,r),i.copy(u).subtract(a).subtract(o).add(c),l.copy(u).subtract(t),m=e.dot(l),n=Math.min(m,n),r=Math.max(m,r),i.copy(u).subtract(a).subtract(o).subtract(c),l.copy(u).subtract(t),m=e.dot(l),n=Math.min(m,n),r=Math.max(m,r),s[0]=n,s[1]=r,s}transform(t){this.center.transformAsPoint(t);const e=this.halfAxes.getColumn(0,M);e.transformAsPoint(t);const s=this.halfAxes.getColumn(1,x);s.transformAsPoint(t);const n=this.halfAxes.getColumn(2,P);return n.transformAsPoint(t),this.halfAxes=new w.V([...e,...s,...n]),this}getTransform(){throw new Error("not implemented")}}var R=s(79951),T=s(52025);const v=new a.P,q=new a.P;class W{constructor(t=[0,0,1],e=0){(0,h.Z)(this,"normal",void 0),(0,h.Z)(this,"distance",void 0),this.normal=new a.P,this.distance=-0,this.fromNormalDistance(t,e)}fromNormalDistance(t,e){return(0,R.h)(Number.isFinite(e)),this.normal.from(t).normalize(),this.distance=e,this}fromPointNormal(t,e){t=v.from(t),this.normal.from(e).normalize();const s=-this.normal.dot(t);return this.distance=s,this}fromCoefficients(t,e,s,n){return this.normal.set(t,e,s),(0,R.h)((0,T.fS)(this.normal.len(),1)),this.distance=n,this}clone(){return new W(this.normal,this.distance)}equals(t){return(0,T.fS)(this.distance,t.distance)&&(0,T.fS)(this.normal,t.normal)}getPointDistance(t){return this.normal.dot(t)+this.distance}transform(t){const e=q.copy(this.normal).transformAsVector(t).normalize(),s=this.normal.scale(-this.distance).transform(t);return this.fromPointNormal(s,e)}projectPointOntoPlane(t,e=[0,0,0]){const s=v.from(t),n=this.getPointDistance(s),r=q.copy(this.normal).scale(n);return s.subtract(r).to(e)}}const _=[new a.P([1,0,0]),new a.P([0,1,0]),new a.P([0,0,1])],D=new a.P,Z=new a.P;class U{constructor(t=[]){(0,h.Z)(this,"planes",void 0),this.planes=t}fromBoundingSphere(t){this.planes.length=2*_.length;const e=t.center,s=t.radius;let n=0;for(const r of _){let t=this.planes[n],i=this.planes[n+1];t||(t=this.planes[n]=new W),i||(i=this.planes[n+1]=new W);const h=D.copy(r).scale(-s).add(e);t.fromPointNormal(h,r);const a=D.copy(r).scale(s).add(e),o=Z.copy(r).negate();i.fromPointNormal(a,o),n+=2}return this}computeVisibility(t){let e=i;for(const s of this.planes){switch(t.intersectPlane(s)){case n:return n;case r:e=r}}return e}computeVisibilityWithPlaneMask(t,e){if((0,R.h)(Number.isFinite(e),"parentPlaneMask is required."),e===U.MASK_OUTSIDE||e===U.MASK_INSIDE)return e;let s=U.MASK_INSIDE;const i=this.planes;for(let h=0;h<this.planes.length;++h){const a=h<31?1<<h:0;if(h<31&&0==(e&a))continue;const o=i[h],c=t.intersectPlane(o);if(c===n)return U.MASK_OUTSIDE;c===r&&(s|=a)}return s}}(0,h.Z)(U,"MASK_OUTSIDE",4294967295),(0,h.Z)(U,"MASK_INSIDE",0),(0,h.Z)(U,"MASK_INDETERMINATE",2147483647);new a.P,new a.P,new a.P,new a.P,new a.P;new a.P,new a.P,new a.P,new a.P,new a.P,new a.P,new a.P,new a.P,new a.P,new a.P,new a.P,new a.P;var B=s(12813);const K=new w.V,j=new w.V,F=new w.V,X=new w.V,H=new w.V;function J(t,e={}){const s=B.VF;let n=0,r=0;const i=j,h=F;i.identity(),h.copy(t);const a=s*function(t){let e=0;for(let s=0;s<9;++s){const n=t[s];e+=n*n}return Math.sqrt(e)}(h);for(;r<10&&Y(h)>a;)$(h,X),H.copy(X).transpose(),h.multiplyRight(X),h.multiplyLeft(H),i.multiplyRight(X),++n>2&&(++r,n=0);return e.unitary=i.toTarget(e.unitary),e.diagonal=h.toTarget(e.diagonal),e}const G=[1,0,0],Q=[2,2,1];function Y(t){let e=0;for(let s=0;s<3;++s){const n=t[K.getElementIndex(Q[s],G[s])];e+=2*n*n}return Math.sqrt(e)}function $(t,e){const s=B.H2;let n=0,r=1;for(let c=0;c<3;++c){const e=Math.abs(t[K.getElementIndex(Q[c],G[c])]);e>n&&(r=c,n=e)}const i=G[r],h=Q[r];let a=1,o=0;if(Math.abs(t[K.getElementIndex(h,i)])>s){const e=(t[K.getElementIndex(h,h)]-t[K.getElementIndex(i,i)])/2/t[K.getElementIndex(h,i)];let s;s=e<0?-1/(-e+Math.sqrt(1+e*e)):1/(e+Math.sqrt(1+e*e)),a=1/Math.sqrt(1+s*s),o=s*a}return w.V.IDENTITY.to(e),e[K.getElementIndex(i,i)]=e[K.getElementIndex(h,h)]=a,e[K.getElementIndex(h,i)]=o,e[K.getElementIndex(i,h)]=-o,e}const tt=new a.P,et=new a.P,st=new a.P,nt=new a.P,rt=new a.P,it=new w.V,ht={diagonal:new w.V,unitary:new w.V};function at(t,e=new N){if(!t||0===t.length)return e.halfAxes=new w.V([0,0,0,0,0,0,0,0,0]),e.center=new a.P,e;const s=t.length,n=new a.P(0,0,0);for(const a of t)n.add(a);const r=1/s;n.multiplyByScalar(r);let i=0,h=0,o=0,c=0,u=0,l=0;for(const a of t){const t=tt.copy(a).subtract(n);i+=t.x*t.x,h+=t.x*t.y,o+=t.x*t.z,c+=t.y*t.y,u+=t.y*t.z,l+=t.z*t.z}i*=r,h*=r,o*=r,c*=r,u*=r,l*=r;const m=it;m[0]=i,m[1]=h,m[2]=o,m[3]=h,m[4]=c,m[5]=u,m[6]=o,m[7]=u,m[8]=l;const{unitary:d}=J(m,ht),f=e.halfAxes.copy(d);let y=f.getColumn(0,st),g=f.getColumn(1,nt),p=f.getColumn(2,rt),M=-Number.MAX_VALUE,x=-Number.MAX_VALUE,P=-Number.MAX_VALUE,b=Number.MAX_VALUE,A=Number.MAX_VALUE,k=Number.MAX_VALUE;for(const a of t)tt.copy(a),M=Math.max(tt.dot(y),M),x=Math.max(tt.dot(g),x),P=Math.max(tt.dot(p),P),b=Math.min(tt.dot(y),b),A=Math.min(tt.dot(g),A),k=Math.min(tt.dot(p),k);y=y.multiplyByScalar(.5*(b+M)),g=g.multiplyByScalar(.5*(A+x)),p=p.multiplyByScalar(.5*(k+P)),e.center.copy(y).add(g).add(p);const C=et.set(M-b,x-A,P-k).multiplyByScalar(.5),O=new w.V([C[0],0,0,0,C[1],0,0,0,C[2]]);return e.halfAxes.multiplyRight(O),e}}}]);