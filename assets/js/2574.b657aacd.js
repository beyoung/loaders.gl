/*! For license information please see 2574.b657aacd.js.LICENSE.txt */
(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[2574],{81547:(t,e,n)=>{"use strict";n.d(e,{Z:()=>A});var i=n(81180),s=n(53982),o=n(78918),r=n(80744),a=n(24088),c=n(33648),l=n(27458),h=n(93844),u=n(59965),d=n(1418),m=n(49764),p=n(44522),g=n(66610),f=n(91098);async function v(t){const e=[];return t.scenes.forEach((t=>{t.traverse((t=>{Object.values(t.model.getUniforms()).forEach((t=>{!1===t.loaded&&e.push(t)}))}))})),await async function(t){for(;t();)await new Promise((t=>requestAnimationFrame(t)))}((()=>e.some((t=>!t.loaded))))}var y=n(17805);const _=[255,255,255,255],S={scenegraph:{type:"object",value:null,async:!0},getScene:t=>t&&t.scenes?"object"==typeof t.scene?t.scene:t.scenes[t.scene||0]:t,getAnimator:t=>t&&t.animator,_animations:null,sizeScale:{type:"number",value:1,min:0},sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},getPosition:{type:"accessor",value:t=>t.position},getColor:{type:"accessor",value:_},_lighting:"flat",_imageBasedLightingEnvironment:null,getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},loaders:[f.E]};class w extends l.Z{constructor(...t){super(...t),(0,i.Z)(this,"state",void 0)}getShaders(){const t=[h.Z,u.Z];return"pbr"===this.props._lighting&&t.push(m.b),super.getShaders({vs:"#version 300 es\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform mat4 sceneModelMatrix;\nuniform bool composeModelMatrix;\nin vec4 POSITION;\n\n#ifdef HAS_UV\n  in vec2 TEXCOORD_0;\n#endif\n\n#ifdef MODULE_PBR\n  #ifdef HAS_NORMALS\n    in vec4 NORMAL;\n  #endif\n#endif\nout vec4 vColor;\n#ifndef MODULE_PBR\n  #ifdef HAS_UV\n    out vec2 vTEXCOORD_0;\n  #endif\n#endif\nvoid main(void) {\n  #if defined(HAS_UV) && !defined(MODULE_PBR)\n    vTEXCOORD_0 = TEXCOORD_0;\n    geometry.uv = vTEXCOORD_0;\n  #endif\n\n  geometry.worldPosition = instancePositions;\n  geometry.pickingColor = instancePickingColors;\n\n  vec3 normal = vec3(0.0, 0.0, 1.0);\n  #ifdef MODULE_PBR\n    #ifdef HAS_NORMALS\n      normal = instanceModelMatrix * (sceneModelMatrix * vec4(NORMAL.xyz, 0.0)).xyz;\n    #endif\n  #endif\n\n  float originalSize = project_size_to_pixel(sizeScale);\n  float clampedSize = clamp(originalSize, sizeMinPixels, sizeMaxPixels);\n\n  vec3 pos = (instanceModelMatrix * (sceneModelMatrix * POSITION).xyz) * sizeScale * (clampedSize / originalSize) + instanceTranslation;\n  if(composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    geometry.normal = project_normal(normal);\n    geometry.worldPosition += pos;\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, geometry.position);\n    geometry.normal = project_normal(normal);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  #ifdef MODULE_PBR\n    pbr_vPosition = geometry.position.xyz;\n    #ifdef HAS_NORMALS\n      pbr_vNormal = geometry.normal;\n    #endif\n\n    #ifdef HAS_UV\n      pbr_vUV = TEXCOORD_0;\n    #else\n      pbr_vUV = vec2(0., 0.);\n    #endif\n    geometry.uv = pbr_vUV;\n  #endif\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\nuniform float opacity;\nin vec4 vColor;\n\nout vec4 fragmentColor;\n#ifndef MODULE_PBR\n  #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n    in vec2 vTEXCOORD_0;\n    uniform sampler2D u_BaseColorSampler;\n  #endif\n#endif\n\nvoid main(void) {\n  #ifdef MODULE_PBR\n    fragmentColor = vColor * pbr_filterColor(vec4(0));\n    geometry.uv = pbr_vUV;\n  #else\n    #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n      fragmentColor = vColor * texture2D(u_BaseColorSampler, vTEXCOORD_0);\n      geometry.uv = vTEXCOORD_0;\n    #else\n      fragmentColor = vColor;\n    #endif\n  #endif\n\n  fragmentColor.a *= opacity;\n  DECKGL_FILTER_COLOR(fragmentColor, geometry);\n}\n",modules:t})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),accessor:"getPosition",transition:!0},instanceColors:{type:5121,size:this.props.colorFormat.length,accessor:"getColor",normalized:!0,defaultValue:_,transition:!0},instanceModelMatrix:y.P})}updateState(t){super.updateState(t);const{props:e,oldProps:n}=t;e.scenegraph!==n.scenegraph?this._updateScenegraph():e._animations!==n._animations&&this._applyAnimationsProp(this.state.scenegraph,this.state.animator,e._animations)}finalizeState(t){super.finalizeState(t),this._deleteScenegraph()}_updateScenegraph(){const t=this.props,{gl:e}=this.context;let n=null;if(t.scenegraph instanceof p.Z)n={scenes:[t.scenegraph]};else if(t.scenegraph&&!t.scenegraph.gltf){const i=t.scenegraph,s=(0,g.Z)(e,i,this._getModelOptions());n={gltf:i,...s},v(s).then((()=>this.setNeedsRedraw()))}else t.scenegraph&&(r.Z.deprecated("ScenegraphLayer.props.scenegraph","Use GLTFLoader instead of GLTFScenegraphLoader")(),n=t.scenegraph);const i={layer:this,gl:e},s=t.getScene(n,i),o=t.getAnimator(n,i);s instanceof p.Z?(this._deleteScenegraph(),this._applyAllAttributes(s),this._applyAnimationsProp(s,o,t._animations),this.setState({scenegraph:s,animator:o})):null!==s&&r.Z.warn("invalid scenegraph:",s)()}_applyAllAttributes(t){if(this.state.attributesAvailable){const e=this.getAttributeManager().getAttributes();t.traverse((t=>{this._setModelAttributes(t.model,e)}))}}_applyAnimationsProp(t,e,n){if(!t||!e||!n)return;const i=e.getAnimations();Object.keys(n).sort().forEach((t=>{const e=n[t];if("*"===t)i.forEach((t=>{Object.assign(t,e)}));else if(Number.isFinite(Number(t))){const n=Number(t);n>=0&&n<i.length?Object.assign(i[n],e):r.Z.warn("animation ".concat(t," not found"))()}else{const n=i.find((({name:e})=>e===t));n?Object.assign(n,e):r.Z.warn("animation ".concat(t," not found"))()}}))}_deleteScenegraph(){const{scenegraph:t}=this.state;t instanceof p.Z&&t.delete()}_getModelOptions(){const{_imageBasedLightingEnvironment:t}=this.props;let e=null;return t&&(e="function"==typeof t?t({gl:this.context.gl,layer:this}):t),{gl:this.context.gl,waitForFullLoad:!0,imageBasedLightingEnvironment:e,modelOptions:{isInstanced:!0,transpileToGLSL100:!(0,d.D0)(this.context.gl),...this.getShaders()},useTangents:!1}}updateAttributes(t){this.setState({attributesAvailable:!0}),this.state.scenegraph&&this.state.scenegraph.traverse((e=>{this._setModelAttributes(e.model,t)}))}draw({moduleParameters:t=null,parameters:e={},context:n}){if(!this.state.scenegraph)return;this.props._animations&&this.state.animator&&(this.state.animator.animate(n.timeline.getTime()),this.setNeedsRedraw());const{viewport:i}=this.context,{sizeScale:s,sizeMinPixels:o,sizeMaxPixels:r,opacity:a,coordinateSystem:c}=this.props,l=this.getNumInstances();this.state.scenegraph.traverse(((n,{worldMatrix:h})=>{n.model.setInstanceCount(l),n.updateModuleSettings(t),n.draw({parameters:e,uniforms:{sizeScale:s,opacity:a,sizeMinPixels:o,sizeMaxPixels:r,composeModelMatrix:(0,y.X)(i,c),sceneModelMatrix:h,u_Camera:n.model.getUniforms().project_uCameraPosition}})}))}}(0,i.Z)(w,"defaultProps",S),(0,i.Z)(w,"layerName","ScenegraphLayer");var M=n(61307),x=n(15462),C=n(65217);class b extends C.Z{getShaders(){const t=super.getShaders();return t.modules.push(m.b),{...t,vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\nuniform float sizeScale;\nuniform bool composeModelMatrix;\nuniform bool pickFeatureIds;\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\nin vec4 uvRegions;\nin vec3 featureIdsPickingColors;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvec2 applyUVRegion(vec2 uv) {\n  #ifdef HAS_UV_REGIONS\n    return fract(uv) * (uvRegions.zw - uvRegions.xy) + uvRegions.xy;\n  #else\n    return uv;\n  #endif\n}\n\nvoid main(void) {\n  vec2 uv = applyUVRegion(texCoords);\n  geometry.uv = uv;\n\n  if (pickFeatureIds) {\n    geometry.pickingColor = featureIdsPickingColors;\n  } else {\n    geometry.pickingColor = instancePickingColors;\n  }\n\n  vTexCoord = uv;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale;\n  vec3 projectedPosition = project_position(positions);\n  position_commonspace = vec4(projectedPosition, 1.0);\n  gl_Position = project_common_position_to_clipspace(position_commonspace);\n\n  geometry.position = position_commonspace;\n  normals_commonspace = project_normal(instanceModelMatrix * normals);\n  geometry.normal = normals_commonspace;\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  #ifdef MODULE_PBR\n    pbr_vPosition = geometry.position.xyz;\n    #ifdef HAS_NORMALS\n      pbr_vNormal = geometry.normal;\n    #endif\n\n    #ifdef HAS_UV\n      pbr_vUV = uv;\n    #else\n      pbr_vUV = vec2(0., 0.);\n    #endif\n    geometry.uv = pbr_vUV;\n  #endif\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  \n#ifdef MODULE_PBR\n\n  fragColor = vColor * pbr_filterColor(vec4(0));\n  geometry.uv = pbr_vUV;\n  fragColor.a *= opacity;\n\n#else\n\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n\n#endif\n\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n"}}initializeState(){const{featureIds:t}=this.props;super.initializeState();const e=this.getAttributeManager();t&&e.add({featureIdsPickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateFeatureIdsPickingColors}})}updateState(t){super.updateState(t);const{props:e,oldProps:n}=t;e.pbrMaterial!==n.pbrMaterial&&this.updatePbrMaterialUniforms(e.pbrMaterial)}draw(t){const{featureIds:e}=this.props;this.state.model&&(this.state.model.setUniforms({u_Camera:this.state.model.getUniforms().project_uCameraPosition,pickFeatureIds:Boolean(e)}),super.draw(t))}getModel(t){const{id:e,pbrMaterial:n}=this.props,i=this.parseMaterial(n,t);this.setState({materialParser:i});const s=this.getShaders();var o;(o=t.attributes).COLOR_0||o.colors||(o.colors={constant:!0,value:new Float32Array([1,1,1])});return new x.Z(this.context.gl,{...this.getShaders(),id:e,geometry:t,defines:{...s.defines,...null==i?void 0:i.defines,HAS_UV_REGIONS:t.attributes.uvRegions},parameters:null==i?void 0:i.parameters,isInstanced:!0})}updatePbrMaterialUniforms(t){const{model:e}=this.state;if(e){const{mesh:n}=this.props,i=this.parseMaterial(t,n);this.setState({materialParser:i}),e.setUniforms(i.uniforms)}}parseMaterial(t,e){var n;const i=Boolean(t.pbrMetallicRoughness&&t.pbrMetallicRoughness.baseColorTexture);return null===(n=this.state.materialParser)||void 0===n||n.delete(),new M.Z(this.context.gl,{attributes:{NORMAL:e.attributes.normals,TEXCOORD_0:e.attributes.texCoords},material:{unlit:i,...t},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1})}calculateFeatureIdsPickingColors(t){const e=this.props.featureIds,n=new Uint8ClampedArray(e.length*t.size),i=[];for(let s=0;s<e.length;s++)this.encodePickingColor(e[s],i),n[3*s]=i[0],n[3*s+1]=i[1],n[3*s+2]=i[2];t.value=n}finalizeState(t){var e;super.finalizeState(t),null===(e=this.state.materialParser)||void 0===e||e.delete(),this.setState({materialParser:null})}}(0,i.Z)(b,"layerName","MeshLayer"),(0,i.Z)(b,"defaultProps",{pbrMaterial:{type:"object",value:null},featureIds:{type:"array",value:null,optional:!0}});var P=n(35889),O=n(8580),E=n(5860),Z=n(1249);const T=[0],L={getPointColor:{type:"accessor",value:[0,0,0,255]},pointSize:1,data:"",loader:Z.u,onTilesetLoad:{type:"function",value:t=>{}},onTileLoad:{type:"function",value:t=>{}},onTileUnload:{type:"function",value:t=>{}},onTileError:{type:"function",value:(t,e,n)=>{}},_getMeshColor:{type:"function",value:t=>[255,255,255]}};class A extends o.Z{constructor(...t){super(...t),(0,i.Z)(this,"state",void 0)}initializeState(){"onTileLoadFail"in this.props&&r.Z.removed("onTileLoadFail","onTileError")(),this.state={layerMap:{},tileset3d:null,activeViewports:{},lastUpdatedViewports:null}}get isLoaded(){const{tileset3d:t}=this.state;return null!==t&&t.isLoaded()}shouldUpdateState({changeFlags:t}){return t.somethingChanged}updateState({props:t,oldProps:e,changeFlags:n}){if(t.data&&t.data!==e.data&&this._loadTileset(t.data),n.viewportChanged){const{activeViewports:t}=this.state;Object.keys(t).length&&(this._updateTileset(t),this.state.lastUpdatedViewports=t,this.state.activeViewports={})}if(n.propsChanged){const{layerMap:t}=this.state;for(const e in t)t[e].needsUpdate=!0}}activateViewport(t){const{activeViewports:e,lastUpdatedViewports:n}=this.state;this.internalState.viewport=t,e[t.id]=t;const i=null==n?void 0:n[t.id];i&&t.equals(i)||(this.setChangeFlags({viewportChanged:!0}),this.setNeedsUpdate())}getPickingInfo({info:t,sourceLayer:e}){const n=e&&e.props.tile;return t.picked&&(t.object=n),t.sourceTile=n,t}filterSubLayer({layer:t,viewport:e}){const{tile:n}=t.props,{id:i}=e;return n.selected&&n.viewportIds.includes(i)}_updateAutoHighlight(t){const e=t.sourceTile,n=this.state.layerMap[null==e?void 0:e.id];n&&n.layer&&n.layer.updateAutoHighlight(t)}async _loadTileset(t){const{loadOptions:e={}}=this.props;let n=this.props.loader||this.props.loaders;Array.isArray(n)&&(n=n[0]);const i={loadOptions:{...e}};let s=t;if(n.preload){const o=await n.preload(t,e);o.url&&(s=o.url),o.headers&&(i.loadOptions.fetch={...i.loadOptions.fetch,headers:o.headers}),Object.assign(i,o)}const o=await(0,P.z)(s,n,i.loadOptions),r=new O.u(o,{onTileLoad:this._onTileLoad.bind(this),onTileUnload:this._onTileUnload.bind(this),onTileError:this.props.onTileError,...i});this.setState({tileset3d:r,layerMap:{}}),this._updateTileset(this.state.activeViewports),this.props.onTilesetLoad(r)}_onTileLoad(t){const{lastUpdatedViewports:e}=this.state;this.props.onTileLoad(t),this._updateTileset(e),this.setNeedsUpdate()}_onTileUnload(t){delete this.state.layerMap[t.id],this.props.onTileUnload(t)}_updateTileset(t){if(!t)return;const{tileset3d:e}=this.state,{timeline:n}=this.context,i=Object.keys(t).length;n&&i&&e&&e.selectTiles(Object.values(t)).then((t=>{this.state.frameNumber!==t&&this.setState({frameNumber:t})}))}_getSubLayer(t,e){if(!t.content)return null;switch(t.type){case E.R7.POINTCLOUD:return this._makePointCloudLayer(t,e);case E.R7.SCENEGRAPH:return this._make3DModelLayer(t);case E.R7.MESH:return this._makeSimpleMeshLayer(t,e);default:throw new Error("Tile3DLayer: Failed to render layer of type ".concat(t.content.type))}}_makePointCloudLayer(t,e){const{attributes:n,pointCount:i,constantRGBA:s,cartographicOrigin:o,modelMatrix:r}=t.content,{positions:l,normals:h,colors:u}=n;if(!l)return null;const d=e&&e.props.data||{header:{vertexCount:i},attributes:{POSITION:l,NORMAL:h,COLOR_0:u}},{pointSize:m,getPointColor:p}=this.props;return new(this.getSubLayerClass("pointcloud",c.Z))({pointSize:m},this.getSubLayerProps({id:"pointcloud"}),{id:"".concat(this.id,"-pointcloud-").concat(t.id),tile:t,data:d,coordinateSystem:a.COORDINATE_SYSTEM.METER_OFFSETS,coordinateOrigin:o,modelMatrix:r,getColor:s||p,_offset:0})}_make3DModelLayer(t){const{gltf:e,instances:n,cartographicOrigin:i,modelMatrix:s}=t.content;return new(this.getSubLayerClass("scenegraph",w))({_lighting:"pbr"},this.getSubLayerProps({id:"scenegraph"}),{id:"".concat(this.id,"-scenegraph-").concat(t.id),tile:t,data:n||T,scenegraph:e,coordinateSystem:a.COORDINATE_SYSTEM.METER_OFFSETS,coordinateOrigin:i,modelMatrix:s,getTransformMatrix:t=>t.modelMatrix,getPosition:[0,0,0],_offset:0})}_makeSimpleMeshLayer(t,e){const n=t.content,{attributes:i,indices:o,modelMatrix:r,cartographicOrigin:c,coordinateSystem:l=a.COORDINATE_SYSTEM.METER_OFFSETS,material:h,featureIds:u}=n,{_getMeshColor:d}=this.props,m=e&&e.props.mesh||new s.Z({drawMode:4,attributes:I(i),indices:o});return new(this.getSubLayerClass("mesh",b))(this.getSubLayerProps({id:"mesh"}),{id:"".concat(this.id,"-mesh-").concat(t.id),tile:t,mesh:m,data:T,getColor:d(t),pbrMaterial:h,modelMatrix:r,coordinateOrigin:c,coordinateSystem:l,featureIds:u,_offset:0})}renderLayers(){const{tileset3d:t,layerMap:e}=this.state;return t?t.tiles.map((t=>{const n=e[t.id]=e[t.id]||{tile:t};let{layer:i}=n;return t.selected&&(i?n.needsUpdate&&(i=this._getSubLayer(t,i),n.needsUpdate=!1):i=this._getSubLayer(t)),n.layer=i,i})).filter(Boolean):null}}function I(t){const e={};return e.positions={...t.positions,value:new Float32Array(t.positions.value)},t.normals&&(e.normals=t.normals),t.texCoords&&(e.texCoords=t.texCoords),t.colors&&(e.colors=t.colors),t.uvRegions&&(e.uvRegions=t.uvRegions),e}(0,i.Z)(A,"defaultProps",L),(0,i.Z)(A,"layerName","Tile3DLayer")},33648:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p});var i=n(81180),s=n(27458),o=n(93844),r=n(8674),a=n(59965),c=n(24088),l=n(15462),h=n(53982);const u=[0,0,0,255],d=[0,0,1],m={sizeUnits:"pixels",pointSize:{type:"number",min:0,value:10},getPosition:{type:"accessor",value:t=>t.position},getNormal:{type:"accessor",value:d},getColor:{type:"accessor",value:u},material:!0,radiusPixels:{deprecatedFor:"pointSize"}};class p extends s.Z{getShaders(){return super.getShaders({vs:"#define SHADER_NAME point-cloud-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceNormals;\nattribute vec4 instanceColors;\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusPixels;\nuniform int sizeUnits;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.normal = project_normal(instanceNormals);\n  unitPosition = positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n  vec3 offset = vec3(positions.xy * project_size_to_pixel(radiusPixels, sizeUnits), 0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.), geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  vec3 lightColor = lighting_getLightColor(instanceColors.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\n  vColor = vec4(lightColor, instanceColors.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME point-cloud-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[o.Z,r.N,a.Z]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceNormals:{size:3,transition:!0,accessor:"getNormal",defaultValue:d},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:u}})}updateState(t){const{changeFlags:e,props:n}=t;if(super.updateState(t),e.extensionsChanged){var i;const{gl:t}=this.context;null===(i=this.state.model)||void 0===i||i.delete(),this.state.model=this._getModel(t),this.getAttributeManager().invalidateAll()}e.dataChanged&&function(t){const{header:e,attributes:n}=t;e&&n&&(t.length=e.vertexCount,n.POSITION&&(n.instancePositions=n.POSITION),n.NORMAL&&(n.instanceNormals=n.NORMAL),n.COLOR_0&&(n.instanceColors=n.COLOR_0))}(n.data)}draw({uniforms:t}){const{pointSize:e,sizeUnits:n}=this.props;this.state.model.setUniforms(t).setUniforms({sizeUnits:c.iI[n],radiusPixels:e}).draw()}_getModel(t){const e=[];for(let n=0;n<3;n++){const t=n/3*Math.PI*2;e.push(2*Math.cos(t),2*Math.sin(t),0)}return new l.Z(t,{...this.getShaders(),id:this.props.id,geometry:new h.Z({drawMode:4,attributes:{positions:new Float32Array(e)}}),isInstanced:!0})}}(0,i.Z)(p,"layerName","PointCloudLayer"),(0,i.Z)(p,"defaultProps",m)},65217:(t,e,n)=>{"use strict";n.d(e,{Z:()=>S});var i=n(81180),s=n(80744),o=n(27458),r=n(93844),a=n(8674),c=n(59965),l=n(53982),h=n(1418),u=n(51621),d=n(15462),m=n(44211),p=n(6948),g=n(17805);var f=n(9231);function v(t,e){(t.COLOR_0||t.colors)&&e||(t.colors={constant:!0,value:new Float32Array([1,1,1])}),s.Z.assert(t.positions||t.POSITION,'no "postions" or "POSITION" attribute in mesh')}function y(t,e){if(t.attributes)return v(t.attributes,e),t instanceof l.Z?t:new l.Z(t);if(t.positions||t.POSITION)return v(t,e),new l.Z({attributes:t});throw Error("Invalid mesh")}const _={mesh:{type:"object",value:null,async:!0},texture:{type:"image",value:null,async:!0},sizeScale:{type:"number",value:1,min:0},_useMeshColors:{type:"boolean",value:!1},_instanced:!0,wireframe:!1,material:!0,getPosition:{type:"accessor",value:t=>t.position},getColor:{type:"accessor",value:[0,0,0,255]},getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},textureParameters:{type:"object",ignore:!0}};class S extends o.Z{constructor(...t){super(...t),(0,i.Z)(this,"state",void 0)}getShaders(){const t=!(0,h.D0)(this.context.gl),e={};return(0,m.U6)(this.context.gl,p.h.GLSL_DERIVATIVES)&&(e.DERIVATIVES_AVAILABLE=1),super.getShaders({vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\nuniform float sizeScale;\nuniform bool composeModelMatrix;\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = instancePickingColors;\n\n  vTexCoord = texCoords;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale + instanceTranslation;\n\n  if (composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n    geometry.worldPosition += pos;\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), position_commonspace);\n    geometry.position = position_commonspace;\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, position_commonspace);\n    geometry.position = position_commonspace;\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n  }\n\n  geometry.normal = normals_commonspace;\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  DECKGL_FILTER_COLOR(color, geometry);\n\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n}\n",modules:[r.Z,a.s,c.Z],transpileToGLSL100:t,defines:e})}getBounds(){var t;if(this.props._instanced)return super.getBounds();let e=this.state.positionBounds;if(e)return e;const{mesh:n}=this.props;if(!n)return null;if(e=null===(t=n.header)||void 0===t?void 0:t.boundingBox,!e){const{attributes:t}=y(n,this.props._useMeshColors);t.POSITION=t.POSITION||t.positions,e=(0,f.v)(t)}return this.state.positionBounds=e,e}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{transition:!0,type:5130,fp64:this.use64bitPositions(),size:3,accessor:"getPosition"},instanceColors:{type:5121,transition:!0,size:this.props.colorFormat.length,normalized:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceModelMatrix:g.P}),this.setState({emptyTexture:new u.Z(this.context.gl,{data:new Uint8Array(4),width:1,height:1})})}updateState(t){super.updateState(t);const{props:e,oldProps:n,changeFlags:i}=t;if(e.mesh!==n.mesh||i.extensionsChanged){var s;if(this.state.positionBounds=null,null===(s=this.state.model)||void 0===s||s.delete(),e.mesh){this.state.model=this.getModel(e.mesh);const t=e.mesh.attributes||e.mesh;this.setState({hasNormals:Boolean(t.NORMAL||t.normals)})}this.getAttributeManager().invalidateAll()}e.texture!==n.texture&&this.setTexture(e.texture),this.state.model&&this.state.model.setDrawMode(this.props.wireframe?3:4)}finalizeState(t){super.finalizeState(t),this.state.emptyTexture.delete()}draw({uniforms:t}){if(!this.state.model)return;const{viewport:e}=this.context,{sizeScale:n,coordinateSystem:i,_instanced:s}=this.props;this.state.model.setUniforms(t).setUniforms({sizeScale:n,composeModelMatrix:!s||(0,g.X)(e,i),flatShading:!this.state.hasNormals}).draw()}getModel(t){const e=new d.Z(this.context.gl,{...this.getShaders(),id:this.props.id,geometry:y(t,this.props._useMeshColors),isInstanced:!0}),{texture:n}=this.props,{emptyTexture:i}=this.state;return e.setUniforms({sampler:n||i,hasTexture:Boolean(n)}),e}setTexture(t){const{emptyTexture:e,model:n}=this.state;n&&n.setUniforms({sampler:t||e,hasTexture:Boolean(t)})}}(0,i.Z)(S,"defaultProps",_),(0,i.Z)(S,"layerName","SimpleMeshLayer")},17805:(t,e,n)=>{"use strict";n.d(e,{P:()=>h,X:()=>u});var i=n(38550),s=n(24088);const o=Math.PI/180,r=new Float32Array(16),a=new Float32Array(12);function c(t,e,n){const i=e[0]*o,s=e[1]*o,r=e[2]*o,a=Math.sin(r),c=Math.sin(i),l=Math.sin(s),h=Math.cos(r),u=Math.cos(i),d=Math.cos(s),m=n[0],p=n[1],g=n[2];t[0]=m*d*u,t[1]=m*l*u,t[2]=m*-c,t[3]=p*(-l*h+d*c*a),t[4]=p*(d*h+l*c*a),t[5]=p*u*a,t[6]=g*(l*a+d*c*h),t[7]=g*(-d*a+l*c*h),t[8]=g*u*h}function l(t){return t[0]=t[0],t[1]=t[1],t[2]=t[2],t[3]=t[4],t[4]=t[5],t[5]=t[6],t[6]=t[8],t[7]=t[9],t[8]=t[10],t[9]=t[12],t[10]=t[13],t[11]=t[14],t.subarray(0,12)}const h={size:12,accessor:["getOrientation","getScale","getTranslation","getTransformMatrix"],shaderAttributes:{instanceModelMatrix__LOCATION_0:{size:3,elementOffset:0},instanceModelMatrix__LOCATION_1:{size:3,elementOffset:3},instanceModelMatrix__LOCATION_2:{size:3,elementOffset:6},instanceTranslation:{size:3,elementOffset:9}},update(t,{startRow:e,endRow:n}){const{data:s,getOrientation:o,getScale:h,getTranslation:u,getTransformMatrix:d}=this.props,m=Array.isArray(d),p=m&&16===d.length,g=Array.isArray(h),f=Array.isArray(o),v=Array.isArray(u),y=p||!m&&Boolean(d(s[0]));t.constant=y?p:f&&g&&v;const _=t.value;if(t.constant){let e;if(y)r.set(d),e=l(r);else{e=a;c(e,o,h),e.set(u,9)}t.value=new Float32Array(e)}else{let m=e*t.size;const{iterable:S,objectInfo:w}=(0,i.jB)(s,e,n);for(const t of S){let e;if(w.index++,y)r.set(p?d:d(t,w)),e=l(r);else{e=a;c(e,f?o:o(t,w),g?h:h(t,w)),e.set(v?u:u(t,w),9)}_[m++]=e[0],_[m++]=e[1],_[m++]=e[2],_[m++]=e[3],_[m++]=e[4],_[m++]=e[5],_[m++]=e[6],_[m++]=e[7],_[m++]=e[8],_[m++]=e[9],_[m++]=e[10],_[m++]=e[11]}}}};function u(t,e){return e===s.COORDINATE_SYSTEM.CARTESIAN||e===s.COORDINATE_SYSTEM.METER_OFFSETS||e===s.COORDINATE_SYSTEM.DEFAULT&&!t.isGeospatial}},37069:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(89521),s=n(14034),o=n(86281),r=n(31437),a=n(1031);class c extends i.Z{constructor(t=0,e=0){super(2),(0,s.kJ)(t)&&1===arguments.length?this.copy(t):(s.vc.debug&&((0,o.u5)(t),(0,o.u5)(e)),this[0]=t,this[1]=e)}set(t,e){return this[0]=t,this[1]=e,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this.check()}fromObject(t){return s.vc.debug&&((0,o.u5)(t.x),(0,o.u5)(t.y)),this[0]=t.x,this[1]=t.y,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return r.fF(this,this,t),this.check()}transformAsVector(t){return(0,a.pb)(this,this,t),this.check()}transformByMatrix3(t){return r.kK(this,this,t),this.check()}transformByMatrix2x3(t){return r.iu(this,this,t),this.check()}transformByMatrix2(t){return r.c(this,this,t),this.check()}}},79057:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}},36625:(t,e,n)=>{"use strict";n.d(e,{Xx:()=>h,KM:()=>p,Mh:()=>V,F7:()=>I,JO:()=>D,tF:()=>et,du:()=>St});const i=-1,s=0,o=1;var r=n(81180),a=n(43855);const c=new a.Z,l=new a.Z;class h{constructor(t=[0,0,0],e=[0,0,0],n){(0,r.Z)(this,"center",void 0),(0,r.Z)(this,"halfDiagonal",void 0),(0,r.Z)(this,"minimum",void 0),(0,r.Z)(this,"maximum",void 0),n=n||c.copy(t).add(e).scale(.5),this.center=new a.Z(n),this.halfDiagonal=new a.Z(e).subtract(this.center),this.minimum=new a.Z(t),this.maximum=new a.Z(e)}clone(){return new h(this.minimum,this.maximum,this.center)}equals(t){return this===t||Boolean(t)&&this.minimum.equals(t.minimum)&&this.maximum.equals(t.maximum)}transform(t){return this.center.transformAsPoint(t),this.halfDiagonal.transform(t),this.minimum.transform(t),this.maximum.transform(t),this}intersectPlane(t){const{halfDiagonal:e}=this,n=l.from(t.normal),r=e.x*Math.abs(n.x)+e.y*Math.abs(n.y)+e.z*Math.abs(n.z),a=this.center.dot(n)+t.distance;return a-r>0?o:a+r<0?i:s}distanceTo(t){return Math.sqrt(this.distanceSquaredTo(t))}distanceSquaredTo(t){const e=c.from(t).subtract(this.center),{halfDiagonal:n}=this;let i,s=0;return i=Math.abs(e.x)-n.x,i>0&&(s+=i*i),i=Math.abs(e.y)-n.y,i>0&&(s+=i*i),i=Math.abs(e.z)-n.z,i>0&&(s+=i*i),s}}var u=n(85975);const d=new a.Z,m=new a.Z;class p{constructor(t=[0,0,0],e=0){(0,r.Z)(this,"center",void 0),(0,r.Z)(this,"radius",void 0),this.radius=-0,this.center=new a.Z,this.fromCenterRadius(t,e)}fromCenterRadius(t,e){return this.center.from(t),this.radius=e,this}fromCornerPoints(t,e){return e=d.from(e),this.center=(new a.Z).from(t).add(e).scale(.5),this.radius=this.center.distance(e),this}equals(t){return this===t||Boolean(t)&&this.center.equals(t.center)&&this.radius===t.radius}clone(){return new p(this.center,this.radius)}union(t){const e=this.center,n=this.radius,i=t.center,s=t.radius,o=d.copy(i).subtract(e),r=o.magnitude();if(n>=r+s)return this.clone();if(s>=r+n)return t.clone();const a=.5*(n+r+s);return m.copy(o).scale((-n+a)/r).add(e),this.center.copy(m),this.radius=a,this}expand(t){const e=d.from(t).subtract(this.center).magnitude();return e>this.radius&&(this.radius=e),this}transform(t){this.center.transform(t);const e=u.Q$(d,t);return this.radius=Math.max(e[0],Math.max(e[1],e[2]))*this.radius,this}distanceSquaredTo(t){const e=this.distanceTo(t);return e*e}distanceTo(t){const e=d.from(t).subtract(this.center);return Math.max(0,e.len()-this.radius)}intersectPlane(t){const e=this.center,n=this.radius,r=t.normal.dot(e)+t.distance;return r<-n?i:r<n?s:o}}var g=n(80540),f=n(79108);const v=new a.Z,y=new a.Z,_=new a.Z,S=new a.Z,w=new a.Z,M=new a.Z,x=new a.Z,C=0,b=1,P=2,O=3,E=4,Z=5,T=6,L=7,A=8;class I{constructor(t=[0,0,0],e=[0,0,0,0,0,0,0,0,0]){(0,r.Z)(this,"center",void 0),(0,r.Z)(this,"halfAxes",void 0),this.center=(new a.Z).from(t),this.halfAxes=new g.Z(e)}get halfSize(){const t=this.halfAxes.getColumn(0),e=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2);return[new a.Z(t).len(),new a.Z(e).len(),new a.Z(n).len()]}get quaternion(){const t=this.halfAxes.getColumn(0),e=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2),i=new a.Z(t).normalize(),s=new a.Z(e).normalize(),o=new a.Z(n).normalize();return(new f.Z).fromMatrix3(new g.Z([...i,...s,...o]))}fromCenterHalfSizeQuaternion(t,e,n){const i=new f.Z(n),s=(new g.Z).fromQuaternion(i);return s[0]=s[0]*e[0],s[1]=s[1]*e[0],s[2]=s[2]*e[0],s[3]=s[3]*e[1],s[4]=s[4]*e[1],s[5]=s[5]*e[1],s[6]=s[6]*e[2],s[7]=s[7]*e[2],s[8]=s[8]*e[2],this.center=(new a.Z).from(t),this.halfAxes=s,this}clone(){return new I(this.center,this.halfAxes)}equals(t){return this===t||Boolean(t)&&this.center.equals(t.center)&&this.halfAxes.equals(t.halfAxes)}getBoundingSphere(t=new p){const e=this.halfAxes,n=e.getColumn(0,_),i=e.getColumn(1,S),s=e.getColumn(2,w),o=v.copy(n).add(i).add(s);return t.center.copy(this.center),t.radius=o.magnitude(),t}intersectPlane(t){const e=this.center,n=t.normal,r=this.halfAxes,a=n.x,c=n.y,l=n.z,h=Math.abs(a*r[C]+c*r[b]+l*r[P])+Math.abs(a*r[O]+c*r[E]+l*r[Z])+Math.abs(a*r[T]+c*r[L]+l*r[A]),u=n.dot(e)+t.distance;return u<=-h?i:u>=h?o:s}distanceTo(t){return Math.sqrt(this.distanceSquaredTo(t))}distanceSquaredTo(t){const e=y.from(t).subtract(this.center),n=this.halfAxes,i=n.getColumn(0,_),s=n.getColumn(1,S),o=n.getColumn(2,w),r=i.magnitude(),a=s.magnitude(),c=o.magnitude();i.normalize(),s.normalize(),o.normalize();let l,h=0;return l=Math.abs(e.dot(i))-r,l>0&&(h+=l*l),l=Math.abs(e.dot(s))-a,l>0&&(h+=l*l),l=Math.abs(e.dot(o))-c,l>0&&(h+=l*l),h}computePlaneDistances(t,e,n=[-0,-0]){let i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;const o=this.center,r=this.halfAxes,a=r.getColumn(0,_),c=r.getColumn(1,S),l=r.getColumn(2,w),h=M.copy(a).add(c).add(l).add(o),u=x.copy(h).subtract(t);let d=e.dot(u);return i=Math.min(d,i),s=Math.max(d,s),h.copy(o).add(a).add(c).subtract(l),u.copy(h).subtract(t),d=e.dot(u),i=Math.min(d,i),s=Math.max(d,s),h.copy(o).add(a).subtract(c).add(l),u.copy(h).subtract(t),d=e.dot(u),i=Math.min(d,i),s=Math.max(d,s),h.copy(o).add(a).subtract(c).subtract(l),u.copy(h).subtract(t),d=e.dot(u),i=Math.min(d,i),s=Math.max(d,s),o.copy(h).subtract(a).add(c).add(l),u.copy(h).subtract(t),d=e.dot(u),i=Math.min(d,i),s=Math.max(d,s),o.copy(h).subtract(a).add(c).subtract(l),u.copy(h).subtract(t),d=e.dot(u),i=Math.min(d,i),s=Math.max(d,s),o.copy(h).subtract(a).subtract(c).add(l),u.copy(h).subtract(t),d=e.dot(u),i=Math.min(d,i),s=Math.max(d,s),o.copy(h).subtract(a).subtract(c).subtract(l),u.copy(h).subtract(t),d=e.dot(u),i=Math.min(d,i),s=Math.max(d,s),n[0]=i,n[1]=s,n}transform(t){this.center.transformAsPoint(t);const e=this.halfAxes.getColumn(0,_);e.transformAsPoint(t);const n=this.halfAxes.getColumn(1,S);n.transformAsPoint(t);const i=this.halfAxes.getColumn(2,w);return i.transformAsPoint(t),this.halfAxes=new g.Z([...e,...n,...i]),this}getTransform(){throw new Error("not implemented")}}var N=n(50394),z=n(14034);const R=new a.Z,U=new a.Z;class D{constructor(t=[0,0,1],e=0){(0,r.Z)(this,"normal",void 0),(0,r.Z)(this,"distance",void 0),this.normal=new a.Z,this.distance=-0,this.fromNormalDistance(t,e)}fromNormalDistance(t,e){return(0,N.Z)(Number.isFinite(e)),this.normal.from(t).normalize(),this.distance=e,this}fromPointNormal(t,e){t=R.from(t),this.normal.from(e).normalize();const n=-this.normal.dot(t);return this.distance=n,this}fromCoefficients(t,e,n,i){return this.normal.set(t,e,n),(0,N.Z)((0,z.fS)(this.normal.len(),1)),this.distance=i,this}clone(){return new D(this.normal,this.distance)}equals(t){return(0,z.fS)(this.distance,t.distance)&&(0,z.fS)(this.normal,t.normal)}getPointDistance(t){return this.normal.dot(t)+this.distance}transform(t){const e=U.copy(this.normal).transformAsVector(t).normalize(),n=this.normal.scale(-this.distance).transform(t);return this.fromPointNormal(n,e)}projectPointOntoPlane(t,e=[0,0,0]){t=R.from(t);const n=this.getPointDistance(t),i=U.copy(this.normal).scale(n);return t.subtract(i).to(e)}}const F=[new a.Z([1,0,0]),new a.Z([0,1,0]),new a.Z([0,0,1])],q=new a.Z,B=new a.Z;new D(new a.Z(1,0,0),0);class V{constructor(t=[]){(0,r.Z)(this,"planes",void 0),this.planes=t}fromBoundingSphere(t){this.planes.length=2*F.length;const e=t.center,n=t.radius;let i=0;for(const s of F){let t=this.planes[i],o=this.planes[i+1];t||(t=this.planes[i]=new D),o||(o=this.planes[i+1]=new D);const r=q.copy(s).scale(-n).add(e);s.dot(r);t.fromPointNormal(r,s);const a=q.copy(s).scale(n).add(e),c=B.copy(s).negate();c.dot(a);o.fromPointNormal(a,c),i+=2}return this}computeVisibility(t){let e=o;for(const n of this.planes){switch(t.intersectPlane(n)){case i:return i;case s:e=s}}return e}computeVisibilityWithPlaneMask(t,e){if((0,N.Z)(Number.isFinite(e),"parentPlaneMask is required."),e===V.MASK_OUTSIDE||e===V.MASK_INSIDE)return e;let n=V.MASK_INSIDE;const o=this.planes;for(let r=0;r<this.planes.length;++r){const a=r<31?1<<r:0;if(r<31&&0==(e&a))continue;const c=o[r],l=t.intersectPlane(c);if(l===i)return V.MASK_OUTSIDE;l===s&&(n|=a)}return n}}(0,r.Z)(V,"MASK_OUTSIDE",4294967295),(0,r.Z)(V,"MASK_INSIDE",0),(0,r.Z)(V,"MASK_INDETERMINATE",2147483647);new a.Z,new a.Z,new a.Z,new a.Z,new a.Z;const k=new a.Z,j=new a.Z,G=new a.Z,H=new a.Z,K=new a.Z,X=new a.Z,Y=new a.Z,W=new a.Z,Q=new a.Z,J=new a.Z,$=new a.Z,tt=new a.Z;Math.PI;function et(t,e=new p){if(!t||0===t.length)return e.fromCenterRadius([0,0,0],0);const n=Y.copy(t[0]),i=k.copy(n),s=j.copy(n),o=G.copy(n),r=H.copy(n),a=K.copy(n),c=X.copy(n);for(const p of t){n.copy(p);const t=n.x,e=n.y,l=n.z;t<i.x&&i.copy(n),t>r.x&&r.copy(n),e<s.y&&s.copy(n),e>a.y&&a.copy(n),l<o.z&&o.copy(n),l>c.z&&c.copy(n)}const l=W.copy(r).subtract(i).magnitudeSquared(),h=W.copy(a).subtract(s).magnitudeSquared(),u=W.copy(c).subtract(o).magnitudeSquared();let d=i,m=r,g=l;h>g&&(g=h,d=s,m=a),u>g&&(g=u,d=o,m=c);const f=Q;f.x=.5*(d.x+m.x),f.y=.5*(d.y+m.y),f.z=.5*(d.z+m.z);let v=W.copy(m).subtract(f).magnitudeSquared(),y=Math.sqrt(v);const _=J;_.x=i.x,_.y=s.y,_.z=o.z;const S=$;S.x=r.x,S.y=a.y,S.z=c.z;const w=tt.copy(_).add(S).multiplyByScalar(.5);let M=0;for(const p of t){n.copy(p);const t=W.copy(n).subtract(w).magnitude();t>M&&(M=t);const e=W.copy(n).subtract(f).magnitudeSquared();if(e>v){const t=Math.sqrt(e);y=.5*(y+t),v=y*y;const i=t-y;f.x=(y*f.x+i*n.x)/t,f.y=(y*f.y+i*n.y)/t,f.z=(y*f.z+i*n.z)/t}}return y<M?(f.to(e.center),e.radius=y):(w.to(e.center),e.radius=M),e}var nt=n(79057);const it=new g.Z,st=new g.Z,ot=new g.Z,rt=new g.Z,at=new g.Z;function ct(t,e={}){const n=nt.Z.EPSILON20;let i=0,s=0;const o=st,r=ot;o.identity(),r.copy(t);const a=n*function(t){let e=0;for(let n=0;n<9;++n){const i=t[n];e+=i*i}return Math.sqrt(e)}(r);for(;s<10&&ut(r)>a;)dt(r,rt),at.copy(rt).transpose(),r.multiplyRight(rt),r.multiplyLeft(at),o.multiplyRight(rt),++i>2&&(++s,i=0);return e.unitary=o.toTarget(e.unitary),e.diagonal=r.toTarget(e.diagonal),e}const lt=[1,0,0],ht=[2,2,1];function ut(t){let e=0;for(let n=0;n<3;++n){const i=t[it.getElementIndex(ht[n],lt[n])];e+=2*i*i}return Math.sqrt(e)}function dt(t,e){const n=nt.Z.EPSILON15;let i=0,s=1;for(let l=0;l<3;++l){const e=Math.abs(t[it.getElementIndex(ht[l],lt[l])]);e>i&&(s=l,i=e)}const o=lt[s],r=ht[s];let a=1,c=0;if(Math.abs(t[it.getElementIndex(r,o)])>n){const e=(t[it.getElementIndex(r,r)]-t[it.getElementIndex(o,o)])/2/t[it.getElementIndex(r,o)];let n;n=e<0?-1/(-e+Math.sqrt(1+e*e)):1/(e+Math.sqrt(1+e*e)),a=1/Math.sqrt(1+n*n),c=n*a}return g.Z.IDENTITY.to(e),e[it.getElementIndex(o,o)]=e[it.getElementIndex(r,r)]=a,e[it.getElementIndex(r,o)]=c,e[it.getElementIndex(o,r)]=-c,e}const mt=new a.Z,pt=new a.Z,gt=new a.Z,ft=new a.Z,vt=new a.Z,yt=new g.Z,_t={diagonal:new g.Z,unitary:new g.Z};function St(t,e=new I){if(!t||0===t.length)return e.halfAxes=new g.Z([0,0,0,0,0,0,0,0,0]),e.center=new a.Z,e;const n=t.length,i=new a.Z(0,0,0);for(const a of t)i.add(a);const s=1/n;i.multiplyByScalar(s);let o=0,r=0,c=0,l=0,h=0,u=0;for(const a of t){const t=mt.copy(a).subtract(i);o+=t.x*t.x,r+=t.x*t.y,c+=t.x*t.z,l+=t.y*t.y,h+=t.y*t.z,u+=t.z*t.z}o*=s,r*=s,c*=s,l*=s,h*=s,u*=s;const d=yt;d[0]=o,d[1]=r,d[2]=c,d[3]=r,d[4]=l,d[5]=h,d[6]=c,d[7]=h,d[8]=u;const{unitary:m}=ct(d,_t),p=e.halfAxes.copy(m);let f=p.getColumn(0,gt),v=p.getColumn(1,ft),y=p.getColumn(2,vt),_=-Number.MAX_VALUE,S=-Number.MAX_VALUE,w=-Number.MAX_VALUE,M=Number.MAX_VALUE,x=Number.MAX_VALUE,C=Number.MAX_VALUE;for(const a of t)mt.copy(a),_=Math.max(mt.dot(f),_),S=Math.max(mt.dot(v),S),w=Math.max(mt.dot(y),w),M=Math.min(mt.dot(f),M),x=Math.min(mt.dot(v),x),C=Math.min(mt.dot(y),C);f=f.multiplyByScalar(.5*(M+_)),v=v.multiplyByScalar(.5*(x+S)),y=y.multiplyByScalar(.5*(C+w)),e.center.copy(f).add(v).add(y);const b=pt.set(_-M,S-x,w-C).multiplyByScalar(.5),P=new g.Z([b[0],0,0,0,b[1],0,0,0,b[2]]);return e.halfAxes.multiplyRight(P),e}},98759:(t,e,n)=>{"use strict";n.d(e,{H:()=>I});var i=n(81180),s=n(43855),o=n(79057),r=n(50394),a=n(85451),c=n(14034),l=n(77160);const h=6378137,u=6378137,d=6356752.314245179;Math.max(h,u,d);function m(t){return t}new s.Z;function p(t,e=[],n=m){return"longitude"in t?(e[0]=n(t.longitude),e[1]=n(t.latitude),e[2]=t.height):"x"in t?(e[0]=n(t.x),e[1]=n(t.y),e[2]=t.z):(e[0]=n(t[0]),e[1]=n(t[1]),e[2]=t[2]),e}function g(t,e,n=m){return"longitude"in e?(e.longitude=n(t[0]),e.latitude=n(t[1]),e.height=t[2]):"x"in e?(e.x=n(t[0]),e.y=n(t[1]),e.z=t[2]):(e[0]=n(t[0]),e[1]=n(t[1]),e[2]=t[2]),e}const f=new s.Z,v=new s.Z,y=new s.Z;const _=new s.Z,S={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},w={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},M={east:new s.Z,north:new s.Z,up:new s.Z,west:new s.Z,south:new s.Z,down:new s.Z},x=new s.Z,C=new s.Z,b=new s.Z;function P(t,e,n,i,s,o){const a=S[e]&&S[e][n];let l,h,u;(0,r.Z)(a&&(!i||i===a));const d=_.copy(s);if((0,c.fS)(d.x,0,1e-14)&&(0,c.fS)(d.y,0,1e-14)){const t=Math.sign(d.z);l=x.fromArray(w[e]),"east"!==e&&"west"!==e&&l.scale(t),h=C.fromArray(w[n]),"east"!==n&&"west"!==n&&h.scale(t),u=b.fromArray(w[i]),"east"!==i&&"west"!==i&&u.scale(t)}else{const{up:s,east:o,north:r}=M;o.set(-d.y,d.x,0).normalize(),t.geodeticSurfaceNormal(d,s),r.copy(s).cross(o);const{down:a,west:c,south:m}=M;a.copy(s).scale(-1),c.copy(o).scale(-1),m.copy(r).scale(-1),l=M[e],h=M[n],u=M[i]}return o[0]=l.x,o[1]=l.y,o[2]=l.z,o[3]=0,o[4]=h.x,o[5]=h.y,o[6]=h.z,o[7]=0,o[8]=u.x,o[9]=u.y,o[10]=u.z,o[11]=0,o[12]=d.x,o[13]=d.y,o[14]=d.z,o[15]=1,o}const O=new s.Z,E=new s.Z,Z=new s.Z,T=new s.Z,L=new s.Z,A=new s.Z;class I{constructor(t=0,e=0,n=0){(0,i.Z)(this,"radii",void 0),(0,i.Z)(this,"radiiSquared",void 0),(0,i.Z)(this,"radiiToTheFourth",void 0),(0,i.Z)(this,"oneOverRadii",void 0),(0,i.Z)(this,"oneOverRadiiSquared",void 0),(0,i.Z)(this,"minimumRadius",void 0),(0,i.Z)(this,"maximumRadius",void 0),(0,i.Z)(this,"centerToleranceSquared",o.Z.EPSILON1),(0,i.Z)(this,"squaredXOverSquaredZ",void 0),(0,r.Z)(t>=0),(0,r.Z)(e>=0),(0,r.Z)(n>=0),this.radii=new s.Z(t,e,n),this.radiiSquared=new s.Z(t*t,e*e,n*n),this.radiiToTheFourth=new s.Z(t*t*t*t,e*e*e*e,n*n*n*n),this.oneOverRadii=new s.Z(0===t?0:1/t,0===e?0:1/e,0===n?0:1/n),this.oneOverRadiiSquared=new s.Z(0===t?0:1/(t*t),0===e?0:1/(e*e),0===n?0:1/(n*n)),this.minimumRadius=Math.min(t,e,n),this.maximumRadius=Math.max(t,e,n),0!==this.radiiSquared.z&&(this.squaredXOverSquaredZ=this.radiiSquared.x/this.radiiSquared.z),Object.freeze(this)}equals(t){return this===t||Boolean(t&&this.radii.equals(t.radii))}toString(){return this.radii.toString()}cartographicToCartesian(t,e=[0,0,0]){const n=E,i=Z,[,,s]=t;this.geodeticSurfaceNormalCartographic(t,n),i.copy(this.radiiSquared).scale(n);const o=Math.sqrt(n.dot(i));return i.scale(1/o),n.scale(s),i.add(n),i.to(e)}cartesianToCartographic(t,e=[0,0,0]){A.from(t);const n=this.scaleToGeodeticSurface(A,T);if(!n)return;const i=this.geodeticSurfaceNormal(n,E),s=L;s.copy(A).subtract(n);const o=Math.atan2(i.y,i.x),r=Math.asin(i.z),a=Math.sign(l.AK(s,A))*l.kE(s);return g([o,r,a],e,c.vc._cartographicRadians?m:c.Ux)}eastNorthUpToFixedFrame(t,e=new a.Z){return P(this,"east","north","up",t,e)}localFrameToFixedFrame(t,e,n,i,s=new a.Z){return P(this,t,e,n,i,s)}geocentricSurfaceNormal(t,e=[0,0,0]){return O.from(t).normalize().to(e)}geodeticSurfaceNormalCartographic(t,e=[0,0,0]){const n=function(t,e=[]){return p(t,e,c.vc._cartographicRadians?m:c.Yr)}(t),i=n[0],s=n[1],o=Math.cos(s);return O.set(o*Math.cos(i),o*Math.sin(i),Math.sin(s)).normalize(),O.to(e)}geodeticSurfaceNormal(t,e=[0,0,0]){return O.from(t).scale(this.oneOverRadiiSquared).normalize().to(e)}scaleToGeodeticSurface(t,e){return function(t,e,n=[]){const{oneOverRadii:i,oneOverRadiiSquared:s,centerToleranceSquared:r}=e;f.from(t);const a=f.x,c=f.y,l=f.z,h=i.x,u=i.y,d=i.z,m=a*a*h*h,p=c*c*u*u,g=l*l*d*d,_=m+p+g,S=Math.sqrt(1/_);if(!Number.isFinite(S))return;const w=v;if(w.copy(t).scale(S),_<r)return w.to(n);const M=s.x,x=s.y,C=s.z,b=y;b.set(w.x*M*2,w.y*x*2,w.z*C*2);let P,O,E,Z,T=(1-S)*f.len()/(.5*b.len()),L=0;do{T-=L,P=1/(1+T*M),O=1/(1+T*x),E=1/(1+T*C);const t=P*P,e=O*O,n=E*E;Z=m*t+p*e+g*n-1,L=Z/(-2*(m*(t*P)*M+p*(e*O)*x+g*(n*E)*C))}while(Math.abs(Z)>o.Z.EPSILON12);return f.scale([P,O,E]).to(n)}(t,this,e)}scaleToGeocentricSurface(t,e=[0,0,0]){T.from(t);const n=T.x,i=T.y,s=T.z,o=this.oneOverRadiiSquared,r=1/Math.sqrt(n*n*o.x+i*i*o.y+s*s*o.z);return T.multiplyScalar(r).to(e)}transformPositionToScaledSpace(t,e=[0,0,0]){return T.from(t).scale(this.oneOverRadii).to(e)}transformPositionFromScaledSpace(t,e=[0,0,0]){return T.from(t).scale(this.radii).to(e)}getSurfaceNormalIntersectionWithZAxis(t,e=0,n=[0,0,0]){(0,r.Z)((0,c.fS)(this.radii.x,this.radii.y,o.Z.EPSILON15)),(0,r.Z)(this.radii.z>0),T.from(t);const i=T.z*(1-this.squaredXOverSquaredZ);if(!(Math.abs(i)>=this.radii.z-e))return T.set(0,0,i).to(n)}}(0,i.Z)(I,"WGS84",new I(h,u,d))},20514:function(t,e){var n,i,s;i=[],void 0===(s="function"==typeof(n=function(){"use strict";function t(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function e(t){return!0===(t&&t.__isLong__)}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),t.isLong=e;var n={},i={};function s(t,e){var s,o,a;return e?(a=0<=(t>>>=0)&&t<256)&&(o=i[t])?o:(s=r(t,(0|t)<0?-1:0,!0),a&&(i[t]=s),s):(a=-128<=(t|=0)&&t<128)&&(o=n[t])?o:(s=r(t,t<0?-1:0,!1),a&&(n[t]=s),s)}function o(t,e){if(isNaN(t)||!isFinite(t))return e?f:g;if(e){if(t<0)return f;if(t>=d)return w}else{if(t<=-m)return M;if(t+1>=m)return S}return t<0?o(-t,e).neg():r(t%u|0,t/u|0,e)}function r(e,n,i){return new t(e,n,i)}t.fromInt=s,t.fromNumber=o,t.fromBits=r;var a=Math.pow;function c(t,e,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return g;if("number"==typeof e?(n=e,e=!1):e=!!e,(n=n||10)<2||36<n)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return c(t.substring(1),e,n).neg();for(var s=o(a(n,8)),r=g,l=0;l<t.length;l+=8){var h=Math.min(8,t.length-l),u=parseInt(t.substring(l,l+h),n);if(h<8){var d=o(a(n,h));r=r.mul(d).add(o(u))}else r=(r=r.mul(s)).add(o(u))}return r.unsigned=e,r}function l(e){return e instanceof t?e:"number"==typeof e?o(e):"string"==typeof e?c(e):r(e.low,e.high,e.unsigned)}t.fromString=c,t.fromValue=l;var h=65536,u=h*h,d=u*u,m=d/2,p=s(1<<24),g=s(0);t.ZERO=g;var f=s(0,!0);t.UZERO=f;var v=s(1);t.ONE=v;var y=s(1,!0);t.UONE=y;var _=s(-1);t.NEG_ONE=_;var S=r(-1,2147483647,!1);t.MAX_VALUE=S;var w=r(-1,-1,!0);t.MAX_UNSIGNED_VALUE=w;var M=r(0,-2147483648,!1);t.MIN_VALUE=M;var x=t.prototype;return x.toInt=function(){return this.unsigned?this.low>>>0:this.low},x.toNumber=function(){return this.unsigned?(this.high>>>0)*u+(this.low>>>0):this.high*u+(this.low>>>0)},x.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(M)){var e=o(t),n=this.div(e),i=n.mul(e).sub(this);return n.toString(t)+i.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var s=o(a(t,6),this.unsigned),r=this,c="";;){var l=r.div(s),h=(r.sub(l.mul(s)).toInt()>>>0).toString(t);if((r=l).isZero())return h+c;for(;h.length<6;)h="0"+h;c=""+h+c}},x.getHighBits=function(){return this.high},x.getHighBitsUnsigned=function(){return this.high>>>0},x.getLowBits=function(){return this.low},x.getLowBitsUnsigned=function(){return this.low>>>0},x.getNumBitsAbs=function(){if(this.isNegative())return this.eq(M)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},x.isZero=function(){return 0===this.high&&0===this.low},x.isNegative=function(){return!this.unsigned&&this.high<0},x.isPositive=function(){return this.unsigned||this.high>=0},x.isOdd=function(){return 1==(1&this.low)},x.isEven=function(){return 0==(1&this.low)},x.equals=function(t){return e(t)||(t=l(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},x.eq=x.equals,x.notEquals=function(t){return!this.eq(t)},x.neq=x.notEquals,x.lessThan=function(t){return this.comp(t)<0},x.lt=x.lessThan,x.lessThanOrEqual=function(t){return this.comp(t)<=0},x.lte=x.lessThanOrEqual,x.greaterThan=function(t){return this.comp(t)>0},x.gt=x.greaterThan,x.greaterThanOrEqual=function(t){return this.comp(t)>=0},x.gte=x.greaterThanOrEqual,x.compare=function(t){if(e(t)||(t=l(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},x.comp=x.compare,x.negate=function(){return!this.unsigned&&this.eq(M)?M:this.not().add(v)},x.neg=x.negate,x.add=function(t){e(t)||(t=l(t));var n=this.high>>>16,i=65535&this.high,s=this.low>>>16,o=65535&this.low,a=t.high>>>16,c=65535&t.high,h=t.low>>>16,u=0,d=0,m=0,p=0;return m+=(p+=o+(65535&t.low))>>>16,d+=(m+=s+h)>>>16,u+=(d+=i+c)>>>16,u+=n+a,r((m&=65535)<<16|(p&=65535),(u&=65535)<<16|(d&=65535),this.unsigned)},x.subtract=function(t){return e(t)||(t=l(t)),this.add(t.neg())},x.sub=x.subtract,x.multiply=function(t){if(this.isZero())return g;if(e(t)||(t=l(t)),t.isZero())return g;if(this.eq(M))return t.isOdd()?M:g;if(t.eq(M))return this.isOdd()?M:g;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(p)&&t.lt(p))return o(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,s=this.low>>>16,a=65535&this.low,c=t.high>>>16,h=65535&t.high,u=t.low>>>16,d=65535&t.low,m=0,f=0,v=0,y=0;return v+=(y+=a*d)>>>16,f+=(v+=s*d)>>>16,v&=65535,f+=(v+=a*u)>>>16,m+=(f+=i*d)>>>16,f&=65535,m+=(f+=s*u)>>>16,f&=65535,m+=(f+=a*h)>>>16,m+=n*d+i*u+s*h+a*c,r((v&=65535)<<16|(y&=65535),(m&=65535)<<16|(f&=65535),this.unsigned)},x.mul=x.multiply,x.divide=function(t){if(e(t)||(t=l(t)),t.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?f:g;var n,i,s;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return f;if(t.gt(this.shru(1)))return y;s=f}else{if(this.eq(M))return t.eq(v)||t.eq(_)?M:t.eq(M)?v:(n=this.shr(1).div(t).shl(1)).eq(g)?t.isNegative()?v:_:(i=this.sub(t.mul(n)),s=n.add(i.div(t)));if(t.eq(M))return this.unsigned?f:g;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();s=g}for(i=this;i.gte(t);){n=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var r=Math.ceil(Math.log(n)/Math.LN2),c=r<=48?1:a(2,r-48),h=o(n),u=h.mul(t);u.isNegative()||u.gt(i);)u=(h=o(n-=c,this.unsigned)).mul(t);h.isZero()&&(h=v),s=s.add(h),i=i.sub(u)}return s},x.div=x.divide,x.modulo=function(t){return e(t)||(t=l(t)),this.sub(this.div(t).mul(t))},x.mod=x.modulo,x.not=function(){return r(~this.low,~this.high,this.unsigned)},x.and=function(t){return e(t)||(t=l(t)),r(this.low&t.low,this.high&t.high,this.unsigned)},x.or=function(t){return e(t)||(t=l(t)),r(this.low|t.low,this.high|t.high,this.unsigned)},x.xor=function(t){return e(t)||(t=l(t)),r(this.low^t.low,this.high^t.high,this.unsigned)},x.shiftLeft=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?r(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):r(0,this.low<<t-32,this.unsigned)},x.shl=x.shiftLeft,x.shiftRight=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?r(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):r(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},x.shr=x.shiftRight,x.shiftRightUnsigned=function(t){if(e(t)&&(t=t.toInt()),0==(t&=63))return this;var n=this.high;return t<32?r(this.low>>>t|n<<32-t,n>>>t,this.unsigned):r(32===t?n:n>>>t-32,0,this.unsigned)},x.shru=x.shiftRightUnsigned,x.toSigned=function(){return this.unsigned?r(this.low,this.high,!1):this},x.toUnsigned=function(){return this.unsigned?this:r(this.low,this.high,!0)},x.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},x.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&t,t>>>8&255,t>>>16&255,t>>>24&255]},x.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e]},t})?n.apply(e,i):n)||(t.exports=s)},25811:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>i});const i=new(n(18686).Z)({id:"@probe.gl/log"})}}]);