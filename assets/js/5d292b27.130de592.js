"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[8317],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>T});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),p=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(r),m=n,T=d["".concat(l,".").concat(m)]||d[m]||u[m]||o;return r?a.createElement(T,i(i({ref:t},c),{},{components:r})):a.createElement(T,i({ref:t},c))}));function T(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:n,i[1]=s;for(var p=2;p<o;p++)i[p]=r[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},10554:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var a=r(87462),n=(r(67294),r(3905));const o={},i="WKTCRSLoader \ud83c\udd95 \ud83d\udea7",s={unversionedId:"modules/wkt/api-reference/wkt-crs-loader",id:"modules/wkt/api-reference/wkt-crs-loader",title:"WKTCRSLoader \ud83c\udd95 \ud83d\udea7",description:"ogc-logo",source:"@site/../docs/modules/wkt/api-reference/wkt-crs-loader.md",sourceDirName:"modules/wkt/api-reference",slug:"/modules/wkt/api-reference/wkt-crs-loader",permalink:"/docs/modules/wkt/api-reference/wkt-crs-loader",draft:!1,editUrl:"https://github.com/visgl/loaders.gl/tree/master/website/../docs/modules/wkt/api-reference/wkt-crs-loader.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"TWKBWriter \ud83c\udd95 \ud83d\udea7",permalink:"/docs/modules/wkt/api-reference/twkb-writer"},next:{title:"WKTCRSWriter \ud83c\udd95 \ud83d\udea7",permalink:"/docs/modules/wkt/api-reference/wkt-crs-writer"}},l={},p=[{value:"Installation",id:"installation",level:2},{value:"Data Format",id:"data-format",level:2},{value:"Advanced Usage",id:"advanced-usage",level:2},{value:"special properties",id:"special-properties",level:3},{value:"repeated keywords",id:"repeated-keywords",level:3},{value:"raw mode",id:"raw-mode",level:3},{value:"sorting",id:"sorting",level:3},{value:"Attribution",id:"attribution",level:2}],c={toc:p},d="wrapper";function u(e){let{components:t,...o}=e;return(0,n.kt)(d,(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"wktcrsloader--"},"WKTCRSLoader \ud83c\udd95 \ud83d\udea7"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"ogc-logo",src:r(63411).Z,width:"119",height:"60"})),(0,n.kt)("p",{class:"badges"},(0,n.kt)("img",{src:"https://img.shields.io/badge/From-v4.0-blue.svg?style=flat-square",alt:"From-v4.0"})),(0,n.kt)("p",null,"Parses WKT-CRS (",(0,n.kt)("a",{parentName:"p",href:"../formats/wkt-crs"},"Well-known text representation of coordinate reference systems"),")."),(0,n.kt)("h2",{id:"installation"},"Installation"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @loaders.gl/wkt\nnpm install @loaders.gl/core\n")),(0,n.kt)("h1",{id:"usage"},"Usage"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-typescript"},'// you can skip this line if you loaded via <script>\nimport {WKTCRSLoader} from \'@loaders.gl/wkt\';\nimport {parse} from \'@loaders.gl/core\'\n\n// a string of Well-Known Text CRS\nconst wkt = `PROJCS["NAD27 / UTM zone 16N",GEOGCS["NAD27",DATUM["North_American_Datum_1927",SPHEROID["Clarke 1866",6378206.4,294.9786982139006,AUTHORITY["EPSG","7008"]],AUTHORITY["EPSG","6267"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4267"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-87],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["Easting",EAST],AXIS["Northing",NORTH],AUTHORITY["EPSG","26716"]]`;\n\n// parses WKT-CRS string to nested arrays\nconst data = parse(wktcrsText, WKTCRSLoader);\n')),(0,n.kt)("h2",{id:"data-format"},"Data Format"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-typescript"},'[\n  [\n    "PROJCS",\n    "NAD27 / UTM zone 16N",\n    [\n      "GEOGCS",\n      "NAD27",\n      [\n        "DATUM",\n        "North_American_Datum_1927",\n        [\n          "SPHEROID",\n          "Clarke 1866",\n          6378206.4,\n          294.9786982139006,\n          ["AUTHORITY", "EPSG", "7008"]\n        ],\n        ["AUTHORITY", "EPSG", "6267"]\n      ],\n      ["PRIMEM", "Greenwich", 0, ["AUTHORITY", "EPSG", "8901"]],\n      ["UNIT", "degree", 0.0174532925199433, ["AUTHORITY", "EPSG", "9122"] ],\n      ["AUTHORITY", "EPSG", "4267"]\n    ],\n    ["PROJECTION", "Transverse_Mercator"],\n    ["PARAMETER", "latitude_of_origin", 0],\n    ["PARAMETER", "central_meridian", -87],\n    ["PARAMETER", "scale_factor", 0.9996],\n    ["PARAMETER", "false_easting", 500000],\n    ["PARAMETER", "false_northing", 0],\n    ["UNIT", "metre", 1, ["AUTHORITY", "EPSG", "9001"]],\n    ["AXIS", "Easting", "EAST"],\n    ["AXIS", "Northing", "NORTH"],\n    ["AUTHORITY", "EPSG", "26716"]\n  ]\n]\n')),(0,n.kt)("h2",{id:"advanced-usage"},"Advanced Usage"),(0,n.kt)("h3",{id:"special-properties"},"special properties"),(0,n.kt)("p",null,"We've also added special properties to the arrays, to ease lookup.  For each subarray,\nwe add its keyword as a property to its parent.  For example, you can look up the datum ,\nusing ",(0,n.kt)("inlineCode",{parentName:"p"},"data.PROJCS.GEOGCS.DATUM")," instead of ",(0,n.kt)("inlineCode",{parentName:"p"},"data[0][2][2]"),"."),(0,n.kt)("h3",{id:"repeated-keywords"},"repeated keywords"),(0,n.kt)("p",null,'Sometimes WKT will repeat some keywords for the same array.  For example, you might have multiple\n"PARAMETER',"[...]",'" as in the above example.  In this case, you will find an array of the multiple at\n"MULTIPLE_{KEYWORD}", as in "MULTIPLE_PARAMETER".'),(0,n.kt)("h3",{id:"raw-mode"},"raw mode"),(0,n.kt)("p",null,"By default, wkt-crs automatically converts any number to its JavaScript Float64 representation\nand converts variable keywords to strings.  If you need to preserve raw literal values as they appears in the WKT,\ncall parse with an options object where ",(0,n.kt)("inlineCode",{parentName:"p"},"raw")," is ",(0,n.kt)("inlineCode",{parentName:"p"},"true"),".  You might prefer raw mode if you want to recreate the original WKT later, don't trust the floating point precision of JavaScript numbers, or need to distinguish between a string with the same value as a variable name."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-typescript"},'parse(`UNIT["degree",0.0174532925199433,AUTHORITY["EPSG", "9122"]]`, WKTCRSLoader, { raw: true });\n{\n  data: [\n    // the first item in an array is always the keyword name of the array,\n    // so there\'s no need for "raw:UNIT"\n    "UNIT",\n    \n    // "degree" appears as a string in the source wkt\n    // with quotes around it, so there\'s no need to change it\n    "degree",\n    \n    // number is exactly the same as it appears in the wkt\n    "raw:0.0174532925199433",\n    \n    ["AUTHORITY", "EPSG", "9122"]\n  ]\n}\n\nparse(`AXIS["Easting",EAST]`, WKTCRSLoader, { raw: true });\n{\n  data: [\n    "AXIS",\n    "Easting",\n    "raw:EAST" // attribute is equal to the variable EAST and not the string "EAST"\n  ]\n}\n')),(0,n.kt)("h3",{id:"sorting"},"sorting"),(0,n.kt)("p",null,"You can sort the keywords in the parsed object."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-typescript"},"parse(data, WMTCRSLoader)\n\n [\n  'EXAMPLE',\n  [ 'AXIS', 'Northing', 'raw:NORTH' ],\n  [ 'AXIS', 'Easting', 'raw:EAST' ],\n];\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-typescript"},"parse(data, WMTCRSLoader, { sort: true })\n[\n  'EXAMPLE',\n  [ 'AXIS', 'Easting', 'raw:EAST' ],\n  [ 'AXIS', 'Northing', 'raw:NORTH' ]\n];\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-typescript"},'// only sort specific keywords\nparse(data, WMTCRSLoader, { keywords: ["PARAMETER"] })\n')),(0,n.kt)("h2",{id:"attribution"},"Attribution"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"WKTCRSLoader")," is based on a fork of ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/DanielJDufour/wkt-crs"},"https://github.com/DanielJDufour/wkt-crs")," under Creative Commons CC0 1.0 license."))}u.isMDXComponent=!0},63411:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/ogc-logo-60-8ee2c25a50ccc14293453512c707a0c4.png"}}]);